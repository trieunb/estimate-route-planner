angular.module('Erp').run(['$templateCache', function($templateCache) {
  'use strict';

  $templateCache.put('templates/company-info.html',
    "<div>\n" +
    "    <div>\n" +
    "      <!-- Nav tabs -->\n" +
    "      <ul class=\"nav nav-tabs\">\n" +
    "        <li class=\"active\"><a href=\"#settings\">Company Info</a></li>\n" +
    "        <li><a href=\"#settings\">Settings</a></li>\n" +
    "        <li><a href=\"#quickbooks-sync\">Quickbooks Synchronize</a></li>\n" +
    "      </ul>\n" +
    "      <!-- Tab panes -->\n" +
    "      <div class=\"tab-content\">\n" +
    "        <!-- Content of tab Company Info -->\n" +
    "        <div role=\"tabpanel\" class=\"tab-pane active\" id=\"conpanyInfo\" ng-controller=\"CompanyInfoCtrl\">\n" +
    "            <div class=\"row\">\n" +
    "                <form method=\"post\" name=\"companyForm\" ng-submit=\"submitForm()\" novalidate>\n" +
    "                    <!-- Content left of Company Info-->\n" +
    "                    <div class=\"col-sm-8\">\n" +
    "                        <div class=\"row space_nomal\">\n" +
    "                            <div class=\"form-group\">\n" +
    "                                <label class=\"control-label col-sm-3\">Company Name</label>\n" +
    "                                <div class=\"col-sm-9\">\n" +
    "                                    <input class=\"form-control\" type=\"text\" name=\"name\" ng-model=\"info.name\" required>\n" +
    "                                    <span style=\"color:red\" ng-show=\"companyForm.name.$dirty && companyForm.name.$invalid\">\n" +
    "                                        <span ng-show=\"companyForm.name.$error.required\">Company name is required.</span>\n" +
    "                                    </span>\n" +
    "                                </div>\n" +
    "                            </div>\n" +
    "                        </div>\n" +
    "                        <div class=\"row space_nomal\">\n" +
    "                            <div class=\"form-group\">\n" +
    "                                <label class=\"control-label col-sm-3\">Full Business Address</label>\n" +
    "                                <div class=\"col-sm-9\">\n" +
    "                                    <textarea rows=\"2\" class=\"form-control\" type=\"text\" name=\"full_address\" ng-model=\"info.full_address\" required></textarea>\n" +
    "                                    <span style=\"color:red\" ng-show=\"companyForm.full_address.$dirty && companyForm.full_address.$invalid\">\n" +
    "                                        <span ng-show=\"companyForm.full_address.$error.required\">Business Address is required.</span>\n" +
    "                                    </span>\n" +
    "                                </div>\n" +
    "                            </div>\n" +
    "                        </div>\n" +
    "                        <div class=\"row space_nomal\">\n" +
    "                            <div class=\"form-group\">\n" +
    "                                <label class=\"control-label col-sm-3\">Mailing Address</label>\n" +
    "                                <div class=\"col-sm-9\">\n" +
    "                                    <textarea rows=\"2\" class=\"form-control\" type=\"text\" name=\"mailing_address\" ng-model=\"info.mailing_address\" required></textarea>\n" +
    "                                    <span style=\"color:red\" ng-show=\"companyForm.mailing_address.$dirty && companyForm.full_address.$invalid\">\n" +
    "                                        <span ng-show=\"companyForm.mailing_address.$error.required\">Mailing Address is required.</span>\n" +
    "                                    </span>\n" +
    "                                </div>\n" +
    "                            </div>\n" +
    "                        </div>\n" +
    "                        <div class=\"row space_nomal\">\n" +
    "                            <div class=\"form-group\">\n" +
    "                                <label class=\"control-label col-sm-3\">Phone</label>\n" +
    "                                <div class=\"col-sm-9\">\n" +
    "                                    <input class=\"form-control\" type=\"tel\" name=\"primary_phone_number\"\n" +
    "                                        ng-model=\"info.primary_phone_number\" required ng-maxlength=\"50\">\n" +
    "                                    <span style=\"color:red\" ng-show=\"companyForm.primary_phone_number.$dirty && companyForm.primary_phone_number.$invalid\">\n" +
    "                                        <span ng-show=\"companyForm.primary_phone_number.$error.required\">Phone is required.</span>\n" +
    "                                        <span ng-show=\"companyForm.primary_phone_number.$error.maxlength\">Maximum by 50 characters!</span>\n" +
    "                                    </span>\n" +
    "                                </div>\n" +
    "                            </div>\n" +
    "                        </div>\n" +
    "                        <div class=\"row space_nomal\">\n" +
    "                            <div class=\"form-group\">\n" +
    "                                <label class=\"control-label col-sm-3\">Fax</label>\n" +
    "                                <div class=\"col-sm-9\">\n" +
    "                                    <input class=\"form-control\" type=\"tel\" name=\"fax\" ng-model=\"info.fax\"\n" +
    "                                        required ng-maxlength=\"50\">\n" +
    "                                    <span style=\"color:red\" ng-show=\"companyForm.fax.$dirty && companyForm.fax.$invalid\">\n" +
    "                                        <span ng-show=\"companyForm.fax.$error.required\">Fax is required.</span>\n" +
    "                                        <span ng-show=\"companyForm.fax.$error.maxlength\">Maximum by 50 characters!</span>\n" +
    "                                    </span>\n" +
    "                                </div>\n" +
    "                            </div>\n" +
    "                        </div>\n" +
    "                        <div class=\"row space_nomal\">\n" +
    "                            <div class=\"form-group\">\n" +
    "                                <label class=\"control-label col-sm-3\">Email</label>\n" +
    "                                <div class=\"col-sm-9\">\n" +
    "                                    <input class=\"form-control\" type=\"email\" name=\"email\" ng-model=\"info.email\" required>\n" +
    "                                    <span style=\"color:red\" ng-show=\"companyForm.email.$dirty && companyForm.email.$invalid\">\n" +
    "                                        <span ng-show=\"companyForm.email.$error.required\">Email is required.</span>\n" +
    "                                        <span ng-show=\"companyForm.email.$error.email\"> Not valid email!</span>\n" +
    "                                    </span>\n" +
    "                                </div>\n" +
    "                            </div>\n" +
    "                        </div>\n" +
    "                        <div class=\"row space_nomal\">\n" +
    "                            <div class=\"form-group\">\n" +
    "                                <label class=\"control-label col-sm-3\">Company Website</label>\n" +
    "                                <div class=\"col-sm-9\">\n" +
    "                                    <input class=\"form-control\" type=\"text\" name=\"website\" ng-model=\"info.website\" required>\n" +
    "                                    <span style=\"color:red\" ng-show=\"companyForm.website.$dirty && companyForm.website.$invalid\">\n" +
    "                                        <span ng-show=\"companyForm.website.$error.required\">Website is required.</span>\n" +
    "                                    </span>\n" +
    "                                </div>\n" +
    "                            </div>\n" +
    "                        </div>\n" +
    "                        <div class=\"row space_nomal\">\n" +
    "                            <div class=\"form-group\">\n" +
    "                                <label class=\"control-label col-sm-3\">Disclaimer</label>\n" +
    "                                <div class=\"col-sm-9\">\n" +
    "                                    <textarea class=\"form-control textarea_size\" type=\"text\"\n" +
    "                                        name=\"setting.disclaimer\"\n" +
    "                                        rows=\"5\"\n" +
    "                                    ng-model=\"info.disclaimer\" ng-required=\"true\"></textarea>\n" +
    "                                </div>\n" +
    "                            </div>\n" +
    "                        </div>\n" +
    "                        <div class=\"row space_nomal\">\n" +
    "                            <div class=\"form-group\">\n" +
    "                                <label class=\"control-label col-sm-3\">Accepted Agreement</label>\n" +
    "                                <div class=\"col-sm-9\">\n" +
    "                                    <textarea class=\"form-control textarea_size\" type=\"text\"\n" +
    "                                        name=\"setting.estimate_footer\"\n" +
    "                                        rows=\"5\"\n" +
    "                                    ng-model=\"info.estimate_footer\" ng-required=\"true\"></textarea>\n" +
    "                                </div>\n" +
    "                            </div>\n" +
    "                        </div>\n" +
    "                        <div class=\"row space_nomal\">\n" +
    "                            <div class=\"col-sm-9 col-sm-offset-3\">\n" +
    "                                <button type=\"submit\" class=\"btn btn-primary\" ng-disabled=\"companyForm.$invalid\">Save</button>\n" +
    "                            </div>\n" +
    "                        </div>\n" +
    "                    </div>\n" +
    "                </form>\n" +
    "                    <!-- End Content left of company info -->\n" +
    "\n" +
    "\n" +
    "                    <!-- Content right of Company info -->\n" +
    "                <form enctype=\"multipart/form-data\" name=\"logoForm\" id=\"logo-form\">\n" +
    "                    <div class=\"col-sm-4\">\n" +
    "                        <div class=\"row space_nomal\">\n" +
    "                            <div class=\"col-sm-12\">\n" +
    "                                <label class=\"control-label\">Company Logo</label></br>\n" +
    "                                <div class=\"logo_upload\" id=\"logo_upload\">\n" +
    "                                    <img ng-src=\"{{$root.baseERPPluginUrl}}{{info.logo_url || 'images/default-logo.png'}}\" id=\"logo_upload_img\">\n" +
    "                                    <input type=\"file\" id=\"logo-input\" ng-model=\"info.photofile\"\n" +
    "                                        name=\"logo\" accept=\"image/*\"\n" +
    "                                        required\n" +
    "                                        required-file\n" +
    "                                        onchange=\"angular.element(this).scope().imageChange(this)\"\n" +
    "                                        style=\"margin-left: 0;\"\n" +
    "                                        class=\"center_nomal\">\n" +
    "                                    <br>\n" +
    "                                    <button class=\"btn btn-success\" ng-disabled=\"logoForm.$invalid || !photofile\"\n" +
    "                                        ng-click=\"uploadLogo()\">Upload</button>\n" +
    "                                </div>\n" +
    "                            </div>\n" +
    "                        </div>\n" +
    "                    </div>\n" +
    "                <form>\n" +
    "            </div>\n" +
    "        </div>\n" +
    "        <!-- End Content of Company Info-->\n" +
    "      </div>\n" +
    "    </div>\n" +
    "</div>\n"
  );


  $templateCache.put('templates/crew-route/add.html',
    "<div ng-controller=\"AddCrewRouteCtrl\">\n" +
    "    <div class=\"row form-route\">\n" +
    "        <div class=\"col-lg-12\">\n" +
    "            <form-crew-route></form-crew-route>\n" +
    "            <hr>\n" +
    "        </div>\n" +
    "    </div>\n" +
    "    <div class=\"row\">\n" +
    "        <div class=\"col-sm-4\">\n" +
    "            <div class=\"queue-header\">\n" +
    "                <h5 class=\"route-box-title\">Assigned Routes (<span ng-bind=\"assignedEstimates.length\"></span>)</h5>\n" +
    "                <div class=\"queue-toolbar\">\n" +
    "                    Sort:\n" +
    "                    <select class=\"sort-by-select\"\n" +
    "                        ng-model=\"assigned_queue_sort_by\"\n" +
    "                        ng-change=\"sortAssignedQueue()\"\n" +
    "                        ng-options=\"sort.value as sort.label for sort in ::sortOptions\">\n" +
    "                    </select>\n" +
    "                </div>\n" +
    "            </div>\n" +
    "            <div class=\"assigned-routes\" ui-tree=\"assignedListDndOptions\" data-max-depth=\"1\" data-drag-delay=\"150\">\n" +
    "                <ul ui-tree-nodes ng-model=\"assignedEstimates\" ng-class=\"{'empty': assignedEstimates.length == 0}\">\n" +
    "                    <li ui-tree-node class=\"box-assign\" ng-repeat=\"estimate in assignedEstimates\" ng-class=\"{'highlight': estimate.highlight}\">\n" +
    "                        <div class=\"queue-item-info\">\n" +
    "                            <a href=\"#/edit-estimate/{{::estimate.id}}\" target=\"_blank\" ng-if=\"::hasCap('erpp_edit_estimates')\">\n" +
    "                                {{::estimate.job_customer_display_name}}</a>\n" +
    "                            <span ng-if=\"::!hasCap('erpp_edit_estimates')\">{{::estimate.job_customer_display_name}}</span>\n" +
    "                            <br>\n" +
    "                            {{:: estimate | estimateJobFullAddress }}\n" +
    "                            <br>\n" +
    "                            Priority: {{estimate.priority}}\n" +
    "                            <br>\n" +
    "                            <div ng-hide=\"viewOptions.compact\">\n" +
    "                                Phone: {{::estimate.primary_phone_number}}<br>\n" +
    "                                Date: {{::estimate.txn_date | date:'MM-dd-yyyy'}}<br>\n" +
    "                                Status: {{estimate.status}}<br>\n" +
    "                            </div>\n" +
    "                            Total: ${{::estimate.total}}<br>\n" +
    "                        </div>\n" +
    "                        <div class=\"queue-item-menu routed\">\n" +
    "                            <span ui-tree-handle class=\"drag-handler\"\n" +
    "                                ng-style=\"{'background-color': estimate.markerOptions.label.backgroundColor}\">\n" +
    "                                {{estimate.markerOptions.label.text}}</span>\n" +
    "                            <br>\n" +
    "                            <span class=\"glyphicon glyphicon-save\"\n" +
    "                                title=\"Move to accepted queue\"\n" +
    "                                ng-click=\"moveItemToPendingQueue(estimate)\"></span>\n" +
    "                            <br>\n" +
    "                            <span class=\"glyphicon glyphicon-map-marker\"\n" +
    "                                title=\"Locate on map\"\n" +
    "                                ng-click=\"openMarker(estimate)\"></span>\n" +
    "                        </div>\n" +
    "                    </li>\n" +
    "                </ul>\n" +
    "            </div>\n" +
    "\n" +
    "            <div class=\"queue-header\">\n" +
    "                <h5 class=\"route-box-title\">Accepted Estimates (<span ng-bind=\"pendingEstimates.length\"></span>)</h5>\n" +
    "                <div class=\"queue-toolbar\">\n" +
    "                    Sort:\n" +
    "                    <select class=\"sort-by-select\"\n" +
    "                        ng-model=\"pending_queue_sort_by\"\n" +
    "                        ng-change=\"sortPendingQueue()\"\n" +
    "                        ng-options=\"sort.value as sort.label for sort in ::sortOptions\">\n" +
    "                    </select>\n" +
    "                </div>\n" +
    "            </div>\n" +
    "\n" +
    "            <div class=\"assigned-routes\" ui-tree=\"pendingListDndOptions\" data-max-depth=\"1\" data-drag-delay=\"150\">\n" +
    "                <ul ui-tree-nodes ng-model=\"pendingEstimates\" ng-class=\"{'empty': pendingEstimates.length == 0}\">\n" +
    "                    <li ui-tree-node class=\"box-assign\" ng-repeat=\"estimate in pendingEstimates\" ng-class=\"{'highlight': estimate.highlight}\">\n" +
    "                        <div class=\"queue-item-info\">\n" +
    "                            <a href=\"#/edit-estimate/{{::estimate.id}}\" target=\"_blank\" ng-if=\"::hasCap('erpp_edit_estimates')\">\n" +
    "                                {{::estimate.job_customer_display_name}}</a>\n" +
    "                            <span ng-if=\"::!hasCap('erpp_edit_estimates')\">{{::estimate.job_customer_display_name}}</span>\n" +
    "                            <br>\n" +
    "                            {{:: estimate | estimateJobFullAddress }}\n" +
    "                            <br>\n" +
    "                            Priority: {{estimate.priority}}\n" +
    "                            <br>\n" +
    "                            <div ng-hide=\"viewOptions.compact\">\n" +
    "                                Phone: {{::estimate.primary_phone_number}}<br>\n" +
    "                                Date: {{::estimate.txn_date | date:'MM-dd-yyyy'}}<br>\n" +
    "                                Status: {{estimate.status}}<br>\n" +
    "                            </div>\n" +
    "                            Total: ${{::estimate.total}}<br>\n" +
    "                        </div>\n" +
    "                        <div class=\"queue-item-menu\">\n" +
    "                            <span ui-tree-handle class=\"drag-handler glyphicon glyphicon-th-large\"></span>\n" +
    "                            <br>\n" +
    "                            <span class=\"glyphicon glyphicon-open\"\n" +
    "                                title=\"Move to assigned queue\"\n" +
    "                                ng-click=\"moveItemToAssignedQueue(estimate)\"></span>\n" +
    "                            <br>\n" +
    "                            <span class=\"glyphicon glyphicon-map-marker\"\n" +
    "                                title=\"Locate on map\"\n" +
    "                                ng-click=\"openMarker(estimate)\"></span>\n" +
    "                        </div>\n" +
    "                    </li>\n" +
    "                </ul>\n" +
    "            </div>\n" +
    "        </div>\n" +
    "        <div class=\"col-sm-8\">\n" +
    "            <div class=\"tools-box\">\n" +
    "                <label class=\"checkbox inline\">\n" +
    "                    <input type=\"checkbox\" ng-model=\"viewOptions.compact\">Compact view mode</label>\n" +
    "            </div>\n" +
    "            <div class=\"gmap-container\">\n" +
    "                <ui-gmap-google-map center='map.options.center' zoom='map.options.zoom' control=\"map.control\">\n" +
    "                    <ui-gmap-marker\n" +
    "                        icon=\"::startMarkerIcon\"\n" +
    "                        idkey=\"routeOrigin\"\n" +
    "                        coords=\"routeOrigin\">\n" +
    "                        <ui-gmap-window>\n" +
    "                            <p>\n" +
    "                                {{::routeOriginAddress}}\n" +
    "                            </p>\n" +
    "                        </ui-gmap-window>\n" +
    "                    </ui-gmap-marker>\n" +
    "\n" +
    "                    <ui-gmap-marker ng-repeat=\"estimate in pendingEstimates\"\n" +
    "                        idkey=\"$index\"\n" +
    "                        coords=\"estimate.coords\"\n" +
    "                        events=\"estimate.markerEvents\"\n" +
    "                        options=\"estimate.markerOptions\">\n" +
    "                        <ui-gmap-window show=\"estimate.show_infor_window\" closeClick=\"estimate.show_infor_window = false; estimate.highlight = false\">\n" +
    "                            <p>\n" +
    "                                <a href=\"#/edit-estimate/{{::estimate.id}}\" target=\"_blank\" ng-if=\"::$root.hasCap('erpp_edit_estimates')\">{{::estimate.job_customer_display_name}}</a>\n" +
    "                                <span ng-if=\"::!$root.hasCap('erpp_edit_estimates')\">{{::estimate.job_customer_display_name}}</span>\n" +
    "                                <br>\n" +
    "                                {{:: estimate | estimateJobFullAddress }}\n" +
    "                                <br>\n" +
    "                                Priority: {{estimate.priority}}\n" +
    "                                <br>\n" +
    "                                Total: ${{::estimate.total}}\n" +
    "                                <span ng-hide=\"$parent.viewOptions.compact\">\n" +
    "                                    <br>\n" +
    "                                    Phone: {{::estimate.primary_phone_number}}<br>\n" +
    "                                    Date: {{::estimate.txn_date | date:'MM-dd-yyyy'}}<br>\n" +
    "                                    Status: {{estimate.status}}\n" +
    "                                </span>\n" +
    "                            </p>\n" +
    "                        </ui-gmap-window>\n" +
    "                    </ui-gmap-marker>\n" +
    "\n" +
    "                    <ui-gmap-marker ng-repeat=\"estimate in assignedEstimates\"\n" +
    "                        idkey=\"$index\"\n" +
    "                        coords=\"estimate.coords\"\n" +
    "                        events=\"estimate.markerEvents\"\n" +
    "                        options=\"estimate.markerOptions\">\n" +
    "                        <ui-gmap-window show=\"estimate.show_infor_window\" closeClick=\"estimate.show_infor_window = false; estimate.highlight = false\">\n" +
    "                            <p>\n" +
    "                                <a href=\"#/edit-estimate/{{::estimate.id}}\" target=\"_blank\" ng-if=\"::$root.hasCap('erpp_edit_estimates')\">{{::estimate.job_customer_display_name}}</a>\n" +
    "                                <span ng-if=\"::!$root.hasCap('erpp_edit_estimates')\">{{::estimate.job_customer_display_name}}</span>\n" +
    "                                <br>\n" +
    "                                {{:: estimate | estimateJobFullAddress }}\n" +
    "                                <br>\n" +
    "                                Priority: {{estimate.priority}}\n" +
    "                                <br>\n" +
    "                                Total: ${{::estimate.total}}\n" +
    "                                <span ng-hide=\"$parent.viewOptions.compact\">\n" +
    "                                    <br>\n" +
    "                                    Phone: {{::estimate.primary_phone_number}}<br>\n" +
    "                                    Date: {{::estimate.txn_date | date:'MM-dd-yyyy'}}<br>\n" +
    "                                    Status: {{estimate.status}}\n" +
    "                                </span>\n" +
    "                            </p>\n" +
    "                        </ui-gmap-window>\n" +
    "                    </ui-gmap-marker>\n" +
    "\n" +
    "                </ui-gmap-google-map>\n" +
    "            </div>\n" +
    "\n" +
    "            <h4 class=\"h4-title\">Recent Saved Routes</h4>\n" +
    "            <table class=\"table table-bordered table-fixed header-fixed\">\n" +
    "                <thead>\n" +
    "                  <tr>\n" +
    "                    <th>Title</th>\n" +
    "                    <th>Created At</th>\n" +
    "                    <th>Action</th>\n" +
    "                  </tr>\n" +
    "                </thead>\n" +
    "                <tbody>\n" +
    "                  <tr ng-repeat=\"route in recentRoutes\">\n" +
    "                    <td><span>{{::route.title}}</span></td>\n" +
    "                    <td><span>{{::route.created_at | datetimeToDate:'MM-dd-yyyy'}}</span></td>\n" +
    "                    <td>\n" +
    "                        <a href=\"#/edit-crew-route/{{route.id}}\">View</a>\n" +
    "                    </td>\n" +
    "                  </tr>\n" +
    "                  <tr ng-if=\"!$root.isBusy && recentRoutes.length == 0\">\n" +
    "                      <td colspan=\"4\" class=\"text-center\">\n" +
    "                          No routes created yet\n" +
    "                      </td>\n" +
    "                  </tr>\n" +
    "                </tbody>\n" +
    "            </table>\n" +
    "        </div>\n" +
    "    </div>\n" +
    "</div>\n"
  );


  $templateCache.put('templates/crew-route/edit.html',
    "<div ng-controller=\"EditCrewRouteCtrl\">\n" +
    "    <div class=\"row form-route\">\n" +
    "        <div class=\"col-lg-12\">\n" +
    "            <form-crew-route></form-crew-route>\n" +
    "            <hr>\n" +
    "        </div>\n" +
    "    </div>\n" +
    "    <div class=\"row\">\n" +
    "        <div class=\"col-sm-4\">\n" +
    "            <div class=\"queue-header\">\n" +
    "                <h5 class=\"route-box-title\">Assigned Routes (<span ng-bind=\"assignedEstimates.length\"></span>)</h5>\n" +
    "                <div class=\"queue-toolbar\">\n" +
    "                    Sort:\n" +
    "                    <select class=\"sort-by-select\"\n" +
    "                        ng-model=\"assigned_queue_sort_by\"\n" +
    "                        ng-change=\"sortAssignedQueue()\"\n" +
    "                        ng-options=\"sort.value as sort.label for sort in ::sortOptions\">\n" +
    "                    </select>\n" +
    "                </div>\n" +
    "            </div>\n" +
    "\n" +
    "            <div class=\"assigned-routes\" ui-tree=\"assignedListDndOptions\" data-max-depth=\"1\" data-drag-delay=\"150\">\n" +
    "                <ul ui-tree-nodes ng-model=\"assignedEstimates\" ng-class=\"{'empty': assignedEstimates.length == 0}\">\n" +
    "                    <li ui-tree-node class=\"box-assign\" ng-repeat=\"estimate in assignedEstimates\" ng-class=\"{'highlight': estimate.highlight}\">\n" +
    "                        <div class=\"queue-item-info\">\n" +
    "                            <a href=\"#/edit-estimate/{{::estimate.id}}\" target=\"_blank\" ng-if=\"::hasCap('erpp_edit_estimates')\">{{::estimate.job_customer_display_name}}</a>\n" +
    "                            <span ng-if=\"::!hasCap('erpp_edit_estimates')\">{{::estimate.job_customer_display_name}}</span>\n" +
    "                            <br>\n" +
    "                            {{:: estimate | estimateJobFullAddress }}\n" +
    "                            <br>\n" +
    "                            Priority: {{estimate.priority}}\n" +
    "                            <br>\n" +
    "                            <div ng-hide=\"viewOptions.compact\">\n" +
    "                                Phone: {{::estimate.primary_phone_number}}<br>\n" +
    "                                Date: {{::estimate.txn_date | date:'MM-dd-yyyy'}}<br>\n" +
    "                                Status: {{estimate.status}}\n" +
    "                            </div>\n" +
    "                            Total: ${{::estimate.total}}<br>\n" +
    "                        </div>\n" +
    "                        <div class=\"queue-item-menu routed\">\n" +
    "                            <span ui-tree-handle class=\"drag-handler\"\n" +
    "                                ng-style=\"{'background-color': estimate.markerOptions.label.backgroundColor}\">\n" +
    "                                {{estimate.markerOptions.label.text}}</span>\n" +
    "                            <br>\n" +
    "                            <span class=\"glyphicon glyphicon-save\"\n" +
    "                                title=\"Move to accepted queue\"\n" +
    "                                ng-click=\"moveItemToPendingQueue(estimate)\"></span>\n" +
    "                            <br>\n" +
    "                            <span class=\"glyphicon glyphicon-map-marker\"\n" +
    "                                title=\"Locate on map\"\n" +
    "                                ng-click=\"openMarker(estimate)\"></span>\n" +
    "                        </div>\n" +
    "                    </li>\n" +
    "                </ul>\n" +
    "            </div>\n" +
    "\n" +
    "            <div class=\"queue-header\">\n" +
    "                <h5 class=\"route-box-title\">Accepted Estimates (<span ng-bind=\"pendingEstimates.length\"></span>)</h5>\n" +
    "                <div class=\"queue-toolbar\">\n" +
    "                    Sort:\n" +
    "                    <select class=\"sort-by-select\"\n" +
    "                        ng-model=\"pending_queue_sort_by\"\n" +
    "                        ng-change=\"sortPendingQueue()\"\n" +
    "                        ng-options=\"sort.value as sort.label for sort in ::sortOptions\">\n" +
    "                    </select>\n" +
    "                </div>\n" +
    "            </div>\n" +
    "            <div class=\"assigned-routes\" ui-tree=\"pendingListDndOptions\" data-max-depth=\"1\" data-drag-delay=\"150\">\n" +
    "                <ul ui-tree-nodes ng-model=\"pendingEstimates\" ng-class=\"{'empty': pendingEstimates.length == 0}\">\n" +
    "                    <li ui-tree-node class=\"box-assign\" ng-repeat=\"estimate in pendingEstimates\" ng-class=\"{'highlight': estimate.highlight}\">\n" +
    "                        <div class=\"queue-item-info\">\n" +
    "                            <a href=\"#/edit-estimate/{{::estimate.id}}\" target=\"_blank\" ng-if=\"::hasCap('erpp_edit_estimates')\">{{::estimate.job_customer_display_name}}</a>\n" +
    "                            <span ng-if=\"::!hasCap('erpp_edit_estimates')\">{{::estimate.job_customer_display_name}}</span>\n" +
    "                            <br>\n" +
    "                            {{:: estimate | estimateJobFullAddress }}\n" +
    "                            <br>\n" +
    "                            Priority: {{estimate.priority}}\n" +
    "                            <br>\n" +
    "                            <div ng-hide=\"viewOptions.compact\">\n" +
    "                                Phone: {{::estimate.primary_phone_number}}<br>\n" +
    "                                Date: {{::estimate.txn_date | date:'MM-dd-yyyy'}}<br>\n" +
    "                                Status: {{estimate.status}}\n" +
    "                            </div>\n" +
    "                            Total: ${{::estimate.total}}<br>\n" +
    "                        </div>\n" +
    "                        <div class=\"queue-item-menu\">\n" +
    "                            <span ui-tree-handle class=\"drag-handler glyphicon glyphicon-th-large\"></span>\n" +
    "                            <br>\n" +
    "                            <span class=\"glyphicon glyphicon-open\"\n" +
    "                                title=\"Move to assigned queue\"\n" +
    "                                ng-click=\"moveItemToAssignedQueue(estimate)\"></span>\n" +
    "                            <br>\n" +
    "                            <span class=\"glyphicon glyphicon-map-marker\"\n" +
    "                                title=\"Locate on map\"\n" +
    "                                ng-click=\"openMarker(estimate)\"></span>\n" +
    "                        </div>\n" +
    "                    </li>\n" +
    "                </ul>\n" +
    "            </div>\n" +
    "        </div>\n" +
    "        <div class=\"col-sm-8\">\n" +
    "            <div class=\"tools-box\">\n" +
    "                <label class=\"checkbox inline\">\n" +
    "                    <input type=\"checkbox\" ng-model=\"viewOptions.compact\">Compact view mode</label>\n" +
    "            </div>\n" +
    "            <div class=\"gmap-container\">\n" +
    "                <ui-gmap-google-map center='map.options.center' zoom='map.options.zoom' control=\"map.control\">\n" +
    "                    <ui-gmap-marker\n" +
    "                        icon=\"::startMarkerIcon\"\n" +
    "                        idkey=\"routeOrigin\"\n" +
    "                        coords=\"routeOrigin\">\n" +
    "                        <ui-gmap-window>\n" +
    "                            <p>\n" +
    "                                {{::routeOriginAddress}}\n" +
    "                            </p>\n" +
    "                        </ui-gmap-window>\n" +
    "                    </ui-gmap-marker>\n" +
    "\n" +
    "                    <ui-gmap-marker ng-repeat=\"estimate in pendingEstimates\"\n" +
    "                        idkey=\"$index\"\n" +
    "                        coords=\"estimate.coords\"\n" +
    "                        events=\"estimate.markerEvents\"\n" +
    "                        options=\"estimate.markerOptions\">\n" +
    "                        <ui-gmap-window show=\"estimate.show_infor_window\" closeClick=\"estimate.show_infor_window = false; estimate.highlight = false\">\n" +
    "                            <p>\n" +
    "                                <a href=\"#/edit-estimate/{{::estimate.id}}\" target=\"_blank\" ng-if=\"::$root.hasCap('erpp_edit_estimates')\">{{::estimate.job_customer_display_name}}</a>\n" +
    "                                <span ng-if=\"::!$root.hasCap('erpp_edit_estimates')\">{{::estimate.job_customer_display_name}}</span>\n" +
    "                                <br>\n" +
    "                                {{:: estimate | estimateJobFullAddress }}\n" +
    "                                <br>\n" +
    "                                Priority: {{estimate.priority}}\n" +
    "                                <br>\n" +
    "                                Total: ${{::estimate.total}}\n" +
    "                                <span ng-hide=\"$parent.viewOptions.compact\">\n" +
    "                                    <br>\n" +
    "                                    Phone: {{::estimate.primary_phone_number}}<br>\n" +
    "                                    Date: {{::estimate.txn_date | date:'MM-dd-yyyy'}}<br>\n" +
    "                                    Status: {{estimate.status}}\n" +
    "                                </span>\n" +
    "                            </p>\n" +
    "                        </ui-gmap-window>\n" +
    "                    </ui-gmap-marker>\n" +
    "\n" +
    "                    <ui-gmap-marker ng-repeat=\"estimate in assignedEstimates\"\n" +
    "                        idkey=\"$index\"\n" +
    "                        coords=\"estimate.coords\"\n" +
    "                        events=\"estimate.markerEvents\"\n" +
    "                        options=\"estimate.markerOptions\">\n" +
    "                        <ui-gmap-window show=\"estimate.show_infor_window\" closeClick=\"estimate.show_infor_window = false; estimate.highlight = false\">\n" +
    "                            <p>\n" +
    "                                <a href=\"#/edit-estimate/{{::estimate.id}}\" target=\"_blank\" ng-if=\"::$root.hasCap('erpp_edit_estimates')\">{{::estimate.job_customer_display_name}}</a>\n" +
    "                                <span ng-if=\"::!$root.hasCap('erpp_edit_estimates')\">{{::estimate.job_customer_display_name}}</span>\n" +
    "                                <br>\n" +
    "                                {{:: estimate | estimateJobFullAddress }}\n" +
    "                                <br>\n" +
    "                                Priority: {{estimate.priority}}\n" +
    "                                <br>\n" +
    "                                Total: ${{::estimate.total}}\n" +
    "                                <span ng-hide=\"$parent.viewOptions.compact\">\n" +
    "                                    <br>\n" +
    "                                    Phone: {{::estimate.primary_phone_number}}<br>\n" +
    "                                    Date: {{::estimate.txn_date | date:'MM-dd-yyyy'}}<br>\n" +
    "                                    Status: {{estimate.status}}\n" +
    "                                </span>\n" +
    "                            </p>\n" +
    "                        </ui-gmap-window>\n" +
    "                    </ui-gmap-marker>\n" +
    "\n" +
    "                </ui-gmap-google-map>\n" +
    "            </div>\n" +
    "\n" +
    "            <div class=\"row\" style=\"margin-top: 10px\">\n" +
    "                <div class=\"col-md-6\">\n" +
    "                    <h4 class=\"h4-title\">Current Assigned Estimates</h4>\n" +
    "                </div>\n" +
    "                <div class=\"col-md-6 text-right\">\n" +
    "                    <a href=\"#/crew-route/{{::route.id}}/work-order\" class=\"btn btn-success\">Work Order</a>\n" +
    "                </div>\n" +
    "            </div>\n" +
    "            <table class=\"table table-bordered table-fixed header-fixed\">\n" +
    "                <thead>\n" +
    "                  <tr>\n" +
    "                    <th>Date</th>\n" +
    "                    <th>Customer</th>\n" +
    "                    <th>Number</th>\n" +
    "                    <th ng-if=\"::hasCap('erpp_view_estimate_total')\">Total</th>\n" +
    "                    <th>Status</th>\n" +
    "                    <th>Priority</th>\n" +
    "                    <th ng-if=\"::hasCap('erpp_edit_estimates')\">\n" +
    "                    </th>\n" +
    "                  </tr>\n" +
    "                </thead>\n" +
    "                <tbody>\n" +
    "                  <tr ng-repeat=\"est in currentAssignedEstimates\">\n" +
    "                    <td><span>{{::est.txn_date | date:'MM-dd-yyyy'}}</span></td>\n" +
    "                    <td><span>{{::est.job_customer_display_name}}</span></td>\n" +
    "                    <td><span>{{::est.doc_number}}</span></td>\n" +
    "                    <td ng-if=\"::hasCap('erpp_view_estimate_total')\"><span>${{::est.total}}</span></td>\n" +
    "                    <td><span>{{::est.status}}</span></td>\n" +
    "                    <td><span>{{::est.priority}}</span></td>\n" +
    "                    <td ng-if=\"::hasCap('erpp_edit_estimates')\">\n" +
    "                        <a href=\"#/edit-estimate/{{est.id}}\">Edit</a>\n" +
    "                    </td>\n" +
    "                  </tr>\n" +
    "                  <tr ng-if=\"!$root.isBusy && currentAssignedEstimates.length == 0\">\n" +
    "                      <td colspan=\"6\" class=\"text-center\">\n" +
    "                          There is no assigned estimates\n" +
    "                      </td>\n" +
    "                  </tr>\n" +
    "                </tbody>\n" +
    "            </table>\n" +
    "        </div>\n" +
    "    </div>\n" +
    "</div>\n"
  );


  $templateCache.put('templates/crew-route/form.html',
    "<form name=\"routeForm\" ng-submit=\"saveRoute()\" class=\"form-route\">\n" +
    "    <div class=\"row\">\n" +
    "        <div class=\"col-md-9 col-sm-12\">\n" +
    "            <label for=\"title\" class=\"required col-sm-1 n-p\">Title: </label>\n" +
    "            <div class=\"col-sm-11 n-p\">\n" +
    "                <input type=\"text\" class=\"form-control\" name=\"title\" ng-model=\"route.title\" ng-required=\"true\"/>\n" +
    "            </div>\n" +
    "        </div>\n" +
    "        <div class=\"col-md-3 col-sm-12\">\n" +
    "            <div class=\"btn-action text-right\">\n" +
    "                <button ng-click=\"printRoute()\" class=\"btn btn-default\" type=\"button\" ng-if=\"::hasCap('erpp_print_crew_routes')\">Print</button>\n" +
    "                <button class=\"btn btn-primary\" type=\"submit\" ng-disabled=\"routeForm.$invalid\">Save</button>\n" +
    "            </div>\n" +
    "        </div>\n" +
    "    </div>\n" +
    "</form>\n"
  );


  $templateCache.put('templates/crew-route/list.html',
    "<div id=\"list-referral\" ng-controller=\"ListCrewRouteCtrl\">\r" +
    "\n" +
    "  <div class=\"row\" style=\"margin-bottom: 10px\">\r" +
    "\n" +
    "        <div class=\"col-md-4 col-xs-12\">\r" +
    "\n" +
    "            <a href=\"#/new-crew-route\" ng-if=\"::hasCap('erpp_create_crew_routes')\"\r" +
    "\n" +
    "                class=\"btn btn-success\">Add new</a>\r" +
    "\n" +
    "        </div>\r" +
    "\n" +
    "        <div class=\"col-md-8 col-xs-12\">\r" +
    "\n" +
    "            <form name=\"searchRouteForm\" ng-submit=\"searchRoute()\">\r" +
    "\n" +
    "                <div class=\"col-md-9 n-p\">\r" +
    "\n" +
    "                    <input class=\"form-control\" name=\"search\" placeholder=\"Search in title ..\"\r" +
    "\n" +
    "                        ng-model=\"filter.keyword\">\r" +
    "\n" +
    "                </div>\r" +
    "\n" +
    "                <div class=\"col-md-3 text-right n-p\">\r" +
    "\n" +
    "                    <button class=\"btn btn-info\" type=\"submit\">Search</button>\r" +
    "\n" +
    "                    <button class=\"btn btn-default btn-sm\" type=\"button\"\r" +
    "\n" +
    "                      name=\"search\" ng-click=\"clearSearch()\">\r" +
    "\n" +
    "                      Clear\r" +
    "\n" +
    "                    </button>\r" +
    "\n" +
    "                </div>\r" +
    "\n" +
    "            </form>\r" +
    "\n" +
    "        </div>\r" +
    "\n" +
    "  </div>\r" +
    "\n" +
    "\r" +
    "\n" +
    "  <table class=\"table table-bordered table-hover table-fixed header-fixed\">\r" +
    "\n" +
    "    <thead>\r" +
    "\n" +
    "        <tr>\r" +
    "\n" +
    "          <th style=\"width: 50px\">ID</th>\r" +
    "\n" +
    "          <th>Title</th>\r" +
    "\n" +
    "          <th style=\"width: 155px\">Created at</th>\r" +
    "\n" +
    "          <th style=\"width: 140px\">Action</th>\r" +
    "\n" +
    "        </tr>\r" +
    "\n" +
    "    </thead>\r" +
    "\n" +
    "    <tbody>\r" +
    "\n" +
    "        <tr ng-repeat=\"route in routes\">\r" +
    "\n" +
    "          <td>\r" +
    "\n" +
    "            <a href=\"#/edit-crew-route/{{::route.id}}\" ng-if=\"::hasCap('erpp_edit_crew_routes')\"><span>{{::route.id}}</span></a>\r" +
    "\n" +
    "            <span ng-if=\"::!hasCap('erpp_edit_crew_routes')\">{{::route.id}}</span>\r" +
    "\n" +
    "          </td>\r" +
    "\n" +
    "          <td>\r" +
    "\n" +
    "            <a href=\"#/edit-crew-route/{{::route.id}}\" ng-if=\"::hasCap('erpp_edit_crew_routes')\"><span>{{::route.title}}</span></a>\r" +
    "\n" +
    "            <span ng-if=\"::!hasCap('erpp_edit_crew_routes')\">{{::route.title}}</span>\r" +
    "\n" +
    "          </td>\r" +
    "\n" +
    "          <td><span>{{::route.created_at | datetimeToDate:'MM-dd-yyyy'}}</span></td>\r" +
    "\n" +
    "          <td>\r" +
    "\n" +
    "            <a href=\"#/edit-crew-route/{{::route.id}}\" ng-if=\"::hasCap('erpp_edit_crew_routes')\">Edit</a>\r" +
    "\n" +
    "            |\r" +
    "\n" +
    "            <a href=\"#/crew-route/{{::route.id}}/work-order\" ng-if=\"::hasCap('erpp_edit_crew_routes')\">Work Order</a>\r" +
    "\n" +
    "          </td>\r" +
    "\n" +
    "        </tr>\r" +
    "\n" +
    "    </tbody>\r" +
    "\n" +
    "  </table>\r" +
    "\n" +
    "    <p ng-if=\"!$root.isBusy && routes.length == 0\" class=\"text-center\">\r" +
    "\n" +
    "        No results were found!\r" +
    "\n" +
    "    </p>\r" +
    "\n" +
    "    <erp-pagination></erp-pagination>\r" +
    "\n" +
    "</div>\r" +
    "\n"
  );


  $templateCache.put('templates/crew-route/work-order.html',
    "<div ng-controller=\"WorkOrderCtrl\">\n" +
    "    <div class=\"row\">\n" +
    "        <div class=\"col-md-12 text-right\">\n" +
    "            <button type=\"button\"\n" +
    "                ng-if=\"work_order.is_saved\"\n" +
    "                ng-click=\"reset()\" title=\"Clear saved info and re-create work order\"\n" +
    "                class=\"pull-left btn btn-warning hide-print\">\n" +
    "                <span class=\"glyphicon glyphicon-flash\"></span> Reset</button>\n" +
    "            <button type=\"button\" ng-click=\"print()\" class=\"btn btn-default hide-print\">Print</button>\n" +
    "            <button type=\"button\" ng-click=\"save()\" class=\"btn btn-primary hide-print\">Save</button>\n" +
    "        </div>\n" +
    "    </div>\n" +
    "\n" +
    "    <div id=\"form-work-order\">\n" +
    "        <h3 class=\"text-center legend\"><b>Work Order</b></h3>\n" +
    "        <form name=\"workOrderForm\" ng-submit=\"save()\">\n" +
    "            <div class=\"route-title\">\n" +
    "                <strong>Route Name:</strong> {{ ::route.title}} <small><a class=\"hide-print\" href=\"#/edit-crew-route/{{::route.id}}\">(Edit)</a></small>\n" +
    "            </div>\n" +
    "            <div class=\"equipment-list\">\n" +
    "                <strong>Equipment list:</strong> <span class=\"print-only\" ng-bind=\"work_order.equipment_list\"></span>\n" +
    "                <input type=\"text\" autofocus class=\"hide-print input-equipment-list\" ng-model=\"work_order.equipment_list\">\n" +
    "            </div>\n" +
    "            <div class=\"start-time\">\n" +
    "                <strong>Start time:</strong> <span ng-bind=\"work_order.start_time\" class=\"print-only\"></span>\n" +
    "                <input type=\"text\" class=\"input-time hide-print\" ng-model=\"work_order.start_time\">\n" +
    "            </div>\n" +
    "            <input type=\"submit\" class=\"hide\"/>\n" +
    "        </form>\n" +
    "        <div class=\"estimates\">\n" +
    "            <ul class=\"list-unstyled\">\n" +
    "                <li ng-repeat=\"est in route.assignedEstimates\">\n" +
    "                    <p>\n" +
    "                        <strong>ETA:</strong> <span ng-bind=\"est.eta\" class=\"print-only\"></span>\n" +
    "                        <input type=\"text\" class=\"input-time hide-print\" ng-model=\"est.eta\">\n" +
    "                        <br>\n" +
    "                        <span>Estimate #{{::est.doc_number}}</span>\n" +
    "                        <span class=\"hide-print\"><a href=\"#edit-estimate/{{::est.id}}\">(Edit)</a></span>\n" +
    "                        <br>\n" +
    "                        Estimator: {{::est.estimators.join(', ')}}\n" +
    "                    </p>\n" +
    "                    <p>\n" +
    "                        <strong>Job Information:</strong>\n" +
    "                        <br>\n" +
    "                        {{ ::est.job_customer_display_name }}\n" +
    "                        <br>\n" +
    "                        {{ ::est | estimateJobFullAddress }} {{ ::est.job_country}}\n" +
    "                    </p>\n" +
    "                    <p>\n" +
    "                        <strong>Location Notes:</strong>\n" +
    "                        <br>\n" +
    "                        {{ ::est.location_notes}}\n" +
    "                    </p>\n" +
    "                    <p>\n" +
    "                        <strong>Product and Services:</strong>\n" +
    "                    </p>\n" +
    "                    <ul class=\"list-unstyled lines\">\n" +
    "                        <li ng-repeat=\"line in ::est.lines\"\n" +
    "                            class=\"worker-order-line\"\n" +
    "                            ng-class=\"{'line-invisible': !line.visible, 'hide-print': !line.visible}\">\n" +
    "                            <div ng-if=\"!line.is_empty\">\n" +
    "                                <input\n" +
    "                                    type=\"checkbox\"\n" +
    "                                        ng-model=\"line.visible\"\n" +
    "                                        class=\"hide-print\" title=\"Hide/Show on print\">\n" +
    "                                <textarea class=\"hide-print input-worker-order-line\" type=\"text\"\n" +
    "                                    ng-if=\"!line.is_empty\"\n" +
    "                                    ng-readonly=\"!line.visible\"\n" +
    "                                    ng-model=\"line.worker_order_line\">\n" +
    "                                </textarea>\n" +
    "                                <span class=\"print-only\" ng-bind-html=\"line.worker_order_line | multilineTextToHtml\"></span>\n" +
    "                            </div>\n" +
    "                        </li>\n" +
    "                    </ul>\n" +
    "                </li>\n" +
    "            </ul>\n" +
    "        </div>\n" +
    "    </div>\n" +
    "    <div class=\"row\">\n" +
    "        <div class=\"col-md-12 text-right ng-cloak\">\n" +
    "            <button type=\"button\" ng-click=\"print()\" class=\"hide-print btn btn-default\">Print</button>\n" +
    "            <button type=\"button\" ng-click=\"save()\" class=\"hide-print btn btn-primary\">Save</button>\n" +
    "        </div>\n" +
    "    </div>\n" +
    "</div>\n"
  );


  $templateCache.put('templates/customer/modal.html',
    "<div class=\"\">\n" +
    "    <div class=\"loading-overlay\" ng-if=\"isBusy\">\n" +
    "        <div style=\"position: relative; display: inline-block\">\n" +
    "            <div id=\"spinner\"></div>\n" +
    "        </div>\n" +
    "    </div>\n" +
    "    <div class=\"modal-header\">\n" +
    "        <button type=\"button\" class=\"close\" aria-label=\"Close\" ng-click=\"close()\"><span aria-hidden=\"true\">×</span></button>\n" +
    "        <h3 class=\"modal-title\">Customer Information</h3>\n" +
    "    </div>\n" +
    "    <div class=\"modal-body\">\n" +
    "        <form method=\"post\" class=\"form-horizontal\" name=\"customerForm\" ng-submit=\"save()\">\n" +
    "            <input type=\"submit\" class=\"hide\">\n" +
    "            <div class=\"row\">\n" +
    "                <div class=\"col-md-6 col-sm-12\">\n" +
    "                    <div class=\"form-group\">\n" +
    "                        <div class=\"col-md-6 col-sm-12\">\n" +
    "                            <label for=\"first_name\">First name</label>\n" +
    "                            <input type=\"text\"\n" +
    "                                autofocus\n" +
    "                                class=\"form-control\"\n" +
    "                                name=\"first_name\"\n" +
    "                                ng-maxlength=\"25\"\n" +
    "                                ng-change=\"fillDisplayName()\"\n" +
    "                                ng-model=\"customer.given_name\">\n" +
    "                        </div>\n" +
    "                        <div class=\"col-md-6 col-sm-12\">\n" +
    "                            <label for=\"last_name\">Last name</label>\n" +
    "                            <input type=\"text\"\n" +
    "                                class=\"form-control\"\n" +
    "                                name=\"last_name\"\n" +
    "                                ng-change=\"fillDisplayName()\"\n" +
    "                                ng-maxlength=\"25\"\n" +
    "                                ng-model=\"customer.family_name\">\n" +
    "                        </div>\n" +
    "                    </div>\n" +
    "                    <div class=\"form-group\">\n" +
    "                        <div class=\"col-md-12 col-sm-12\">\n" +
    "                            <label for=\"display_name\" class=\"required\">Display name<span>(*)</span></label>\n" +
    "                            <input type=\"text\"\n" +
    "                                class=\"form-control\"\n" +
    "                                name=\"display_name\"\n" +
    "                                ng-maxlength=\"100\"\n" +
    "                                ng-required=\"true\"\n" +
    "                                ng-model=\"customer.display_name\">\n" +
    "                        </div>\n" +
    "                    </div>\n" +
    "                    <div class=\"form-group\">\n" +
    "                        <div class=\"col-md-6 col-sm-12\">\n" +
    "                            <label for=\"primary_phone_number\">Primary phone</label>\n" +
    "                            <input type=\"text\"\n" +
    "                                class=\"form-control\"\n" +
    "                                ng-maxlength=\"21\"\n" +
    "                                name=\"primary_phone_number\"\n" +
    "                                ui-mask=\"?9?9?9-?9?9?9-?9?9?9?9\"\n" +
    "                                model-view-value=\"true\"\n" +
    "                                ng-model=\"customer.primary_phone_number\">\n" +
    "                        </div>\n" +
    "                        <div class=\"col-md-6 col-sm-12\">\n" +
    "                            <label for=\"mobile_phone_number\">Secondary phone</label>\n" +
    "                            <input type=\"text\"\n" +
    "                                class=\"form-control\"\n" +
    "                                ng-maxlength=\"21\"\n" +
    "                                name=\"mobile_phone_number\"\n" +
    "                                ui-mask=\"?9?9?9-?9?9?9-?9?9?9?9\"\n" +
    "                                model-view-value=\"true\"\n" +
    "                                ng-model=\"customer.mobile_phone_number\">\n" +
    "                        </div>\n" +
    "                    </div>\n" +
    "                    <div class=\"form-group\">\n" +
    "                        <div class=\"col-md-12\">\n" +
    "                            <label for=\"company_name\">Company</label>\n" +
    "                            <input name=\"company_name\"\n" +
    "                                ng-maxlength=\"50\"\n" +
    "                                ng-model=\"customer.company_name\"\n" +
    "                                class=\"form-control\"/>\n" +
    "                            <br>\n" +
    "                        </div>\n" +
    "                    </div>\n" +
    "                </div>\n" +
    "\n" +
    "                <div class=\"col-md-6 col-sm-12\">\n" +
    "                    <div class=\"form-group\">\n" +
    "                        <div class=\"col-md-12\">\n" +
    "                            <label for=\"email\">Email</label>\n" +
    "                            <input type=\"text\"\n" +
    "                                class=\"form-control\"\n" +
    "                                name=\"email\"\n" +
    "                                multiple-emails\n" +
    "                                ng-maxlength=\"100\"\n" +
    "                                ng-model=\"customer.email\">\n" +
    "                        </div>\n" +
    "                    </div>\n" +
    "                    <div class=\"form-group\">\n" +
    "                        <div class=\"col-md-12\">\n" +
    "                            <label for=\"email\">Is sub-customer of</label>\n" +
    "                            <customers-select\n" +
    "                                ng-disabled=\"::hasCap('erpp_restrict_client_dropdown')\"\n" +
    "                                options=\"customers\"\n" +
    "                                ng-model=\"customer.parent_id\"\n" +
    "                                on-customer-change=\"onParentChange()\"\n" +
    "                                add-enabled=\"false\"\n" +
    "                                edit-enabled=\"false\">\n" +
    "                            </customers-select>\n" +
    "                        </div>\n" +
    "                    </div>\n" +
    "                    <div class=\"form-group\">\n" +
    "                        <div class=\"col-md-12\">\n" +
    "                            <label for=\"notes\">Notes</label>\n" +
    "                            <textarea name=\"notes\" rows=\"3\"\n" +
    "                                ng-model=\"customer.notes\"\n" +
    "                                class=\"form-control\"></textarea>\n" +
    "                            <br>\n" +
    "                        </div>\n" +
    "                    </div>\n" +
    "                </div>\n" +
    "            </div>\n" +
    "            <div class=\"row\">\n" +
    "                <div class=\"col-md-6\">\n" +
    "                    <legend>Billing address</legend>\n" +
    "                    <div class=\"form-group\">\n" +
    "                        <div class=\"col-md-12\">\n" +
    "                            <input type=\"text\"\n" +
    "                                class=\"form-control\"\n" +
    "                                placeholder=\"Street\"\n" +
    "                                name=\"bill_address\"\n" +
    "                                ng-maxlength=\"255\"\n" +
    "                                ng-model=\"customer.bill_address\">\n" +
    "                        </div>\n" +
    "                    </div>\n" +
    "                    <div class=\"form-group\">\n" +
    "                        <div class=\"col-md-6\">\n" +
    "                            <input type=\"text\"\n" +
    "                                class=\"form-control\"\n" +
    "                                placeholder=\"City\"\n" +
    "                                name=\"bill_city\"\n" +
    "                                ng-maxlength=\"100\"\n" +
    "                                ng-model=\"customer.bill_city\">\n" +
    "                        </div>\n" +
    "                        <div class=\"col-md-6\">\n" +
    "                            <input type=\"text\"\n" +
    "                                class=\"form-control\"\n" +
    "                                placeholder=\"State\"\n" +
    "                                name=\"bill_state\"\n" +
    "                                ng-maxlength=\"100\"\n" +
    "                                ng-model=\"customer.bill_state\">\n" +
    "                        </div>\n" +
    "                    </div>\n" +
    "                    <div class=\"form-group\">\n" +
    "                        <div class=\"col-md-6\">\n" +
    "                            <input type=\"text\"\n" +
    "                                class=\"form-control\"\n" +
    "                                placeholder=\"Zip code\"\n" +
    "                                name=\"bill_zip_code\"\n" +
    "                                ng-maxlength=\"31\"\n" +
    "                                ng-model=\"customer.bill_zip_code\">\n" +
    "                        </div>\n" +
    "                        <div class=\"col-md-6\">\n" +
    "                            <input type=\"text\"\n" +
    "                                class=\"form-control\"\n" +
    "                                placeholder=\"Country\"\n" +
    "                                name=\"bill_country\"\n" +
    "                                ng-maxlength=\"100\"\n" +
    "                                ng-model=\"customer.bill_country\">\n" +
    "                        </div>\n" +
    "                    </div>\n" +
    "                </div>\n" +
    "                <div class=\"col-md-6\">\n" +
    "                    <legend class=\"pull-left\">Shipping address</legend>\n" +
    "                    <small class=\"pull-right\">\n" +
    "                        <a href=\"#\" ng-click=\"$event.preventDefault(); fillShippingWithBilling();\">Same as billing address</a></small>\n" +
    "                    <div class=\"form-group\">\n" +
    "                        <div class=\"col-md-12\">\n" +
    "                            <input type=\"text\"\n" +
    "                                class=\"form-control\"\n" +
    "                                placeholder=\"Street\"\n" +
    "                                name=\"ship_address\"\n" +
    "                                ng-maxlength=\"255\"\n" +
    "                                ng-model=\"customer.ship_address\">\n" +
    "                        </div>\n" +
    "                    </div>\n" +
    "                    <div class=\"form-group\">\n" +
    "                        <div class=\"col-md-6\">\n" +
    "                            <input type=\"text\"\n" +
    "                                class=\"form-control\"\n" +
    "                                placeholder=\"City\"\n" +
    "                                name=\"ship_city\"\n" +
    "                                ng-maxlength=\"100\"\n" +
    "                                ng-model=\"customer.ship_city\">\n" +
    "                        </div>\n" +
    "                        <div class=\"col-md-6\">\n" +
    "                            <input type=\"text\"\n" +
    "                                class=\"form-control\"\n" +
    "                                placeholder=\"State\"\n" +
    "                                name=\"ship_state\"\n" +
    "                                ng-maxlength=\"100\"\n" +
    "                                ng-model=\"customer.ship_state\">\n" +
    "                        </div>\n" +
    "                    </div>\n" +
    "                    <div class=\"form-group\">\n" +
    "                        <div class=\"col-md-6\">\n" +
    "                            <input type=\"text\"\n" +
    "                                class=\"form-control\"\n" +
    "                                placeholder=\"Zip code\"\n" +
    "                                name=\"ship_zip_code\"\n" +
    "                                ng-maxlength=\"31\"\n" +
    "                                ng-model=\"customer.ship_zip_code\">\n" +
    "                        </div>\n" +
    "                        <div class=\"col-md-6\">\n" +
    "                            <input type=\"text\"\n" +
    "                                class=\"form-control\"\n" +
    "                                placeholder=\"Country\"\n" +
    "                                name=\"ship_country\"\n" +
    "                                ng-maxlength=\"100\"\n" +
    "                                ng-model=\"customer.ship_country\">\n" +
    "                        </div>\n" +
    "                    </div>\n" +
    "                </div>\n" +
    "            </div>\n" +
    "        </form>\n" +
    "    </div>\n" +
    "    <div class=\"modal-footer\">\n" +
    "        <label title=\"Update the form after saving the customer info\">\n" +
    "            <input type=\"checkbox\" name=\"update_form\" ng-model=\"updateFormFlag\"> Update form</label>\n" +
    "        &nbsp;\n" +
    "        <button class=\"btn btn-primary\" type=\"button\" ng-click=\"save()\" ng-disabled=\"isBusy\">Save</button>\n" +
    "        <button class=\"btn btn-default\" type=\"button\" ng-click=\"close()\" ng-disabled=\"isBusy\">Close</button>\n" +
    "    </div>\n" +
    "</div>\n"
  );


  $templateCache.put('templates/customer/select-box.html',
    "<selectize ng-model=\"ngModel\" ng-disabled=\"ngDisabled\" ng-change=\"onCustomerChangeEvent()\" config=\"selectConfig\" options=\"selectOptions\">\n" +
    "</selectize>\n" +
    "<small ng-if=\"addingEnabled\"><a href=\"#\" ng-click=\"$event.preventDefault(); onAddCustomer()\">\n" +
    "<span class=\"glyphicon glyphicon-plus\"></span> New customer</a></small>\n" +
    "\n" +
    "<small ng-if=\"editingEnabled && ngModel\"><span>|</span> <a href=\"#\" ng-click=\"$event.preventDefault(); onEditCustomer()\"><span class=\"glyphicon glyphicon-info-sign\"></span> Customer details</a></small>"
  );


  $templateCache.put('templates/dashboard.html',
    "<div ng-init=\"$root.pageTitle = 'ER Planner Pro'\">\n" +
    "    <h2>Dashboard</h2>\n" +
    "</div>\n"
  );


  $templateCache.put('templates/estimate-route/add.html',
    "<div ng-controller=\"AddEstimateRouteCtrl\">\r" +
    "\n" +
    "    <div class=\"row form-route\">\r" +
    "\n" +
    "        <div class=\"col-lg-12\">\r" +
    "\n" +
    "            <form-estimate-route></form-estimate-route>\r" +
    "\n" +
    "            <hr>\r" +
    "\n" +
    "        </div>\r" +
    "\n" +
    "    </div>\r" +
    "\n" +
    "    <div class=\"row\">\r" +
    "\n" +
    "        <div class=\"col-sm-4\">\r" +
    "\n" +
    "            <div class=\"queue-header\">\r" +
    "\n" +
    "                <h5 class=\"route-box-title\">Assigned Routes (<span ng-bind=\"assignedReferrals.length\"></span>)</h5>\r" +
    "\n" +
    "                <div class=\"queue-toolbar\">\r" +
    "\n" +
    "                    Sort:\r" +
    "\n" +
    "                    <select class=\"sort-by-select\"\r" +
    "\n" +
    "                        ng-model=\"assigned_queue_sort_by\"\r" +
    "\n" +
    "                        ng-change=\"sortAssignedQueue()\"\r" +
    "\n" +
    "                        ng-options=\"sort.value as sort.label for sort in ::sortOptions\">\r" +
    "\n" +
    "                    </select>\r" +
    "\n" +
    "                </div>\r" +
    "\n" +
    "            </div>\r" +
    "\n" +
    "            <div class=\"assigned-routes\" ui-tree=\"assignedListDndOptions\" data-max-depth=\"1\" data-drag-delay=\"150\">\r" +
    "\n" +
    "                <ul ui-tree-nodes ng-model=\"assignedReferrals\" ng-class=\"{'empty': assignedReferrals.length == 0}\">\r" +
    "\n" +
    "                    <li ui-tree-node class=\"box-assign\" ng-repeat=\"referral in assignedReferrals\" ng-class=\"{'highlight': referral.highlight}\">\r" +
    "\n" +
    "                        <div class=\"queue-item-info\">\r" +
    "\n" +
    "                            <a href=\"#/edit-job-request/{{::referral.id}}\" target=\"_blank\" ng-if=\"::hasCap('erpp_edit_job_requests')\">{{::referral.customer_display_name}}</a>\r" +
    "\n" +
    "                            <span ng-if=\"::!hasCap('erpp_edit_job_requests')\">{{::referral.customer_display_name}}</span>\r" +
    "\n" +
    "                            <br>\r" +
    "\n" +
    "                            {{:: referral | referralFullAddress }}\r" +
    "\n" +
    "                            <br>\r" +
    "\n" +
    "                            <span>Priority: {{referral.priority}}</span>\r" +
    "\n" +
    "                            <br>\r" +
    "\n" +
    "                            <div ng-hide=\"viewOptions.compact\">\r" +
    "\n" +
    "                                <span>Phone: {{::referral.primary_phone_number}}</span><br>\r" +
    "\n" +
    "                                <span>Date: {{::referral.date_requested | date:'MM-dd-yyyy'}}</span><br>\r" +
    "\n" +
    "                                <span>Estimator: {{referral.estimator_full_name}}</span><br>\r" +
    "\n" +
    "                                <span>Status: {{referral.status}}</span>\r" +
    "\n" +
    "                            </div>\r" +
    "\n" +
    "                        </div>\r" +
    "\n" +
    "                        <div class=\"queue-item-menu routed\">\r" +
    "\n" +
    "                            <span ui-tree-handle class=\"drag-handler\"\r" +
    "\n" +
    "                                ng-style=\"{'background-color': referral.markerOptions.label.backgroundColor}\">\r" +
    "\n" +
    "                                {{referral.markerOptions.label.text}}</span>\r" +
    "\n" +
    "                            <br>\r" +
    "\n" +
    "                            <span class=\"glyphicon glyphicon-save\"\r" +
    "\n" +
    "                                title=\"Move to pending queue\"\r" +
    "\n" +
    "                                ng-click=\"moveItemToPendingQueue(referral)\"></span>\r" +
    "\n" +
    "                            <br>\r" +
    "\n" +
    "                            <span class=\"glyphicon glyphicon-map-marker\"\r" +
    "\n" +
    "                                title=\"Locate on map\"\r" +
    "\n" +
    "                                ng-click=\"openMarker(referral)\"></span>\r" +
    "\n" +
    "                        </div>\r" +
    "\n" +
    "                    </li>\r" +
    "\n" +
    "                </ul>\r" +
    "\n" +
    "            </div>\r" +
    "\n" +
    "            <div ng-if=\"::!hasCap('erpp_hide_estimate_pending_list')\">\r" +
    "\n" +
    "                <div class=\"queue-header\">\r" +
    "\n" +
    "                    <h5 class=\"route-box-title\">Pending Routes (<span ng-bind=\"pendingReferrals.length\"></span>)</h5>\r" +
    "\n" +
    "                    <div class=\"queue-toolbar\">\r" +
    "\n" +
    "                        Sort:\r" +
    "\n" +
    "                        <select class=\"sort-by-select\"\r" +
    "\n" +
    "                            ng-model=\"$parent.pending_queue_sort_by\"\r" +
    "\n" +
    "                            ng-change=\"sortPendingQueue()\"\r" +
    "\n" +
    "                            ng-options=\"sort.value as sort.label for sort in ::sortOptions\">\r" +
    "\n" +
    "                        </select>\r" +
    "\n" +
    "                    </div>\r" +
    "\n" +
    "                </div>\r" +
    "\n" +
    "                <div class=\"assigned-routes\" ui-tree=\"pendingListDndOptions\" data-max-depth=\"1\" data-drag-delay=\"150\">\r" +
    "\n" +
    "                    <ul ui-tree-nodes=\"\" ng-model=\"pendingReferrals\" ng-class=\"{'empty': pendingReferrals.length == 0}\">\r" +
    "\n" +
    "                        <li ui-tree-node class=\"box-assign\" ng-repeat=\"referral in pendingReferrals\" ng-class=\"{'highlight': referral.highlight}\">\r" +
    "\n" +
    "                            <div class=\"queue-item-info\">\r" +
    "\n" +
    "                                <a href=\"#/edit-job-request/{{::referral.id}}\" target=\"_blank\" ng-if=\"::hasCap('erpp_edit_job_requests')\">{{::referral.customer_display_name}}</a>\r" +
    "\n" +
    "                                <span ng-if=\"::!hasCap('erpp_edit_job_requests')\">{{::referral.customer_display_name}}</span>\r" +
    "\n" +
    "                                <br>\r" +
    "\n" +
    "                                {{:: referral | referralFullAddress }}\r" +
    "\n" +
    "                                <br>\r" +
    "\n" +
    "                                <span>Priority: {{referral.priority}}</span>\r" +
    "\n" +
    "                                <br>\r" +
    "\n" +
    "                                <div ng-hide=\"viewOptions.compact\">\r" +
    "\n" +
    "                                    <span>Phone: {{::referral.primary_phone_number}}</span><br>\r" +
    "\n" +
    "                                    <span>Date: {{::referral.date_requested | date:'MM-dd-yyyy'}}</span><br>\r" +
    "\n" +
    "                                    <span>Estimator: {{referral.estimator_full_name}}</span><br>\r" +
    "\n" +
    "                                    <span>Status: {{referral.status}}</span>\r" +
    "\n" +
    "                                </div>\r" +
    "\n" +
    "                            </div>\r" +
    "\n" +
    "                            <div class=\"queue-item-menu\">\r" +
    "\n" +
    "                                <span ui-tree-handle class=\"drag-handler glyphicon glyphicon-th-large\"></span>\r" +
    "\n" +
    "                                <br>\r" +
    "\n" +
    "                                <span class=\"glyphicon glyphicon-open\"\r" +
    "\n" +
    "                                    title=\"Move to assigned queue\"\r" +
    "\n" +
    "                                    ng-click=\"moveItemToAssignedQueue(referral)\"></span>\r" +
    "\n" +
    "                                <br>\r" +
    "\n" +
    "                                <span class=\"glyphicon glyphicon-map-marker\"\r" +
    "\n" +
    "                                    title=\"Locate on map\"\r" +
    "\n" +
    "                                    ng-click=\"openMarker(referral)\"></span>\r" +
    "\n" +
    "                            </div>\r" +
    "\n" +
    "                        </li>\r" +
    "\n" +
    "                    </ul>\r" +
    "\n" +
    "                </div>\r" +
    "\n" +
    "            </div>\r" +
    "\n" +
    "        </div>\r" +
    "\n" +
    "\r" +
    "\n" +
    "        <!-- GMAP AND MARKERS -->\r" +
    "\n" +
    "\r" +
    "\n" +
    "        <div class=\"col-sm-8\">\r" +
    "\n" +
    "            <div class=\"tools-box\">\r" +
    "\n" +
    "                <label class=\"checkbox inline\">\r" +
    "\n" +
    "                    <input type=\"checkbox\" ng-model=\"viewOptions.compact\">Compact view mode</label>\r" +
    "\n" +
    "            </div>\r" +
    "\n" +
    "            <div class=\"gmap-container\">\r" +
    "\n" +
    "                <ui-gmap-google-map center='map.options.center' zoom='map.options.zoom' control=\"map.control\">\r" +
    "\n" +
    "                    <ui-gmap-marker\r" +
    "\n" +
    "                        icon=\"startMarkerIcon\"\r" +
    "\n" +
    "                        idkey=\"routeOrigin\"\r" +
    "\n" +
    "                        coords=\"routeOrigin\">\r" +
    "\n" +
    "                        <ui-gmap-window>\r" +
    "\n" +
    "                            <p>\r" +
    "\n" +
    "                                {{::routeOriginAddress}}\r" +
    "\n" +
    "                            </p>\r" +
    "\n" +
    "                        </ui-gmap-window>\r" +
    "\n" +
    "                    </ui-gmap-marker>\r" +
    "\n" +
    "\r" +
    "\n" +
    "                    <ui-gmap-marker ng-repeat=\"referral in pendingReferrals\"\r" +
    "\n" +
    "                        idkey=\"$index\"\r" +
    "\n" +
    "                        coords=\"referral.coords\"\r" +
    "\n" +
    "                        options=\"referral.markerOptions\"\r" +
    "\n" +
    "                        events=\"referral.markerEvents\">\r" +
    "\n" +
    "                        <ui-gmap-window show=\"referral.show_infor_window\" closeClick=\"referral.show_infor_window = false; referral.highlight = false\">\r" +
    "\n" +
    "                            <p>\r" +
    "\n" +
    "                                <a href=\"#/edit-job-request/{{::referral.id}}\" target=\"_blank\" ng-if=\"::$root.hasCap('erpp_edit_job_requests')\">{{::referral.customer_display_name}}</a>\r" +
    "\n" +
    "                                <span ng-if=\"::!$root.hasCap('erpp_edit_job_requests')\">{{::referral.customer_display_name}}</span>\r" +
    "\n" +
    "                                <br>\r" +
    "\n" +
    "                                {{:: referral | referralFullAddress }}\r" +
    "\n" +
    "                                <br>\r" +
    "\n" +
    "                                <span>Priority: {{referral.priority}}</span>\r" +
    "\n" +
    "                                <span ng-hide=\"$parent.viewOptions.compact\">\r" +
    "\n" +
    "                                    <br>\r" +
    "\n" +
    "                                    <span>Phone: {{::referral.primary_phone_number}}</span><br>\r" +
    "\n" +
    "                                    <span>Date: {{::referral.date_requested | date:'MM-dd-yyyy'}}</span><br>\r" +
    "\n" +
    "                                    <span>Estimator: {{referral.estimator_full_name}}</span><br>\r" +
    "\n" +
    "                                    <span>Status: {{referral.status}}</span>\r" +
    "\n" +
    "                                </span>\r" +
    "\n" +
    "                            </p>\r" +
    "\n" +
    "                        </ui-gmap-window>\r" +
    "\n" +
    "                    </ui-gmap-marker>\r" +
    "\n" +
    "\r" +
    "\n" +
    "                    <ui-gmap-marker ng-repeat=\"referral in assignedReferrals\"\r" +
    "\n" +
    "                        idkey=\"$index\"\r" +
    "\n" +
    "                        coords=\"referral.coords\"\r" +
    "\n" +
    "                        options=\"referral.markerOptions\"\r" +
    "\n" +
    "                        events=\"referral.markerEvents\">\r" +
    "\n" +
    "                        <ui-gmap-window show=\"referral.show_infor_window\" closeClick=\"referral.show_infor_window = false; referral.highlight = false\">\r" +
    "\n" +
    "                            <p>\r" +
    "\n" +
    "                                <a href=\"#/edit-job-request/{{::referral.id}}\" target=\"_blank\" ng-if=\"::$root.hasCap('erpp_edit_job_requests')\">{{::referral.customer_display_name}}</a>\r" +
    "\n" +
    "                                <span ng-if=\"::!$root.hasCap('erpp_edit_job_requests')\">{{::referral.customer_display_name}}</span>\r" +
    "\n" +
    "                                <br>\r" +
    "\n" +
    "                                {{:: referral | referralFullAddress }}\r" +
    "\n" +
    "                                <br>\r" +
    "\n" +
    "                                <span>Priority: {{referral.priority}}</span>\r" +
    "\n" +
    "                                <span ng-hide=\"$parent.viewOptions.compact\">\r" +
    "\n" +
    "                                    <br>\r" +
    "\n" +
    "                                    <span>Phone: {{::referral.primary_phone_number}}</span><br>\r" +
    "\n" +
    "                                    <span>Date: {{::referral.date_requested | date:'MM-dd-yyyy'}}</span><br>\r" +
    "\n" +
    "                                    <span>Estimator: {{referral.estimator_full_name}}</span><br>\r" +
    "\n" +
    "                                    <span>Status: {{referral.status}}</span>\r" +
    "\n" +
    "                                </span>\r" +
    "\n" +
    "                            </p>\r" +
    "\n" +
    "                        </ui-gmap-window>\r" +
    "\n" +
    "                    </ui-gmap-marker>\r" +
    "\n" +
    "\r" +
    "\n" +
    "                </ui-gmap-google-map>\r" +
    "\n" +
    "            </div>\r" +
    "\n" +
    "\r" +
    "\n" +
    "            <h4>Recent Saved Routes</h4>\r" +
    "\n" +
    "            <table class=\"table table-bordered table-fixed header-fixed\">\r" +
    "\n" +
    "                <thead>\r" +
    "\n" +
    "                  <tr>\r" +
    "\n" +
    "                    <th>Title</th>\r" +
    "\n" +
    "                    <th>Estimator Assigned</th>\r" +
    "\n" +
    "                    <th>Created At</th>\r" +
    "\n" +
    "                    <th>Status</th>\r" +
    "\n" +
    "                    <th style=\"width: 70px\">Action</th>\r" +
    "\n" +
    "                  </tr>\r" +
    "\n" +
    "                </thead>\r" +
    "\n" +
    "                <tbody>\r" +
    "\n" +
    "                  <tr ng-repeat=\"route in ::recentRoutes\">\r" +
    "\n" +
    "                    <td><span>{{::route.title}}</span></td>\r" +
    "\n" +
    "                    <td><span>{{::route.estimator_full_name}}</span></td>\r" +
    "\n" +
    "                    <td><span>{{::route.created_at | date:'MM-dd-yyyy'}}</span></td>\r" +
    "\n" +
    "                    <td><span>{{::route.status}}</span></td>\r" +
    "\n" +
    "                    <td class=\"text-center\">\r" +
    "\n" +
    "                      <a href=\"#/edit-estimate-route/{{::route.id}}\" ng-if=\"::hasCap('erpp_edit_estimate_routes')\">View</a>\r" +
    "\n" +
    "                    </td>\r" +
    "\n" +
    "                  </tr>\r" +
    "\n" +
    "                  <tr ng-if=\"!$root.isBusy && recentRoutes.length == 0\">\r" +
    "\n" +
    "                      <td colspan=\"4\" class=\"text-center\">\r" +
    "\n" +
    "                          No routes created yet\r" +
    "\n" +
    "                      </td>\r" +
    "\n" +
    "                  </tr>\r" +
    "\n" +
    "                </tbody>\r" +
    "\n" +
    "            </table>\r" +
    "\n" +
    "        </div>\r" +
    "\n" +
    "    </div>\r" +
    "\n" +
    "</div>\r" +
    "\n"
  );


  $templateCache.put('templates/estimate-route/assigned-requests-table.html',
    "<h4 class=\"h4-title\">Current Assigned Requests</h4>\n" +
    "<table class=\"table table-bordered table-fixed header-fixed\">\n" +
    "    <thead>\n" +
    "        <tr>\n" +
    "            <th>Customer</th>\n" +
    "            <th>Date Requested</th>\n" +
    "            <th>Status</th>\n" +
    "            <th>Priority</th>\n" +
    "            <th ng-if=\"::hasCap('erpp_edit_job_requests')\">Action</th>\n" +
    "        </tr>\n" +
    "    </thead>\n" +
    "    <tbody>\n" +
    "        <tr ng-repeat=\"referral in currentAssignedReferrals\">\n" +
    "            <td><span>{{ ::referral.customer_display_name }}</span></td>\n" +
    "            <td><span>{{ ::referral.date_requested | date:'MM-dd-yyyy'}}</span></td>\n" +
    "            <td><span>{{ ::referral.status }}</span></td>\n" +
    "            <td><span>{{ ::referral.priority }}</span></td>\n" +
    "            <td ng-if=\"::hasCap('erpp_edit_job_requests')\">\n" +
    "                <a href=\"#/edit-job-request/{{ ::referral.id }}\">Edit</a>\n" +
    "            </td>\n" +
    "        </tr>\n" +
    "        <tr ng-if=\"!$root.isBusy && currentAssignedReferrals.length == 0\">\n" +
    "            <td colspan=\"4\" class=\"text-center\">\n" +
    "                No requests assigned yet\n" +
    "            </td>\n" +
    "        </tr>\n" +
    "    </tbody>\n" +
    "</table>\n"
  );


  $templateCache.put('templates/estimate-route/edit.html',
    "<div ng-controller=\"EditEstimateRouteCtrl\">\r" +
    "\n" +
    "    <div class=\"row form-route\">\r" +
    "\n" +
    "        <div class=\"col-lg-12\">\r" +
    "\n" +
    "            <form-estimate-route></form-estimate-route>\r" +
    "\n" +
    "            <hr>\r" +
    "\n" +
    "        </div>\r" +
    "\n" +
    "    </div>\r" +
    "\n" +
    "    <div class=\"row\">\r" +
    "\n" +
    "        <div class=\"col-sm-4\">\r" +
    "\n" +
    "            <div class=\"queue-header\">\r" +
    "\n" +
    "                <h5 class=\"route-box-title\">Assigned Routes (<span ng-bind=\"assignedReferrals.length\"></span>)</h5>\r" +
    "\n" +
    "                <div class=\"queue-toolbar\">\r" +
    "\n" +
    "                    Sort:\r" +
    "\n" +
    "                    <select class=\"sort-by-select\"\r" +
    "\n" +
    "                        ng-model=\"assigned_queue_sort_by\"\r" +
    "\n" +
    "                        ng-change=\"sortAssignedQueue()\"\r" +
    "\n" +
    "                        ng-options=\"sort.value as sort.label for sort in ::sortOptions\">\r" +
    "\n" +
    "                    </select>\r" +
    "\n" +
    "                </div>\r" +
    "\n" +
    "            </div>\r" +
    "\n" +
    "            <div class=\"assigned-routes\" ui-tree=\"assignedListDndOptions\" data-max-depth=\"1\" data-drag-delay=\"150\">\r" +
    "\n" +
    "                <ul ui-tree-nodes ng-model=\"assignedReferrals\" ng-class=\"{'empty': assignedReferrals.length == 0}\">\r" +
    "\n" +
    "                    <li ui-tree-node class=\"box-assign\" ng-repeat=\"referral in assignedReferrals\" ng-class=\"{'highlight': referral.highlight}\">\r" +
    "\n" +
    "                        <div class=\"queue-item-info\">\r" +
    "\n" +
    "                            <a href=\"#/edit-job-request/{{::referral.id}}\" target=\"_blank\" ng-if=\"::hasCap('erpp_edit_job_requests')\">{{::referral.customer_display_name}}</a>\r" +
    "\n" +
    "                            <span ng-if=\"::!hasCap('erpp_edit_job_requests')\">{{::referral.customer_display_name}}</span>\r" +
    "\n" +
    "                            <br>\r" +
    "\n" +
    "                            {{:: referral | referralFullAddress }}\r" +
    "\n" +
    "                            <br>\r" +
    "\n" +
    "                            <span>Priority: {{::referral.priority }}</span>\r" +
    "\n" +
    "                            <br>\r" +
    "\n" +
    "                            <div ng-hide=\"viewOptions.compact\">\r" +
    "\n" +
    "                                <span>Phone: {{::referral.primary_phone_number}}</span><br>\r" +
    "\n" +
    "                                <span>Date: {{::referral.date_requested | date:'MM-dd-yyyy'}}</span><br>\r" +
    "\n" +
    "                                <span>Estimator: {{referral.estimator_full_name}}</span><br>\r" +
    "\n" +
    "                                <span>Status: {{referral.status}}</span><br>\r" +
    "\n" +
    "                            </div>\r" +
    "\n" +
    "                        </div>\r" +
    "\n" +
    "                        <div class=\"queue-item-menu routed\">\r" +
    "\n" +
    "                            <span ui-tree-handle class=\"drag-handler\"\r" +
    "\n" +
    "                                ng-style=\"{'background-color': referral.markerOptions.label.backgroundColor}\">\r" +
    "\n" +
    "                                {{referral.markerOptions.label.text}}</span>\r" +
    "\n" +
    "                            <br>\r" +
    "\n" +
    "                            <span class=\"glyphicon glyphicon-save\"\r" +
    "\n" +
    "                                title=\"Move to pending queue\"\r" +
    "\n" +
    "                                ng-click=\"moveItemToPendingQueue(referral)\"></span>\r" +
    "\n" +
    "                            <br>\r" +
    "\n" +
    "                            <span class=\"glyphicon glyphicon-map-marker\"\r" +
    "\n" +
    "                                title=\"Locate on map\"\r" +
    "\n" +
    "                                ng-click=\"openMarker(referral)\"></span>\r" +
    "\n" +
    "                        </div>\r" +
    "\n" +
    "                    </li>\r" +
    "\n" +
    "                </ul>\r" +
    "\n" +
    "            </div>\r" +
    "\n" +
    "            <div ng-if=\"::!hasCap('erpp_hide_estimate_pending_list')\">\r" +
    "\n" +
    "                <div class=\"queue-header\">\r" +
    "\n" +
    "                    <h5 class=\"route-box-title\">Pending Routes (<span ng-bind=\"pendingReferrals.length\"></span>)</h5>\r" +
    "\n" +
    "                    <div class=\"queue-toolbar\">\r" +
    "\n" +
    "                        Sort:\r" +
    "\n" +
    "                        <select class=\"sort-by-select\"\r" +
    "\n" +
    "                            ng-model=\"$parent.pending_queue_sort_by\"\r" +
    "\n" +
    "                            ng-change=\"sortPendingQueue()\"\r" +
    "\n" +
    "                            ng-options=\"sort.value as sort.label for sort in ::sortOptions\">\r" +
    "\n" +
    "                        </select>\r" +
    "\n" +
    "                    </div>\r" +
    "\n" +
    "                </div>\r" +
    "\n" +
    "                <div class=\"assigned-routes\" ui-tree=\"pendingListDndOptions\" data-max-depth=\"1\" data-drag-delay=\"150\">\r" +
    "\n" +
    "                    <ul ui-tree-nodes=\"\" ng-model=\"pendingReferrals\" ng-class=\"{'empty': pendingReferrals.length == 0}\">\r" +
    "\n" +
    "                        <li ui-tree-node class=\"box-assign\" ng-repeat=\"referral in pendingReferrals\" ng-class=\"{'highlight': referral.highlight}\">\r" +
    "\n" +
    "                            <div class=\"queue-item-info\">\r" +
    "\n" +
    "                                <a href=\"#/edit-job-request/{{::referral.id}}\" target=\"_blank\" ng-if=\"::hasCap('erpp_edit_job_requests')\">{{::referral.customer_display_name}}</a>\r" +
    "\n" +
    "                                <span ng-if=\"::!hasCap('erpp_edit_job_requests')\">{{::referral.customer_display_name}}</span>\r" +
    "\n" +
    "                                <br>\r" +
    "\n" +
    "                                {{:: referral | referralFullAddress }}<br>\r" +
    "\n" +
    "                                <span>Priority: {{::referral.priority}}</span>\r" +
    "\n" +
    "                                <br>\r" +
    "\n" +
    "                                <div ng-hide=\"viewOptions.compact\">\r" +
    "\n" +
    "                                    <span>Phone: {{::referral.primary_phone_number}}</span><br>\r" +
    "\n" +
    "                                    <span>Date: {{::referral.date_requested | date:'MM-dd-yyyy'}}</span><br>\r" +
    "\n" +
    "                                    <span>Estimator: {{referral.estimator_full_name}}</span><br>\r" +
    "\n" +
    "                                    <span>Status: {{referral.status}}</span><br>\r" +
    "\n" +
    "                                </div>\r" +
    "\n" +
    "                            </div>\r" +
    "\n" +
    "                            <div class=\"queue-item-menu\">\r" +
    "\n" +
    "                                <span ui-tree-handle class=\"drag-handler glyphicon glyphicon-th-large\"></span>\r" +
    "\n" +
    "                                <br>\r" +
    "\n" +
    "                                <span class=\"glyphicon glyphicon-open\"\r" +
    "\n" +
    "                                    title=\"Move to assigned queue\"\r" +
    "\n" +
    "                                    ng-click=\"moveItemToAssignedQueue(referral)\"></span>\r" +
    "\n" +
    "                                <br>\r" +
    "\n" +
    "                                <span class=\"glyphicon glyphicon-map-marker\"\r" +
    "\n" +
    "                                    title=\"Locate on map\"\r" +
    "\n" +
    "                                    ng-click=\"openMarker(referral)\"></span>\r" +
    "\n" +
    "                            </div>\r" +
    "\n" +
    "                        </li>\r" +
    "\n" +
    "                    </ul>\r" +
    "\n" +
    "                </div>\r" +
    "\n" +
    "            </div>\r" +
    "\n" +
    "        </div>\r" +
    "\n" +
    "        <div class=\"col-sm-8\">\r" +
    "\n" +
    "            <div class=\"tools-box\">\r" +
    "\n" +
    "                <label class=\"checkbox inline\">\r" +
    "\n" +
    "                    <input type=\"checkbox\" ng-model=\"viewOptions.compact\">Compact view mode</label>\r" +
    "\n" +
    "            </div>\r" +
    "\n" +
    "            <div class=\"gmap-container\">\r" +
    "\n" +
    "                <ui-gmap-google-map center='map.options.center' zoom='map.options.zoom' control=\"map.control\">\r" +
    "\n" +
    "                    <ui-gmap-marker\r" +
    "\n" +
    "                        icon=\"::startMarkerIcon\"\r" +
    "\n" +
    "                        idkey=\"routeOrigin\"\r" +
    "\n" +
    "                        coords=\"routeOrigin\">\r" +
    "\n" +
    "                        <ui-gmap-window>\r" +
    "\n" +
    "                            <p>\r" +
    "\n" +
    "                                {{::routeOriginAddress}}\r" +
    "\n" +
    "                            </p>\r" +
    "\n" +
    "                        </ui-gmap-window>\r" +
    "\n" +
    "                    </ui-gmap-marker>\r" +
    "\n" +
    "\r" +
    "\n" +
    "                    <ui-gmap-marker ng-repeat=\"referral in pendingReferrals\"\r" +
    "\n" +
    "                        idkey=\"$index\"\r" +
    "\n" +
    "                        coords=\"referral.coords\"\r" +
    "\n" +
    "                        options=\"referral.markerOptions\"\r" +
    "\n" +
    "                        events=\"referral.markerEvents\">\r" +
    "\n" +
    "                        <ui-gmap-window show=\"referral.show_infor_window\" closeClick=\"referral.show_infor_window = false; referral.highlight = false\">\r" +
    "\n" +
    "                            <p>\r" +
    "\n" +
    "                                <a href=\"#/edit-job-request/{{::referral.id}}\" target=\"_blank\" ng-if=\"::$root.hasCap('erpp_edit_job_requests')\">{{::referral.customer_display_name}}</a>\r" +
    "\n" +
    "                                <span ng-if=\"::!$root.hasCap('erpp_edit_job_requests')\">{{::referral.customer_display_name}}</span>\r" +
    "\n" +
    "                                <br>\r" +
    "\n" +
    "                                {{:: referral | referralFullAddress }}<br>\r" +
    "\n" +
    "                                <span>Priority: {{::referral.priority}}</span>\r" +
    "\n" +
    "                                <span ng-hide=\"$parent.viewOptions.compact\">\r" +
    "\n" +
    "                                    <br>\r" +
    "\n" +
    "                                    <span>Phone: {{::referral.primary_phone_number}}</span><br>\r" +
    "\n" +
    "                                    <span>Date: {{::referral.date_requested | date:'MM-dd-yyyy'}}</span><br>\r" +
    "\n" +
    "                                    <span>Estimator: {{referral.estimator_full_name}}</span><br>\r" +
    "\n" +
    "                                    <span>Status: {{referral.status}}</span>\r" +
    "\n" +
    "                                </span>\r" +
    "\n" +
    "                            </p>\r" +
    "\n" +
    "                        </ui-gmap-window>\r" +
    "\n" +
    "                    </ui-gmap-marker>\r" +
    "\n" +
    "\r" +
    "\n" +
    "                    <ui-gmap-marker ng-repeat=\"referral in assignedReferrals\"\r" +
    "\n" +
    "                        idkey=\"$index\"\r" +
    "\n" +
    "                        coords=\"referral.coords\"\r" +
    "\n" +
    "                        options=\"referral.markerOptions\"\r" +
    "\n" +
    "                        events=\"referral.markerEvents\">\r" +
    "\n" +
    "                        <ui-gmap-window show=\"referral.show_infor_window\" closeClick=\"referral.show_infor_window = false; referral.highlight = false\">\r" +
    "\n" +
    "                            <p>\r" +
    "\n" +
    "                                <a href=\"#/edit-job-request/{{::referral.id}}\" target=\"_blank\" ng-if=\"::$root.hasCap('erpp_edit_job_requests')\">{{::referral.customer_display_name}}</a>\r" +
    "\n" +
    "                                <span ng-if=\"::!$root.hasCap('erpp_edit_job_requests')\">{{::referral.customer_display_name}}</span>\r" +
    "\n" +
    "                                <br>\r" +
    "\n" +
    "                                {{:: referral | referralFullAddress }}\r" +
    "\n" +
    "                                <br>\r" +
    "\n" +
    "                                <span>Priority: {{::referral.priority}}</span>\r" +
    "\n" +
    "                                <span ng-hide=\"$parent.viewOptions.compact\">\r" +
    "\n" +
    "                                    <br>\r" +
    "\n" +
    "                                    <span>Phone: {{::referral.primary_phone_number}}</span><br>\r" +
    "\n" +
    "                                    <span>Date: {{::referral.date_requested | date:'MM-dd-yyyy'}}</span><br>\r" +
    "\n" +
    "                                    <span>Estimator: {{referral.estimator_full_name}}</span><br>\r" +
    "\n" +
    "                                    <span>Status: {{referral.status}}</span>\r" +
    "\n" +
    "                                </span>\r" +
    "\n" +
    "                            </p>\r" +
    "\n" +
    "                        </ui-gmap-window>\r" +
    "\n" +
    "                    </ui-gmap-marker>\r" +
    "\n" +
    "                </ui-gmap-google-map>\r" +
    "\n" +
    "            </div>\r" +
    "\n" +
    "            <assigned-requests-table></assigned-requests-table>\r" +
    "\n" +
    "        </div>\r" +
    "\n" +
    "    </div>\r" +
    "\n" +
    "</div>\r" +
    "\n"
  );


  $templateCache.put('templates/estimate-route/form.html',
    "<form name=\"routeForm\" ng-submit=\"saveRoute()\" class=\"form-route\">\n" +
    "    <div class=\"row\">\n" +
    "        <div class=\"col-md-4 col-xs-7\">\n" +
    "            <label for=\"title\" class=\"required col-sm-2 n-p\">Title: </label>\n" +
    "            <div class=\"col-sm-10 n-p\">\n" +
    "                <input type=\"text\" class=\"form-control\" name=\"title\"\n" +
    "                    ng-model=\"route.title\" ng-required=\"true\"/>\n" +
    "            </div>\n" +
    "        </div>\n" +
    "        <div class=\"col-md-3 col-xs-5\">\n" +
    "            <label for=\"status\" class=\"col-sm-2 n-p\">Status: </label>\n" +
    "            <div class=\"col-sm-10\">\n" +
    "                <select\n" +
    "                    class=\"form-control\"\n" +
    "                    name=\"status\"\n" +
    "                    ng-model=\"route.status\"\n" +
    "                    ng-required=\"true\"\n" +
    "                    ng-options=\"status.value as status.label for status in ::routeStatuses\">\n" +
    "                </select>\n" +
    "            </div>\n" +
    "        </div>\n" +
    "        <div class=\"col-md-3\">\n" +
    "            <label for=\"title\" class=\"required col-sm-4 n-p\">Estimator: </label>\n" +
    "            <div class=\"col-sm-8 n-p\">\n" +
    "                <employees-select options=\"employees\" ng-model=\"route.estimator_id\"></employees-select>\n" +
    "            </div>\n" +
    "        </div>\n" +
    "        <div class=\"col-md-2\">\n" +
    "            <div class=\"btn-action text-right\">\n" +
    "                <button ng-click=\"printRoute()\" class=\"btn btn-default\" type=\"button\" ng-if=\"::hasCap('erpp_print_estimate_routes')\">Print</button>\n" +
    "                <button class=\"btn btn-primary\" type=\"submit\" ng-disabled=\"routeForm.$invalid\">Save</button>\n" +
    "            </div>\n" +
    "        </div>\n" +
    "    </div>\n" +
    "</form>\n"
  );


  $templateCache.put('templates/estimate-route/list.html',
    "<div id=\"list-referral\" ng-controller=\"ListEstimateRouteCtrl\">\n" +
    "    <div class=\"row\" style=\"margin-bottom: 10px\">\n" +
    "        <div class=\"col-md-4 col-xs-12\">\n" +
    "            <a href=\"#/new-estimate-route\" class=\"btn btn-success\"\n" +
    "                ng-if=\"::hasCap('erpp_create_estimate_routes')\">\n" +
    "                Add new\n" +
    "            </a>\n" +
    "        </div>\n" +
    "        <div class=\"col-md-8 col-xs-12\">\n" +
    "            <form name=\"searchRouteForm\" ng-submit=\"searchRoute()\">\n" +
    "                <div class=\"col-md-9 n-p\">\n" +
    "                    <input class=\"form-control\" ng-model=\"filter.keyword\" placeholder=\"Search in title ...\">\n" +
    "                </div>\n" +
    "                <div class=\"col-md-3 text-right n-p\">\n" +
    "                    <button class=\"btn btn-info\" type=\"submit\">Search</button>\n" +
    "                    <button class=\"btn btn-default btn-sm\" type=\"button\"\n" +
    "                        ng-click=\"clearSearch()\">\n" +
    "                        Clear\n" +
    "                    </button>\n" +
    "                </div>\n" +
    "            </form>\n" +
    "        </div>\n" +
    "  </div>\n" +
    "\n" +
    "  <table class=\"table table-bordered table-hover table-fixed header-fixed\">\n" +
    "    <thead>\n" +
    "      <tr>\n" +
    "        <th style=\"width: 50px\">ID</th>\n" +
    "        <th>Title</th>\n" +
    "        <th style=\"width: 180px\">Estimator Assigned</th>\n" +
    "        <th style=\"width: 155px\">Date Created</th>\n" +
    "        <th style=\"width: 130px\">Status</th>\n" +
    "        <th style=\"width: 70px\">Action</th>\n" +
    "      </tr>\n" +
    "    </thead>\n" +
    "    <tbody>\n" +
    "      <tr ng-repeat=\"route in routes\">\n" +
    "        <td>\n" +
    "          <a href=\"#/edit-estimate-route/{{::route.id}}\" ng-if=\"::hasCap('erpp_edit_estimate_routes')\"><span>{{::route.id}}</span></a>\n" +
    "          <span ng-if=\"::!hasCap('erpp_edit_estimate_routes')\">{{::route.id}}</span>\n" +
    "        </td>\n" +
    "\n" +
    "        <td>\n" +
    "          <a href=\"#/edit-estimate-route/{{::route.id}}\" ng-if=\"::hasCap('erpp_edit_estimate_routes')\"><span>{{route.title}}</span></a>\n" +
    "          <span ng-if=\"::!hasCap('erpp_edit_estimate_routes')\">{{::route.title}}</span>\n" +
    "        </td>\n" +
    "        <td>\n" +
    "            {{:: route.estimator_full_name }}\n" +
    "        </td>\n" +
    "        <td><span>{{::route.created_at | datetimeToDate:'MM-dd-yyyy'}}</span></td>\n" +
    "        <td>\n" +
    "          <select\n" +
    "            ng-if=\"::hasCap('erpp_edit_estimate_routes')\"\n" +
    "            ng-init=\"route.new_status = route.status\"\n" +
    "            ng-model=\"route.new_status\"\n" +
    "            ng-options=\"status.value as status.label for status in ::routeStatuses\"\n" +
    "            ng-change=\"saveRouteStatus(route)\">\n" +
    "          </select>\n" +
    "          <span ng-if=\"::!hasCap('erpp_edit_estimate_routes')\">{{route.status}}</span>\n" +
    "        </td>\n" +
    "        <td class=\"text-center\">\n" +
    "          <a href=\"#/edit-estimate-route/{{::route.id}}\" ng-if=\"::hasCap('erpp_edit_estimate_routes')\">Edit</a>\n" +
    "        </td>\n" +
    "      </tr>\n" +
    "    </tbody>\n" +
    "  </table>\n" +
    "    <p ng-if=\"!$root.isBusy && routes.length == 0\" class=\"text-center\">\n" +
    "        No results were found!\n" +
    "    </p>\n" +
    "    <erp-pagination></erp-pagination>\n" +
    "</div>\n"
  );


  $templateCache.put('templates/estimate/add.html',
    "<div ng-controller=\"AddEstimateCtrl\">\n" +
    "    <form class=\"form-horizontal\" name=\"estimateForm\" ng-submit=\"submitForm()\" novalidate>\n" +
    "        <div class=\"row\">\n" +
    "            <div class=\"col-md-5\">\n" +
    "                <span class=\"top-leaf\" ng-bind=\"::companyInfo.name\"></span>\n" +
    "                <br>\n" +
    "                <span ng-bind=\"::companyInfo.mailing_address\"></span>\n" +
    "                <br>\n" +
    "                Tel:\n" +
    "                <span ng-bind=\"::companyInfo.primary_phone_number\"></span>\n" +
    "                Fax:\n" +
    "                <span ng-bind=\"::companyInfo.fax\"></span>\n" +
    "            </div>\n" +
    "            <div class=\"col-md-3 text-center\">\n" +
    "                <img ng-src=\"{{::$root.baseERPPluginUrl}}{{::companyInfo.logo_url}}\" class=\"estimate-logo\">\n" +
    "            </div>\n" +
    "            <div class=\"col-md-4\">\n" +
    "                <div class=\"form-group\">\n" +
    "                    <div class=\"service-argreement pull-right\">\n" +
    "                        <span class=\"service-argreement\">Service Agreement</span>\n" +
    "                    </div>\n" +
    "                </div>\n" +
    "                <div class=\"form-group\">\n" +
    "                    <label class=\"control-label col-sm-5 required\" for=\"class_id\">\n" +
    "                        Source<span>(*)</span></label>\n" +
    "                    <div class=\"col-sm-7\">\n" +
    "                        <classes-select\n" +
    "                            options=\"classes\"\n" +
    "                            ng-model=\"estimate.class_id\"\n" +
    "                            ng-required=\"true\"></classes-select>\n" +
    "                        <div class=\"help-block\"\n" +
    "                            ng-messages=\"estimateForm.class_id.$error\"\n" +
    "                            ng-if=\"estimateForm.class_id.$touched && estimateForm.class_id.$invalid\">\n" +
    "                            <p ng-message=\"required\" class=\"text-danger\">\n" +
    "                                This field is required!\n" +
    "                            </p>\n" +
    "                        </div>\n" +
    "                    </div>\n" +
    "                </div>\n" +
    "                <div class=\"form-group\">\n" +
    "                    <label class=\"control-label col-sm-5 required\" for=\"txn_date\">\n" +
    "                        Estimate Date<span>(*)</span></label>\n" +
    "                    <div class=\"col-sm-7\">\n" +
    "                        <input class=\"form-control\"\n" +
    "                            type=\"text\"\n" +
    "                            uib-datepicker-popup=\"MM-dd-yyyy\"\n" +
    "                            datepicker-auto-open\n" +
    "                            ng-required=\"true\"\n" +
    "                            placeholder=\"yyyy-mm-dd\"\n" +
    "                            name=\"txn_date\"\n" +
    "                            ng-model=\"estimate.txn_date\">\n" +
    "                        <div class=\"help-block\"\n" +
    "                            ng-messages=\"estimateForm.txn_date.$error\"\n" +
    "                            ng-if=\"estimateForm.txn_date.$touched && estimateForm.txn_date.$invalid\">\n" +
    "                            <p ng-message=\"required\" class=\"text-danger\">\n" +
    "                                This field is required!\n" +
    "                            </p>\n" +
    "                        </div>\n" +
    "                    </div>\n" +
    "                </div>\n" +
    "                <div class=\"form-group\">\n" +
    "                    <label class=\"control-label col-sm-5 required\" for=\"expiration_date\">\n" +
    "                        Exp Date<span>(*)</span></label>\n" +
    "                    <div class=\"col-sm-7\">\n" +
    "                        <input class=\"form-control\"\n" +
    "                            type=\"text\"\n" +
    "                            name=\"expiration_date\"\n" +
    "                            uib-datepicker-popup=\"MM-dd-yyyy\"\n" +
    "                            datepicker-auto-open\n" +
    "                            placeholder=\"yyyy-mm-dd\"\n" +
    "                            ng-required=\"true\"\n" +
    "                            ng-model=\"estimate.expiration_date\">\n" +
    "                        <div class=\"help-block\"\n" +
    "                            ng-messages=\"estimateForm.expiration_date.$error\"\n" +
    "                            ng-if=\"estimateForm.expiration_date.$touched && estimateForm.expiration_date.$invalid\">\n" +
    "                            <p ng-message=\"required\" class=\"text-danger\">\n" +
    "                                This field is required!\n" +
    "                            </p>\n" +
    "                        </div>\n" +
    "                    </div>\n" +
    "                </div>\n" +
    "                <div class=\"form-group\">\n" +
    "                    <label class=\"control-label col-sm-5 required\" for=\"status\">\n" +
    "                        Status<span>(*)</span></label>\n" +
    "                    <div class=\"col-sm-7\">\n" +
    "                        <select class=\"form-control\" name=\"status\" ng-model=\"estimate.status\"\n" +
    "                            ng-options=\"status.value as status.label for status in ::estimateStatuses\"\n" +
    "                            ng-required=\"true\"\n" +
    "                            ng-init=\"estimate.status = 'Pending'\">\n" +
    "                        </select>\n" +
    "                    </div>\n" +
    "                </div>\n" +
    "                <div class=\"form-group\">\n" +
    "                    <label class=\"control-label col-sm-5 required\" for=\"priority\">Priority</label>\n" +
    "                    <div class=\"col-sm-7\">\n" +
    "                        <select class=\"form-control\" name=\"priority\"\n" +
    "                            ng-model=\"estimate.priority\"\n" +
    "                            ng-options=\"priority.value as priority.label for priority in ::jobPriorities\"\n" +
    "                            ng-init=\"estimate.priority = 'Normal'\">\n" +
    "                        </select>\n" +
    "                    </div>\n" +
    "                </div>\n" +
    "            </div>\n" +
    "        </div>\n" +
    "\n" +
    "        <div class=\"row form-estimate\">\n" +
    "            <div class=\"col-sm-6\">\n" +
    "                <div class=\"billing-info\">\n" +
    "                    <h3 class=\"text-center\">Billing Information</h3>\n" +
    "                    <div class=\"form-group\">\n" +
    "                        <label class=\"control-label col-sm-3 required\" for=\"customer_id\">\n" +
    "                         Name<span>(*)</span></label>\n" +
    "                        <div class=\"col-sm-9\">\n" +
    "                            <customers-select\n" +
    "                                options=\"customers\"\n" +
    "                                ng-model=\"estimate.customer_id\"\n" +
    "                                ng-required=\"true\"\n" +
    "                                on-customer-change=\"onBillCustomerChange()\"\n" +
    "                                on-customer-update=\"onBillCustomerUpdate()\"\n" +
    "                                on-customer-created=\"onBillCustomerCreated()\">\n" +
    "                            </customers-select>\n" +
    "                            <div class=\"help-block\"\n" +
    "                                ng-messages=\"estimateForm.customer_id.$error\"\n" +
    "                                ng-if=\"estimateForm.customer_id.$touched && estimateForm.customer_id.$invalid\">\n" +
    "                                <p ng-message=\"required\" class=\"text-danger\">\n" +
    "                                    This field is required!\n" +
    "                                </p>\n" +
    "                            </div>\n" +
    "                        </div>\n" +
    "                    </div>\n" +
    "                    <div class=\"form-group\">\n" +
    "                        <label class=\"control-label col-sm-3\" for=\"bill_company_name\">Company</label>\n" +
    "                        <div class=\"col-sm-9\">\n" +
    "                            <input class=\"form-control\" type=\"text\" name=\"bill_company_name\"\n" +
    "                                ng-model=\"estimate.bill_company_name\"\n" +
    "                                ng-maxlength=\"50\">\n" +
    "                            <div class=\"help-block\"\n" +
    "                                ng-messages=\"estimateForm.bill_company_name.$error\"\n" +
    "                                ng-if=\"estimateForm.bill_company_name.$touched && estimateForm.bill_company_name.$invalid\">\n" +
    "                                <p ng-message=\"maxlength\" class=\"text-danger\">\n" +
    "                                    Maximum by 50 characters!\n" +
    "                                </p>\n" +
    "                            </div>\n" +
    "                        </div>\n" +
    "                    </div>\n" +
    "                    <div class=\"form-group\">\n" +
    "                        <label class=\"control-label col-sm-3 required\" for=\"bill_address\">\n" +
    "                            Address<span>(*)</span></label>\n" +
    "                        <div class=\"col-sm-9\">\n" +
    "                            <input class=\"form-control\" name=\"bill_address\"\n" +
    "                                ng-model=\"estimate.bill_address\" ng-required=\"true\"\n" +
    "                                ng-maxlength=\"100\">\n" +
    "                            <div class=\"help-block\"\n" +
    "                                ng-messages=\"estimateForm.bill_address.$error\"\n" +
    "                                ng-if=\"estimateForm.bill_address.$touched && estimateForm.bill_address.$invalid\">\n" +
    "                                <p ng-message=\"maxlength\" class=\"text-danger\">\n" +
    "                                    Please enter less than 100 characters!\n" +
    "                                </p>\n" +
    "                                <p ng-message=\"required\" class=\"text-danger\">\n" +
    "                                    This field is required!\n" +
    "                                </p>\n" +
    "                            </div>\n" +
    "                        </div>\n" +
    "                    </div>\n" +
    "\n" +
    "                    <div class=\"form-group\">\n" +
    "                        <label class=\"control-label col-md-3 col-sm-3\" for=\"bill_city\">\n" +
    "                            City</label>\n" +
    "                        <div class=\"col-md-4 col-sm-9\" style=\"margin-bottom: 5px;\">\n" +
    "                            <input class=\"form-control\" name=\"bill_city\" ng-maxlength=\"255\"\n" +
    "                                ng-model=\"estimate.bill_city\">\n" +
    "                            <div class=\"help-block\"\n" +
    "                                ng-messages=\"estimateForm.bill_city.$error\"\n" +
    "                                ng-if=\"estimateForm.bill_city.$touched && estimateForm.bill_city.$invalid\">\n" +
    "                                <p ng-message=\"maxlength\" class=\"text-danger\">\n" +
    "                                    Please enter less than 255 characters!\n" +
    "                                </p>\n" +
    "                            </div>\n" +
    "                        </div>\n" +
    "                        <label class=\"control-label col-md-2 col-sm-3\" for=\"bill_state\">\n" +
    "                            State</label>\n" +
    "                        <div class=\"col-md-3 col-sm-9\">\n" +
    "                            <input class=\"form-control\" name=\"bill_state\"\n" +
    "                                ng-maxlength=\"255\"\n" +
    "                                ng-model=\"estimate.bill_state\">\n" +
    "                            <div class=\"help-block\"\n" +
    "                                ng-messages=\"estimateForm.bill_state.$error\"\n" +
    "                                ng-if=\"estimateForm.bill_state.$touched && estimateForm.bill_state.$invalid\">\n" +
    "                                <p ng-message=\"maxlength\" class=\"text-danger\">\n" +
    "                                    Please enter less than 255 characters!\n" +
    "                                </p>\n" +
    "                            </div>\n" +
    "                        </div>\n" +
    "                    </div>\n" +
    "                    <div class=\"form-group\">\n" +
    "                        <label class=\"control-label col-md-3 col-sm-3\" for=\"bill_zip_code\">\n" +
    "                            Zip</label>\n" +
    "                        <div class=\"col-md-3 col-sm-9\" style=\"margin-bottom: 5px;\">\n" +
    "                            <input class=\"form-control\" name=\"bill_zip_code\"\n" +
    "                                ng-maxlength=\"31\"\n" +
    "                                ng-model=\"estimate.bill_zip_code\">\n" +
    "                            <div class=\"help-block\"\n" +
    "                                ng-messages=\"estimateForm.bill_zip_code.$error\"\n" +
    "                                ng-if=\"estimateForm.bill_zip_code.$touched && estimateForm.bill_zip_code.$invalid\">\n" +
    "                                <p ng-message=\"maxlength\" class=\"text-danger\">\n" +
    "                                    Please enter less than 32 characters!\n" +
    "                                </p>\n" +
    "                            </div>\n" +
    "                        </div>\n" +
    "                        <label class=\"control-label col-md-2 col-sm-3\"\n" +
    "                            for=\"bill_country\">\n" +
    "                            Country\n" +
    "                        </label>\n" +
    "                        <div class=\"col-md-4 col-sm-9\">\n" +
    "                            <input class=\"form-control\"\n" +
    "                            name=\"bill_country\"\n" +
    "                            ng-model=\"estimate.bill_country\"\n" +
    "                            ng-maxlength=\"255\">\n" +
    "                            <div class=\"help-block\"\n" +
    "                                ng-messages=\"estimateForm.bill_country.$error\"\n" +
    "                                ng-if=\"estimateForm.bill_country.$touched && estimateForm.bill_country.$invalid\">\n" +
    "                                <p ng-message=\"maxlength\" class=\"text-danger\">\n" +
    "                                    Please enter less than 256 characters!\n" +
    "                                </p>\n" +
    "                            </div>\n" +
    "                        </div>\n" +
    "                    </div>\n" +
    "                </div>\n" +
    "            </div>\n" +
    "            <div class=\"col-sm-6\">\n" +
    "                <div class=\"job-info\">\n" +
    "                    <h3 class=\"text-center\">Job Information</h3>\n" +
    "                    <div class=\"form-group\">\n" +
    "                        <label class=\"control-label col-sm-3 required\" for=\"job_customer_id\">\n" +
    "                            Name<span>(*)</span></label>\n" +
    "                        <div class=\"col-sm-9\">\n" +
    "                            <customers-select\n" +
    "                                options=\"customers\"\n" +
    "                                ng-model=\"estimate.job_customer_id\"\n" +
    "                                ng-required=\"true\"\n" +
    "                                on-customer-change=\"onJobCustomerChange()\"\n" +
    "                                on-customer-update=\"onJobCustomerUpdate()\"\n" +
    "                                on-customer-created=\"onJobCustomerCreated()\">\n" +
    "                            </customers-select>\n" +
    "                            <div class=\"help-block\"\n" +
    "                                ng-messages=\"estimateForm.job_customer_id.$error\"\n" +
    "                                ng-if=\"estimateForm.job_customer_id.$touched && estimateForm.job_customer_id.$invalid\">\n" +
    "                                <p ng-message=\"required\" class=\"text-danger\">\n" +
    "                                    This field is required!\n" +
    "                                </p>\n" +
    "                            </div>\n" +
    "                        </div>\n" +
    "                    </div>\n" +
    "                    <div class=\"form-group\">\n" +
    "                        <label class=\"control-label col-sm-3\" for=\"job_company_name\">Company</label>\n" +
    "                        <div class=\"col-sm-9\">\n" +
    "                            <input class=\"form-control\" type=\"text\" name=\"job_company_name\"\n" +
    "                                ng-model=\"estimate.job_company_name\"\n" +
    "                                ng-maxlength=\"50\">\n" +
    "                            <div class=\"help-block\"\n" +
    "                                ng-messages=\"estimateForm.job_company_name.$error\"\n" +
    "                                ng-if=\"estimateForm.job_company_name.$touched && estimateForm.job_company_name.$invalid\">\n" +
    "                                <p ng-message=\"maxlength\" class=\"text-danger\">\n" +
    "                                    Maximum by 50 characters!\n" +
    "                                </p>\n" +
    "                            </div>\n" +
    "                        </div>\n" +
    "                    </div>\n" +
    "                    <div class=\"form-group\">\n" +
    "                        <label class=\"control-label col-sm-3 required\" for=\"address\">\n" +
    "                            Address<span>(*)</span></label>\n" +
    "                        <div class=\"col-sm-9\">\n" +
    "                            <input class=\"form-control\" type=\"text\" name=\"job_address\"\n" +
    "                                ng-required=\"true\" ng-model=\"estimate.job_address\"\n" +
    "                                ng-maxlength=\"255\">\n" +
    "                            <div class=\"help-block\"\n" +
    "                                ng-messages=\"estimateForm.job_address.$error\"\n" +
    "                                ng-if=\"estimateForm.job_address.$touched && estimateForm.job_address.$invalid\">\n" +
    "                                <p ng-message=\"maxlength\" class=\"text-danger\">\n" +
    "                                    Please enter less than 255 characters!\n" +
    "                                </p>\n" +
    "                                <p ng-message=\"required\" class=\"text-danger\">\n" +
    "                                    This field is required!\n" +
    "                                </p>\n" +
    "                            </div>\n" +
    "                        </div>\n" +
    "                    </div>\n" +
    "                    <div class=\"form-group\">\n" +
    "                        <label class=\"control-label col-md-3 col-sm-3\" for=\"job_city\">\n" +
    "                            City</label>\n" +
    "                        <div class=\"col-md-4 col-sm-9\" style=\"margin-bottom: 5px;\">\n" +
    "                            <input class=\"form-control\" type=\"text\" name=\"job_city\"\n" +
    "                                ng-model=\"estimate.job_city\" ng-maxlength=\"255\">\n" +
    "                            <div class=\"help-block\"\n" +
    "                                ng-messages=\"estimateForm.job_city.$error\"\n" +
    "                                ng-if=\"estimateForm.job_city.$touched && estimateForm.job_city.$invalid\">\n" +
    "                                <p ng-message=\"maxlength\" class=\"text-danger\">\n" +
    "                                    Please enter less than 255 characters!\n" +
    "                                </p>\n" +
    "                            </div>\n" +
    "                        </div>\n" +
    "                        <label class=\"control-label col-md-2 col-sm-3\" for=\"job_state\">\n" +
    "                            State</label>\n" +
    "                        <div class=\"col-md-3 col-sm-9\">\n" +
    "                            <input class=\"form-control\" type=\"text\" name=\"job_state\"\n" +
    "                                ng-model=\"estimate.job_state\" ng-maxlength=\"255\">\n" +
    "                            <div class=\"help-block\"\n" +
    "                                ng-messages=\"estimateForm.job_state.$error\"\n" +
    "                                ng-if=\"estimateForm.job_state.$touched && estimateForm.job_state.$invalid\">\n" +
    "                                <p ng-message=\"maxlength\" class=\"text-danger\">\n" +
    "                                    Please enter less than 255 characters!\n" +
    "                                </p>\n" +
    "                            </div>\n" +
    "                        </div>\n" +
    "                    </div>\n" +
    "\n" +
    "                    <div class=\"form-group\">\n" +
    "                        <label class=\"control-label col-md-3 col-sm-3\" for=\"job_zip_code\">Zip</label>\n" +
    "                        <div class=\"col-md-3 col-sm-9\" style=\"margin-bottom: 5px;\">\n" +
    "                            <input class=\"form-control\" type=\"text\" name=\"job_zip_code\"\n" +
    "                                ng-model=\"estimate.job_zip_code\" ng-maxlength=\"31\">\n" +
    "                            <div class=\"help-block\"\n" +
    "                                ng-messages=\"estimateForm.job_zip_code.$error\"\n" +
    "                                ng-if=\"estimateForm.job_zip_code.$touched && estimateForm.job_zip_code.$invalid\">\n" +
    "                                <p ng-message=\"maxlength\" class=\"text-danger\">\n" +
    "                                    Please enter less than 32 characters!\n" +
    "                                </p>\n" +
    "                            </div>\n" +
    "                        </div>\n" +
    "                        <label class=\"control-label col-md-2 col-sm-3\"for=\"job_country\">Country</label>\n" +
    "                        <div class=\"col-md-4 col-sm-9\">\n" +
    "                            <input name=\"job_country\"\n" +
    "                                class=\"form-control\"\n" +
    "                                ng-model=\"estimate.job_country\"\n" +
    "                                ng-maxlength=\"255\">\n" +
    "                            <div class=\"help-block\"\n" +
    "                                ng-messages=\"estimateForm.job_country.$error\"\n" +
    "                                ng-if=\"estimateForm.job_country.$touched && estimateForm.job_country.$invalid\">\n" +
    "                                <p ng-message=\"maxlength\" class=\"text-danger\">\n" +
    "                                    Please enter less than 255 characters!\n" +
    "                                </p>\n" +
    "                            </div>\n" +
    "                        </div>\n" +
    "                    </div>\n" +
    "                </div>\n" +
    "            </div>\n" +
    "        </div>\n" +
    "\n" +
    "        <div class=\"row\">\n" +
    "            <div class=\"col-md-12\">\n" +
    "                <div class=\"form-group\">\n" +
    "                    <div class=\"col-md-6 col-sm-6 col-xs-12\">\n" +
    "                        <div class=\"row\">\n" +
    "                            <label class=\"control-label col-md-3 col-sm-3\"\n" +
    "                                for=\"primary_phone_number\">\n" +
    "                                Primary Phone</label>\n" +
    "                            <div class=\"col-md-9 col-sm-9\">\n" +
    "                                <input class=\"form-control\" name=\"primary_phone_number\"\n" +
    "                                    ng-model=\"estimate.primary_phone_number\"\n" +
    "                                    ui-mask=\"?9?9?9-?9?9?9-?9?9?9?9\"\n" +
    "                                    model-view-value=\"true\"\n" +
    "                                    ng-maxlength=\"255\">\n" +
    "                                <div class=\"help-block\"\n" +
    "                                    ng-messages=\"estimateForm.primary_phone_number.$error\"\n" +
    "                                    ng-if=\"estimateForm.primary_phone_number.$touched && estimateForm.primary_phone_number.$invalid\">\n" +
    "                                    <p ng-message=\"maxlength\" class=\"text-danger\">\n" +
    "                                        Please enter less than 255 characters!\n" +
    "                                    </p>\n" +
    "                                </div>\n" +
    "                            </div>\n" +
    "                        </div>\n" +
    "                    </div>\n" +
    "                    <div class=\"col-md-6 col-sm-6 col-xs-12\">\n" +
    "                        <div class=\"row\">\n" +
    "                            <label class=\"control-label col-md-3 col-sm-3\"\n" +
    "                                for=\"mobile_phone_number\">\n" +
    "                                Secondary Phone</label>\n" +
    "                            <div class=\"col-md-9 col-sm-9\">\n" +
    "                                <input class=\"form-control\" name=\"mobile_phone_number\"\n" +
    "                                    ng-model=\"estimate.mobile_phone_number\"\n" +
    "                                    ui-mask=\"?9?9?9-?9?9?9-?9?9?9?9\"\n" +
    "                                    model-view-value=\"true\"\n" +
    "                                    ng-maxlength=\"255\">\n" +
    "                                <div class=\"help-block\"\n" +
    "                                    ng-messages=\"estimateForm.mobile_phone_number.$error\"\n" +
    "                                    ng-if=\"estimateForm.mobile_phone_number.$touched && estimateForm.mobile_phone_number.$invalid\">\n" +
    "                                    <p ng-message=\"maxlength\" class=\"text-danger\">\n" +
    "                                        Please enter less than 255 characters!\n" +
    "                                    </p>\n" +
    "                                </div>\n" +
    "                            </div>\n" +
    "                        </div>\n" +
    "                    </div>\n" +
    "                </div>\n" +
    "            </div>\n" +
    "        </div>\n" +
    "\n" +
    "        <div class=\"row\">\n" +
    "            <div class=\"col-md-6 col-sm-6 col-xs-12\">\n" +
    "                <div class=\"form-group\">\n" +
    "                    <label class=\"control-label col-sm-3 required\" for=\"email\">\n" +
    "                    Email<span>(*)</span></label>\n" +
    "                    <div class=\"col-sm-9\">\n" +
    "                        <input type=\"text\" class=\"form-control\" name=\"email\"\n" +
    "                            ng-model=\"estimate.email\"\n" +
    "                            multiple-emails\n" +
    "                            ng-maxlength=\"100\"\n" +
    "                            ng-required=\"true\">\n" +
    "                        <div class=\"help-block\"\n" +
    "                            ng-messages=\"estimateForm.email.$error\"\n" +
    "                            ng-if=\"estimateForm.email.$touched && estimateForm.email.$invalid\">\n" +
    "                            <p ng-message=\"required\" class=\"text-danger\">\n" +
    "                                This field is required!\n" +
    "                            </p>\n" +
    "                            <p ng-message=\"multipleEmails\" class=\"text-danger\">\n" +
    "                                Separate multiple emails with commas\n" +
    "                            </p>\n" +
    "                            <p ng-message=\"maxlength\" class=\"text-danger\">\n" +
    "                                Maximum by 100 characters!\n" +
    "                            </p>\n" +
    "                        </div>\n" +
    "                    </div>\n" +
    "                </div>\n" +
    "            </div>\n" +
    "        </div>\n" +
    "\n" +
    "        <div class=\"row\">\n" +
    "            <div class=\"col-sm-12 col-xs-12 location-notes\">\n" +
    "                <div class=\"form-group\">\n" +
    "                    <label for=\"location_notes\">Location Notes</label>\n" +
    "                    <textarea class=\"form-control\" name=\"location_notes\" rows=\"5\" id=\"comment\"\n" +
    "                        ng-model=\"estimate.location_notes\">\n" +
    "                    </textarea>\n" +
    "                </div>\n" +
    "            </div>\n" +
    "        </div>\n" +
    "        <div class=\"row\">\n" +
    "            <div class=\"col-sm-12 col-xs-12\">\n" +
    "                <table class=\"table table-bordered table-striped table-fixed header-fixed wpt-table lines-table\">\n" +
    "                    <thead>\n" +
    "                      <tr>\n" +
    "                        <th style=\"width: 30px;\"></th>\n" +
    "                        <th style=\"width: 30px;\">#</th>\n" +
    "                        <th style=\"width: 190px;\">Product/Service</th>\n" +
    "                        <th style=\"width: 450px;\">Description</th>\n" +
    "                        <th style=\"width: 50px;\">QTY</th>\n" +
    "                        <th style=\"width: 70px;\">Rate</th>\n" +
    "                        <th style=\"width: 100px;\">Amount</th>\n" +
    "                        <th style=\"width: 30px;\"></th>\n" +
    "                      </tr>\n" +
    "                    </thead>\n" +
    "                    <tbody as-sortable=\"lineItemsDragListeners\" data-ng-model=\"estimate.lines\" is-disabled=\"estimate.lines.length == 1\">\n" +
    "                      <tr ng-repeat=\"line in estimate.lines\" as-sortable-item>\n" +
    "                        <td><span class=\"glyphicon glyphicon-th\" data-as-sortable-item-handle></span></td>\n" +
    "                        <td><span ng-bind=\"$index + 1\"></span></td>\n" +
    "                        <td>\n" +
    "                            <selectize\n" +
    "                                ng-model=\"line.product_service_id\"\n" +
    "                                ng-change=\"changeLineProductService(line)\"\n" +
    "                                config=\"productServicesSelectConfig\"\n" +
    "                                options=\"productServices\">\n" +
    "                            </selectize>\n" +
    "                        </td>\n" +
    "                        <td><textarea class=\"form-control\" ng-model=\"line.description\"/></textarea>\n" +
    "                        <td>\n" +
    "                            <input type=\"number\"\n" +
    "                                ng-pattern=\"/^\\d+$/\"\n" +
    "                                ng-model=\"line.qty\"\n" +
    "                                ng-change=\"updateTotal()\"/>\n" +
    "                        </td>\n" +
    "                        <td>\n" +
    "                            <input type=\"number\"\n" +
    "                                ng-model=\"line.rate\"\n" +
    "                                ng-change=\"updateTotal()\"/>\n" +
    "                        </td>\n" +
    "                        <td>\n" +
    "                            <span ng-bind=\"line.total\"></span>\n" +
    "                        </td>\n" +
    "                        <td><span ng-click=\"removeLine(line)\" class=\"glyphicon glyphicon-trash text-danger\"></span></td>\n" +
    "                      </tr>\n" +
    "                    </tbody>\n" +
    "                </table>\n" +
    "            </div>\n" +
    "        </div>\n" +
    "\n" +
    "        <div class=\"row\">\n" +
    "            <div class=\"col-sm-12\">\n" +
    "                <div class=\"col-sm-6\">\n" +
    "                    <button type=\"button\" class=\"btn btn-default btn-lines\" ng-click=\"addLine()\">Add Line</button>\n" +
    "                    <button type=\"button\" class=\"btn btn-default btn-lines\" ng-click=\"removeAllLines()\">Clean All Lines</button>\n" +
    "                </div>\n" +
    "                <div class=\"col-sm-6 text-right\">\n" +
    "                    <span class=\"estimate-total\">Estimate total: $<span ng-bind=\"estimate.total\"></span></span>\n" +
    "                    <br/>\n" +
    "                    <span>Quoted Prices Good for 30 Days</span>\n" +
    "                </div>\n" +
    "            </div>\n" +
    "        </div>\n" +
    "        <div class=\"space-30\"></div>\n" +
    "        <div class=\"row\">\n" +
    "            <div class=\"col-md-6\">\n" +
    "                <div class=\"col-md-12\">\n" +
    "                    <div class=\"form-group\">\n" +
    "                        <label class=\"col-md-4\" for=\"date_of_signature\">\n" +
    "                            Date of Signature</label>\n" +
    "                        <div class=\"col-md-8\">\n" +
    "                            <input class=\"form-control\"\n" +
    "                                type=\"text\"\n" +
    "                                name=\"date_of_signature\"\n" +
    "                                uib-datepicker-popup=\"MM-dd-yyyy\"\n" +
    "                                datepicker-auto-open\n" +
    "                                ng-model=\"estimate.date_of_signature\"\n" +
    "                                placeholder=\"mm-dd-yyyy\">\n" +
    "                        </div>\n" +
    "                    </div>\n" +
    "                </div>\n" +
    "                <div class=\"col-md-12\">\n" +
    "                    <div class=\"form-group\">\n" +
    "                        <div class=\"col-sm-12\">\n" +
    "                            <label for=\"customer_signature\">Customer Signature Authorizes Commencement of Work</label>\n" +
    "                            <br>\n" +
    "                            <button type=\"button\"\n" +
    "                                ng-click=\"showSignatureBox()\"\n" +
    "                                class=\"btn btn-sm btn-default\">\n" +
    "                                <span class=\"glyphicon glyphicon-pencil\"></span> Sign</button>\n" +
    "                        </div>\n" +
    "                        <div class=\"col-sm-12\">\n" +
    "                            <div class=\"div-customer-signature-preview text-center\" ng-show=\"signatureEncoded\">\n" +
    "                                <img ng-src=\"{{signatureEncoded}}\" ng-if=\"signatureEncoded\"/>\n" +
    "                            </div>\n" +
    "                        </div>\n" +
    "                    </div>\n" +
    "                    <div class=\"form-group\">\n" +
    "                        <label class=\"col-sm-3\" for=\"sold_by_1\">Sold By</label>\n" +
    "                        <div class=\"col-sm-9\">\n" +
    "                            <selectize\n" +
    "                                config=\"soldBySelectConfig\"\n" +
    "                                ng-model=\"estimate.sold_by_1\"\n" +
    "                                options=\"employees\">\n" +
    "                            </selectize>\n" +
    "                        </div>\n" +
    "                    </div>\n" +
    "                    <div class=\"form-group\">\n" +
    "                        <label class=\"col-sm-3\" for=\"sold_by_2\">Sold By</label>\n" +
    "                        <div class=\"col-sm-9\">\n" +
    "                            <selectize\n" +
    "                                config=\"soldBySelectConfig\"\n" +
    "                                ng-model=\"estimate.sold_by_2\"\n" +
    "                                options=\"employees\">\n" +
    "                            </selectize>\n" +
    "                        </div>\n" +
    "                    </div>\n" +
    "                </div>\n" +
    "            </div>\n" +
    "            <div class=\"col-md-6\">\n" +
    "                <div class=\"form-group\">\n" +
    "                    <label class=\"col-sm-12\" for=\"estimate_disclaimer\">\n" +
    "                        Disclaimer</label>\n" +
    "                    <div class=\"col-sm-12\">\n" +
    "                        <textarea class=\"form-control\" rows=\"5\"\n" +
    "                            ng-maxlength=\"1000\"\n" +
    "                            ng-model=\"estimate.disclaimer\" name=\"estimate_disclaimer\">\n" +
    "                        </textarea>\n" +
    "                        <div class=\"help-block\" ng-messages=\"estimateForm.estimate_disclaimer.$error\"\n" +
    "                            ng-if=\"estimateForm.estimate_disclaimer.$touched && estimateForm.estimate_disclaimer.$invalid\">\n" +
    "                            <p ng-message=\"maxlength\" class=\"text-danger\">\n" +
    "                                Maximum by 1000 characters!\n" +
    "                            </p>\n" +
    "                        </div>\n" +
    "                    </div>\n" +
    "                </div>\n" +
    "                <div class=\"form-group\">\n" +
    "                    <label class=\"col-sm-12\" for=\"estimate_footer\">\n" +
    "                        Accepted Agreement</label>\n" +
    "                    <div class=\"col-sm-12\">\n" +
    "                        <textarea class=\"form-control\" rows=\"7\"\n" +
    "                            ng-maxlength=\"1000\"\n" +
    "                            ng-model=\"estimate.estimate_footer\" name=\"estimate_footer\">\n" +
    "                        </textarea>\n" +
    "                        <div class=\"help-block\" ng-messages=\"estimateForm.estimate_footer.$error\"\n" +
    "                            ng-if=\"estimateForm.estimate_footer.$touched && estimateForm.estimate_footer.$invalid\">\n" +
    "                            <p ng-message=\"maxlength\" class=\"text-danger\">\n" +
    "                                Maximum by 1000 characters!\n" +
    "                            </p>\n" +
    "                        </div>\n" +
    "                    </div>\n" +
    "                </div>\n" +
    "            </div>\n" +
    "        </div>\n" +
    "        <div class=\"row\">\n" +
    "            <div class=\"col-md-12 text-right\">\n" +
    "                <button type=\"submit\" class=\"btn btn-primary\" ng-disabled=\"$root.isBusy || estimateForm.$invalid\">Save</button>\n" +
    "                <button type=\"button\" class=\"btn btn-default\" ng-click=\"submitForm(true)\" ng-disabled=\"$root.isBusy || estimateForm.$invalid\">Print</button>\n" +
    "            </div>\n" +
    "        </div>\n" +
    "    </form>\n" +
    "    <customer-signature-modal on-save=\"onSaveSignature(signatureEncoded)\" show=\"isShowModalSignature\">\n" +
    "    </customer-signature-modal>\n" +
    "</div>\n"
  );


  $templateCache.put('templates/estimate/edit.html',
    "<div ng-controller=\"EditEstimateCtrl\">\n" +
    "    <form class=\"form-horizontal\" name=\"estimateForm\" ng-submit=\"submitForm()\" novalidate>\n" +
    "        <div class=\"row\">\n" +
    "            <div class=\"col-md-5\">\n" +
    "                <span class=\"top-leaf\" ng-bind=\"::companyInfo.name\"></span>\n" +
    "                <br>\n" +
    "                <span ng-bind=\"::companyInfo.mailing_address\"></span>\n" +
    "                <br>\n" +
    "                Tel:\n" +
    "                <span ng-bind=\"::companyInfo.primary_phone_number\"></span>\n" +
    "                Fax:\n" +
    "                <span ng-bind=\"::companyInfo.fax\"></span>\n" +
    "            </div>\n" +
    "            <div class=\"col-md-3 text-center\">\n" +
    "                <img ng-src=\"{{::$root.baseERPPluginUrl}}{{::companyInfo.logo_url}}\" class=\"estimate-logo\">\n" +
    "            </div>\n" +
    "            <div class=\"col-md-4\">\n" +
    "                <div class=\"form-group\">\n" +
    "                    <div class=\"service-argreement pull-right\">\n" +
    "                        <span class=\"service-argreement\">Service Agreement</span>\n" +
    "                    </div>\n" +
    "                </div>\n" +
    "                <div class=\"form-group\">\n" +
    "                    <label class=\"control-label col-sm-5 required\" for=\"class_id\">\n" +
    "                        Source<span>(*)</span></label>\n" +
    "                    <div class=\"col-sm-7\">\n" +
    "                        <classes-select\n" +
    "                            options=\"classes\"\n" +
    "                            ng-model=\"estimate.class_id\"\n" +
    "                            ng-required=\"true\"></classes-select>\n" +
    "                        <div class=\"help-block\"\n" +
    "                            ng-messages=\"estimateForm.class_id.$error\"\n" +
    "                            ng-if=\"estimateForm.class_id.$touched && estimateForm.class_id.$invalid\">\n" +
    "                            <p ng-message=\"maxlength\" class=\"text-danger\">\n" +
    "                                Please enter less than 100 characters!\n" +
    "                            </p>\n" +
    "                            <p ng-message=\"required\" class=\"text-danger\">\n" +
    "                                This field is required!\n" +
    "                            </p>\n" +
    "                        </div>\n" +
    "                    </div>\n" +
    "                </div>\n" +
    "                <div class=\"form-group\">\n" +
    "                    <label class=\"control-label col-sm-5 required\" for=\"txn_date\">\n" +
    "                        Estimate Date<span>(*)</span></label>\n" +
    "                    <div class=\"col-sm-7\">\n" +
    "                        <input class=\"form-control\"\n" +
    "                            type=\"text\"\n" +
    "                            uib-datepicker-popup=\"MM-dd-yyyy\"\n" +
    "                            ng-required=\"true\"\n" +
    "                            datepicker-auto-open\n" +
    "                            placeholder=\"yyyy-mm-dd\"\n" +
    "                            name=\"txn_date\"\n" +
    "                            ng-model=\"estimate.txn_date\">\n" +
    "                        <div class=\"help-block\"\n" +
    "                            ng-messages=\"estimateForm.txn_date.$error\"\n" +
    "                            ng-if=\"estimateForm.txn_date.$touched && estimateForm.txn_date.$invalid\">\n" +
    "                            <p ng-message=\"required\" class=\"text-danger\">\n" +
    "                                This field is required!\n" +
    "                            </p>\n" +
    "                        </div>\n" +
    "                    </div>\n" +
    "                </div>\n" +
    "                <div class=\"form-group\">\n" +
    "                    <label class=\"control-label col-sm-5 required\" for=\"expiration_date\">\n" +
    "                        Exp Date<span>(*)</span></label>\n" +
    "                    <div class=\"col-sm-7\">\n" +
    "                        <input class=\"form-control\"\n" +
    "                            type=\"text\"\n" +
    "                            name=\"expiration_date\"\n" +
    "                            uib-datepicker-popup=\"MM-dd-yyyy\"\n" +
    "                            datepicker-auto-open\n" +
    "                            placeholder=\"yyyy-mm-dd\"\n" +
    "                            ng-required=\"true\"\n" +
    "                            ng-model=\"estimate.expiration_date\">\n" +
    "                        <div class=\"help-block\"\n" +
    "                            ng-messages=\"estimateForm.expiration_date.$error\"\n" +
    "                            ng-if=\"estimateForm.expiration_date.$touched && estimateForm.expiration_date.$invalid\">\n" +
    "                            <p ng-message=\"required\" class=\"text-danger\">\n" +
    "                                This field is required!\n" +
    "                            </p>\n" +
    "                        </div>\n" +
    "                    </div>\n" +
    "                </div>\n" +
    "                <div class=\"form-group\">\n" +
    "                    <label class=\"control-label col-sm-5 required\" for=\"status\">\n" +
    "                        Status<span>(*)</span></label>\n" +
    "                    <div class=\"col-sm-7\">\n" +
    "                        <select class=\"form-control\" name=\"status\" ng-model=\"estimate.status\"\n" +
    "                            ng-options=\"status.value as status.label for status in ::estimateStatuses\"\n" +
    "                            ng-required=\"true\">\n" +
    "                        </select>\n" +
    "                    </div>\n" +
    "                </div>\n" +
    "                <div class=\"form-group\">\n" +
    "                    <label class=\"control-label col-sm-5\" for=\"priority\">Priority</label>\n" +
    "                    <div class=\"col-sm-7\">\n" +
    "                        <select class=\"form-control\"\n" +
    "                            name=\"priority\"\n" +
    "                            ng-model=\"estimate.priority\"\n" +
    "                            ng-options=\"priority.value as priority.label for priority in ::jobPriorities\">\n" +
    "                        </select>\n" +
    "                    </div>\n" +
    "                </div>\n" +
    "            </div>\n" +
    "        </div>\n" +
    "\n" +
    "        <div class=\"row form-estimate\">\n" +
    "            <div class=\"col-sm-6\">\n" +
    "                <div class=\"billing-info\">\n" +
    "                    <h3 class=\"text-center\">Billing Information</h3>\n" +
    "                    <div class=\"form-group\">\n" +
    "                        <label class=\"control-label col-sm-3 required\" for=\"customer_id\">\n" +
    "                         Name<span>(*)</span></label>\n" +
    "                        <div class=\"col-sm-9\">\n" +
    "                            <customers-select\n" +
    "                                options=\"customers\"\n" +
    "                                ng-model=\"estimate.customer_id\"\n" +
    "                                ng-required=\"true\"\n" +
    "                                on-customer-change=\"onBillCustomerChange()\"\n" +
    "                                on-customer-update=\"onBillCustomerUpdate()\">\n" +
    "                            </customers-select>\n" +
    "                            <div class=\"help-block\"\n" +
    "                                ng-messages=\"estimateForm.customer_id.$error\"\n" +
    "                                ng-if=\"estimateForm.customer_id.$touched && estimateForm.customer_id.$invalid\">\n" +
    "                                <p ng-message=\"required\" class=\"text-danger\">\n" +
    "                                    This field is required!\n" +
    "                                </p>\n" +
    "                            </div>\n" +
    "                        </div>\n" +
    "                    </div>\n" +
    "                    <div class=\"form-group\">\n" +
    "                        <label class=\"control-label col-sm-3\" for=\"bill_company_name\">Company</label>\n" +
    "                        <div class=\"col-sm-9\">\n" +
    "                            <input class=\"form-control\" type=\"text\" name=\"bill_company_name\"\n" +
    "                                ng-model=\"estimate.bill_company_name\"\n" +
    "                                ng-maxlength=\"50\">\n" +
    "                            <div class=\"help-block\"\n" +
    "                                ng-messages=\"estimateForm.bill_company_name.$error\"\n" +
    "                                ng-if=\"estimateForm.bill_company_name.$touched && estimateForm.bill_company_name.$invalid\">\n" +
    "                                <p ng-message=\"maxlength\" class=\"text-danger\">\n" +
    "                                    Maximum by 50 characters!\n" +
    "                                </p>\n" +
    "                            </div>\n" +
    "                        </div>\n" +
    "                    </div>\n" +
    "                    <div class=\"form-group\">\n" +
    "                        <label class=\"control-label col-sm-3 required\" for=\"bill_address\">\n" +
    "                            Address<span>(*)</span></label>\n" +
    "                        <div class=\"col-sm-9\">\n" +
    "                            <input class=\"form-control\" name=\"bill_address\"\n" +
    "                                ng-model=\"estimate.bill_address\" ng-required=\"true\"\n" +
    "                                ng-maxlength=\"100\">\n" +
    "                            <div class=\"help-block\"\n" +
    "                                ng-messages=\"estimateForm.bill_address.$error\"\n" +
    "                                ng-if=\"estimateForm.bill_address.$touched && estimateForm.bill_address.$invalid\">\n" +
    "                                <p ng-message=\"maxlength\" class=\"text-danger\">\n" +
    "                                    Please enter less than 100 characters!\n" +
    "                                </p>\n" +
    "                                <p ng-message=\"required\" class=\"text-danger\">\n" +
    "                                    This field is required!\n" +
    "                                </p>\n" +
    "                            </div>\n" +
    "                        </div>\n" +
    "                    </div>\n" +
    "                    <div class=\"form-group\">\n" +
    "                        <label class=\"control-label col-md-3 col-sm-3\" for=\"bill_city\">\n" +
    "                            City</label>\n" +
    "                        <div class=\"col-md-4 col-sm-9\" style=\"margin-bottom: 5px;\">\n" +
    "                            <input class=\"form-control\" name=\"bill_city\" ng-maxlength=\"255\"\n" +
    "                                ng-model=\"estimate.bill_city\">\n" +
    "                            <div class=\"help-block\"\n" +
    "                                ng-messages=\"estimateForm.bill_city.$error\"\n" +
    "                                ng-if=\"estimateForm.bill_city.$touched && estimateForm.bill_city.$invalid\">\n" +
    "                                <p ng-message=\"maxlength\" class=\"text-danger\">\n" +
    "                                    Please enter less than 255 characters!\n" +
    "                                </p>\n" +
    "                            </div>\n" +
    "                        </div>\n" +
    "                        <label class=\"control-label col-md-2 col-sm-3\" for=\"bill_state\">\n" +
    "                            State</label>\n" +
    "                        <div class=\"col-md-3 col-sm-9\">\n" +
    "                            <input class=\"form-control\" name=\"bill_state\"\n" +
    "                                ng-maxlength=\"255\"\n" +
    "                                ng-model=\"estimate.bill_state\">\n" +
    "                            <div class=\"help-block\"\n" +
    "                                ng-messages=\"estimateForm.bill_state.$error\"\n" +
    "                                ng-if=\"estimateForm.bill_state.$touched && estimateForm.bill_state.$invalid\">\n" +
    "                                <p ng-message=\"maxlength\" class=\"text-danger\">\n" +
    "                                    Please enter less than 255 characters!\n" +
    "                                </p>\n" +
    "                            </div>\n" +
    "                        </div>\n" +
    "                    </div>\n" +
    "\n" +
    "                    <div class=\"form-group\">\n" +
    "                        <label class=\"control-label col-md-3 col-sm-3\" for=\"bill_zip_code\">\n" +
    "                            Zip</label>\n" +
    "                        <div class=\"col-md-3 col-sm-9\" style=\"margin-bottom: 5px;\">\n" +
    "                            <input class=\"form-control\" name=\"bill_zip_code\"\n" +
    "                                ng-maxlength=\"31\"\n" +
    "                                ng-model=\"estimate.bill_zip_code\">\n" +
    "                            <div class=\"help-block\"\n" +
    "                                ng-messages=\"estimateForm.bill_zip_code.$error\"\n" +
    "                                ng-if=\"estimateForm.bill_zip_code.$touched && estimateForm.bill_zip_code.$invalid\">\n" +
    "                                <p ng-message=\"maxlength\" class=\"text-danger\">\n" +
    "                                    Please enter less than 32 characters!\n" +
    "                                </p>\n" +
    "                            </div>\n" +
    "                        </div>\n" +
    "                        <label class=\"control-label col-md-2 col-sm-3\"\n" +
    "                            for=\"bill_country\">\n" +
    "                            Country\n" +
    "                        </label>\n" +
    "                        <div class=\"col-md-4 col-sm-9\">\n" +
    "                            <input class=\"form-control\"\n" +
    "                            name=\"bill_country\"\n" +
    "                            ng-model=\"estimate.bill_country\"\n" +
    "                            ng-maxlength=\"255\">\n" +
    "                            <div class=\"help-block\"\n" +
    "                                ng-messages=\"estimateForm.bill_country.$error\"\n" +
    "                                ng-if=\"estimateForm.bill_country.$touched && estimateForm.bill_country.$invalid\">\n" +
    "                                <p ng-message=\"maxlength\" class=\"text-danger\">\n" +
    "                                    Please enter less than 255 characters!\n" +
    "                                </p>\n" +
    "                            </div>\n" +
    "                        </div>\n" +
    "                    </div>\n" +
    "                </div>\n" +
    "            </div>\n" +
    "            <div class=\"col-sm-6\">\n" +
    "                <div class=\"job-info\">\n" +
    "                    <h3 class=\"text-center\">Job Information</h3>\n" +
    "                    <div class=\"form-group\">\n" +
    "                        <label class=\"control-label col-sm-3 required\" for=\"job_customer_id\">\n" +
    "                            Name<span>(*)</span></label>\n" +
    "                        <div class=\"col-sm-9\">\n" +
    "                            <customers-select\n" +
    "                                options=\"customers\"\n" +
    "                                ng-model=\"estimate.job_customer_id\"\n" +
    "                                ng-required=\"true\"\n" +
    "                                on-customer-change=\"onJobCustomerChange()\"\n" +
    "                                on-customer-update=\"onJobCustomerUpdate()\">\n" +
    "                            </customers-select>\n" +
    "                            <div class=\"help-block\"\n" +
    "                                ng-messages=\"estimateForm.job_customer_id.$error\"\n" +
    "                                ng-if=\"estimateForm.job_customer_id.$touched && estimateForm.job_customer_id.$invalid\">\n" +
    "                                <p ng-message=\"required\" class=\"text-danger\">\n" +
    "                                    This field is required!\n" +
    "                                </p>\n" +
    "                            </div>\n" +
    "                        </div>\n" +
    "                    </div>\n" +
    "                    <div class=\"form-group\">\n" +
    "                        <label class=\"control-label col-sm-3\" for=\"job_company_name\">Company</label>\n" +
    "                        <div class=\"col-sm-9\">\n" +
    "                            <input class=\"form-control\" type=\"text\" name=\"job_company_name\"\n" +
    "                                ng-model=\"estimate.job_company_name\"\n" +
    "                                ng-maxlength=\"50\">\n" +
    "                            <div class=\"help-block\"\n" +
    "                                ng-messages=\"estimateForm.job_company_name.$error\"\n" +
    "                                ng-if=\"estimateForm.job_company_name.$touched && estimateForm.job_company_name.$invalid\">\n" +
    "                                <p ng-message=\"maxlength\" class=\"text-danger\">\n" +
    "                                    Maximum by 50 characters!\n" +
    "                                </p>\n" +
    "                            </div>\n" +
    "                        </div>\n" +
    "                    </div>\n" +
    "                    <div class=\"form-group\">\n" +
    "                        <label class=\"control-label col-sm-3 required\" for=\"address\">\n" +
    "                            Address<span>(*)</span></label>\n" +
    "                        <div class=\"col-sm-9\">\n" +
    "                            <input class=\"form-control\" type=\"text\" name=\"job_address\"\n" +
    "                                ng-required=\"true\" ng-model=\"estimate.job_address\"\n" +
    "                                ng-maxlength=\"255\">\n" +
    "                            <div class=\"help-block\"\n" +
    "                                ng-messages=\"estimateForm.job_address.$error\"\n" +
    "                                ng-if=\"estimateForm.job_address.$touched && estimateForm.job_address.$invalid\">\n" +
    "                                <p ng-message=\"maxlength\" class=\"text-danger\">\n" +
    "                                    Please enter less than 255 characters!\n" +
    "                                </p>\n" +
    "                                <p ng-message=\"required\" class=\"text-danger\">\n" +
    "                                    This field is required!\n" +
    "                                </p>\n" +
    "                            </div>\n" +
    "                        </div>\n" +
    "                    </div>\n" +
    "                    <div class=\"form-group\">\n" +
    "                        <label class=\"control-label col-md-3 col-sm-3\" for=\"job_city\">\n" +
    "                            City</label>\n" +
    "                        <div class=\"col-md-4 col-sm-9\" style=\"margin-bottom: 5px;\">\n" +
    "                            <input class=\"form-control\" type=\"text\" name=\"job_city\"\n" +
    "                                ng-model=\"estimate.job_city\" ng-maxlength=\"255\">\n" +
    "                            <div class=\"help-block\"\n" +
    "                                ng-messages=\"estimateForm.job_city.$error\"\n" +
    "                                ng-if=\"estimateForm.job_city.$touched && estimateForm.job_city.$invalid\">\n" +
    "                                <p ng-message=\"maxlength\" class=\"text-danger\">\n" +
    "                                    Please enter less than 255 characters!\n" +
    "                                </p>\n" +
    "                            </div>\n" +
    "                        </div>\n" +
    "                        <label class=\"control-label col-md-2 col-sm-3\" for=\"job_state\">\n" +
    "                            State</label>\n" +
    "                        <div class=\"col-md-3 col-sm-9\">\n" +
    "                            <input class=\"form-control\" type=\"text\" name=\"job_state\"\n" +
    "                                ng-model=\"estimate.job_state\" ng-maxlength=\"255\">\n" +
    "                            <div class=\"help-block\"\n" +
    "                                ng-messages=\"estimateForm.job_state.$error\"\n" +
    "                                ng-if=\"estimateForm.job_state.$touched && estimateForm.job_state.$invalid\">\n" +
    "                                <p ng-message=\"maxlength\" class=\"text-danger\">\n" +
    "                                    Please enter less than 255 characters!\n" +
    "                                </p>\n" +
    "                            </div>\n" +
    "                        </div>\n" +
    "                    </div>\n" +
    "\n" +
    "                    <div class=\"form-group\">\n" +
    "                        <label class=\"control-label col-md-3 col-sm-3\" for=\"job_zip_code\">Zip</label>\n" +
    "                        <div class=\"col-md-3 col-sm-9\" style=\"margin-bottom: 5px;\">\n" +
    "                            <input class=\"form-control\" type=\"text\" name=\"job_zip_code\"\n" +
    "                                ng-model=\"estimate.job_zip_code\" ng-maxlength=\"31\">\n" +
    "                            <div class=\"help-block\"\n" +
    "                                ng-messages=\"estimateForm.job_zip_code.$error\"\n" +
    "                                ng-if=\"estimateForm.job_zip_code.$touched && estimateForm.job_zip_code.$invalid\">\n" +
    "                                <p ng-message=\"maxlength\" class=\"text-danger\">\n" +
    "                                    Please enter less than 32 characters!\n" +
    "                                </p>\n" +
    "                            </div>\n" +
    "                        </div>\n" +
    "                        <label class=\"control-label col-md-2 col-sm-3\"for=\"job_country\">Country</label>\n" +
    "                        <div class=\"col-md-4 col-sm-9\">\n" +
    "                            <input name=\"job_country\"\n" +
    "                                class=\"form-control\"\n" +
    "                                ng-model=\"estimate.job_country\"\n" +
    "                                ng-maxlength=\"255\">\n" +
    "                            <div class=\"help-block\"\n" +
    "                                ng-messages=\"estimateForm.job_country.$error\"\n" +
    "                                ng-if=\"estimateForm.job_country.$touched && estimateForm.job_country.$invalid\">\n" +
    "                                <p ng-message=\"maxlength\" class=\"text-danger\">\n" +
    "                                    Please enter less than 255 characters!\n" +
    "                                </p>\n" +
    "                            </div>\n" +
    "                        </div>\n" +
    "                    </div>\n" +
    "                </div>\n" +
    "            </div>\n" +
    "        </div>\n" +
    "\n" +
    "        <div class=\"row\">\n" +
    "            <div class=\"col-md-12\">\n" +
    "                <div class=\"form-group\">\n" +
    "                    <div class=\"col-md-6 col-sm-6 col-xs-12\">\n" +
    "                        <div class=\"row\">\n" +
    "                            <label class=\"control-label col-md-3 col-sm-3\"\n" +
    "                                for=\"primary_phone_number\">\n" +
    "                                Primary Phone</label>\n" +
    "                            <div class=\"col-md-9 col-sm-9\">\n" +
    "                                <input class=\"form-control\" name=\"primary_phone_number\"\n" +
    "                                    ng-model=\"estimate.primary_phone_number\"\n" +
    "                                    ui-mask=\"?9?9?9-?9?9?9-?9?9?9?9\"\n" +
    "                                    model-view-value=\"true\"\n" +
    "                                    ng-maxlength=\"255\">\n" +
    "                                <div class=\"help-block\"\n" +
    "                                    ng-messages=\"estimateForm.primary_phone_number.$error\"\n" +
    "                                    ng-if=\"estimateForm.primary_phone_number.$touched && estimateForm.primary_phone_number.$invalid\">\n" +
    "                                    <p ng-message=\"maxlength\" class=\"text-danger\">\n" +
    "                                        Please enter less than 255 characters!\n" +
    "                                    </p>\n" +
    "                                </div>\n" +
    "                            </div>\n" +
    "                        </div>\n" +
    "                    </div>\n" +
    "                    <div class=\"col-md-6 col-sm-6 col-xs-12\">\n" +
    "                        <div class=\"row\">\n" +
    "                            <label class=\"control-label col-md-3 col-sm-3\"\n" +
    "                                for=\"mobile_phone_number\">\n" +
    "                                Secondary Phone</label>\n" +
    "                            <div class=\"col-md-9 col-sm-9\">\n" +
    "                                <input class=\"form-control\" name=\"mobile_phone_number\"\n" +
    "                                    ng-model=\"estimate.mobile_phone_number\"\n" +
    "                                    ui-mask=\"?9?9?9-?9?9?9-?9?9?9?9\"\n" +
    "                                    model-view-value=\"true\"\n" +
    "                                    ng-maxlength=\"255\">\n" +
    "                                <div class=\"help-block\"\n" +
    "                                    ng-messages=\"estimateForm.mobile_phone_number.$error\"\n" +
    "                                    ng-if=\"estimateForm.mobile_phone_number.$touched && estimateForm.mobile_phone_number.$invalid\">\n" +
    "                                    <p ng-message=\"maxlength\" class=\"text-danger\">\n" +
    "                                        Please enter less than 255 characters!\n" +
    "                                    </p>\n" +
    "                                </div>\n" +
    "                            </div>\n" +
    "                        </div>\n" +
    "                    </div>\n" +
    "                </div>\n" +
    "            </div>\n" +
    "        </div>\n" +
    "\n" +
    "        <div class=\"row\">\n" +
    "            <div class=\"col-md-6 col-sm-6 col-xs-12\">\n" +
    "                <div class=\"form-group\">\n" +
    "                    <label class=\"control-label col-sm-3 required\" for=\"email\">\n" +
    "                    Email<span>(*)</span></label>\n" +
    "                    <div class=\"col-sm-9\">\n" +
    "                        <input type=\"text\" class=\"form-control\" name=\"email\"\n" +
    "                            ng-model=\"estimate.email\"\n" +
    "                            multiple-emails\n" +
    "                            ng-maxlength=\"100\"\n" +
    "                            ng-required=\"true\">\n" +
    "                        <div class=\"help-block\"\n" +
    "                            ng-messages=\"estimateForm.email.$error\"\n" +
    "                            ng-if=\"estimateForm.email.$touched && estimateForm.email.$invalid\">\n" +
    "                            <p ng-message=\"required\" class=\"text-danger\">\n" +
    "                                This field is required!\n" +
    "                            </p>\n" +
    "                            <p ng-message=\"multipleEmails\" class=\"text-danger\">\n" +
    "                                Separate multiple emails with commas\n" +
    "                            </p>\n" +
    "                            <p ng-message=\"maxlength\" class=\"text-danger\">\n" +
    "                                Maximum by 100 characters!\n" +
    "                            </p>\n" +
    "                        </div>\n" +
    "                    </div>\n" +
    "                </div>\n" +
    "            </div>\n" +
    "        </div>\n" +
    "\n" +
    "        <div class=\"row\">\n" +
    "            <div class=\"col-sm-12 col-xs-12 location-notes\">\n" +
    "                <div class=\"form-group\">\n" +
    "                    <label for=\"location_notes\">Location Notes</label>\n" +
    "                    <textarea class=\"form-control\" name=\"location_notes\" rows=\"5\"\n" +
    "                        ng-model=\"estimate.location_notes\">\n" +
    "                    </textarea>\n" +
    "                </div>\n" +
    "            </div>\n" +
    "        </div>\n" +
    "\n" +
    "        <div class=\"row\">\n" +
    "            <div class=\"col-sm-12 col-xs-12\">\n" +
    "                <table class=\"table table-bordered table-striped table-fixed header-fixed wpt-table lines-table\">\n" +
    "                    <thead>\n" +
    "                      <tr>\n" +
    "                        <th style=\"width: 30px;\" ng-if=\"::hasCap('erpp_view_estimate_total')\"></th>\n" +
    "                        <th style=\"width: 30px;\">#</th>\n" +
    "                        <th style=\"width: 280px;\">Product/Service</th>\n" +
    "                        <th style=\"width: 370px;\">Description</th>\n" +
    "                        <th style=\"width: 50px;\">QTY</th>\n" +
    "\n" +
    "                        <th style=\"width: 70px;\" ng-if=\"::hasCap('erpp_view_estimate_total')\">Rate</th>\n" +
    "                        <th style=\"width: 100px;\" ng-if=\"::hasCap('erpp_view_estimate_total')\">Amount</th>\n" +
    "                        <th style=\"width: 30px;\" ng-if=\"::hasCap('erpp_view_estimate_total')\"></th>\n" +
    "                      </tr>\n" +
    "                    </thead>\n" +
    "                    <tbody as-sortable=\"lineItemsDragListeners\" data-ng-model=\"estimate.lines\" is-disabled=\"estimate.lines.length == 1\">\n" +
    "                      <tr ng-repeat=\"line in estimate.lines\" as-sortable-item>\n" +
    "                        <td ng-if=\"::hasCap('erpp_view_estimate_total')\"><span class=\"glyphicon glyphicon-th\" data-as-sortable-item-handle></span></td>\n" +
    "                        <td><span ng-bind=\"$index + 1\"></span></td>\n" +
    "                        <td>\n" +
    "                            <selectize\n" +
    "                                ng-model=\"line.product_service_id\"\n" +
    "                                ng-change=\"changeLineProductService(line)\"\n" +
    "                                config=\"productServicesSelectConfig\"\n" +
    "                                options=\"productServices\">\n" +
    "                            </selectize>\n" +
    "                        </td>\n" +
    "                        <td>\n" +
    "                            <textarea class=\"form-control\" ng-model=\"line.description\" ng-readonly=\"::!hasCap('erpp_view_estimate_total')\"/></textarea>\n" +
    "                        </td>\n" +
    "                        <td>\n" +
    "                            <input type=\"number\" ng-pattern=\"/^\\d+$/\" ng-model=\"line.qty\" ng-change=\"updateTotal()\" ng-readonly=\"::!hasCap('erpp_view_estimate_total')\"/>\n" +
    "                        </td>\n" +
    "                        <td ng-if=\"::hasCap('erpp_view_estimate_total')\">\n" +
    "                            <input type=\"number\" ng-model=\"line.rate\" ng-change=\"updateTotal()\"/></td>\n" +
    "                        <td ng-if=\"::hasCap('erpp_view_estimate_total')\">\n" +
    "                            <span ng-bind=\"line.total\"></span>\n" +
    "                        </td>\n" +
    "                        <td ng-if=\"::hasCap('erpp_view_estimate_total')\">\n" +
    "                            <span ng-click=\"removeLine(line)\" class=\"glyphicon glyphicon-trash text-danger\"></span>\n" +
    "                        </td>\n" +
    "                      </tr>\n" +
    "                    </tbody>\n" +
    "                </table>\n" +
    "            </div>\n" +
    "        </div>\n" +
    "        <div class=\"row\">\n" +
    "            <div class=\"col-sm-12\">\n" +
    "                <div class=\"col-sm-6\">\n" +
    "                    <div ng-if=\"::hasCap('erpp_view_estimate_total')\">\n" +
    "                        <button type=\"button\" class=\"btn btn-default btn-lines\" ng-click=\"addLine()\">Add Line</button>\n" +
    "                        <button type=\"button\" class=\"btn btn-default btn-lines\" ng-click=\"removeAllLines()\">Clean All Lines</button>\n" +
    "                    </div>\n" +
    "                </div>\n" +
    "                <div class=\"col-sm-6 text-right\">\n" +
    "                    <span class=\"estimate-total\" ng-if=\"::hasCap('erpp_view_estimate_total')\">\n" +
    "                        Estimate total: $<span ng-bind=\"estimate.total\"></span>\n" +
    "                    </span>\n" +
    "                    <br/>\n" +
    "                    <span>Quoted Prices Good for 30 Days</span>\n" +
    "                </div>\n" +
    "            </div>\n" +
    "        </div>\n" +
    "        <div class=\"space-30\"></div>\n" +
    "        <div class=\"row\">\n" +
    "            <div class=\"col-md-12\">\n" +
    "                <label class=\"col-md-2\" for=\"date_of_signature\">\n" +
    "                    Date of Signature</label>\n" +
    "                <div class=\"col-md-3\">\n" +
    "                    <input class=\"form-control\"\n" +
    "                        type=\"text\"\n" +
    "                        name=\"date_of_signature\"\n" +
    "                        uib-datepicker-popup=\"MM-dd-yyyy\"\n" +
    "                        datepicker-auto-open\n" +
    "                        ng-model=\"estimate.date_of_signature\"\n" +
    "                        placeholder=\"mm-dd-yyyy\">\n" +
    "                </div>\n" +
    "            </div>\n" +
    "        </div>\n" +
    "        <div class=\"space-30\"></div>\n" +
    "        <div class=\"row\">\n" +
    "            <div class=\"col-md-12\">\n" +
    "                <div class=\"col-sm-5\">\n" +
    "                    <div class=\"form-group\">\n" +
    "                        <div class=\"col-sm-12\">\n" +
    "                            <label for=\"customer_signature\">Customer Signature Authorizes Commencement of Work</label>\n" +
    "                            <br>\n" +
    "                            <button type=\"button\"\n" +
    "                                ng-click=\"showSignatureBox()\"\n" +
    "                                class=\"btn btn-sm btn-default\">\n" +
    "                                <span class=\"glyphicon glyphicon-pencil\"></span> Sign</button>\n" +
    "                        </div>\n" +
    "                        <div class=\"col-sm-12\">\n" +
    "                            <div class=\"div-customer-signature-preview text-center\" ng-show=\"signatureEncoded\">\n" +
    "                                <img ng-src=\"{{signatureEncoded}}\" ng-if=\"signatureEncoded\"/>\n" +
    "                            </div>\n" +
    "                        </div>\n" +
    "                    </div>\n" +
    "                    <div class=\"form-group\">\n" +
    "                        <label class=\"col-sm-3\" for=\"sold_by_1\">Sold By</label>\n" +
    "                        <div class=\"col-sm-9\">\n" +
    "                            <selectize\n" +
    "                                config=\"soldBySelectConfig\"\n" +
    "                                ng-model=\"estimate.sold_by_1\"\n" +
    "                                options=\"employees\">\n" +
    "                            </selectize>\n" +
    "                        </div>\n" +
    "                    </div>\n" +
    "                    <div class=\"form-group\">\n" +
    "                        <label class=\"col-sm-3\" for=\"sold_by_2\">Sold By</label>\n" +
    "                        <div class=\"col-sm-9\">\n" +
    "                            <selectize\n" +
    "                                config=\"soldBySelectConfig\"\n" +
    "                                ng-model=\"estimate.sold_by_2\"\n" +
    "                                options=\"employees\">\n" +
    "                            </selectize>\n" +
    "                        </div>\n" +
    "                    </div>\n" +
    "                </div>\n" +
    "                <div class=\"col-sm-6 col-sm-offset-1\">\n" +
    "                    <div class=\"form-group\">\n" +
    "                        <label class=\"col-sm-12\" for=\"estimate_disclaimer\">\n" +
    "                            Disclaimer</label>\n" +
    "                        <div class=\"col-sm-12\">\n" +
    "                            <textarea class=\"form-control\" rows=\"5\"\n" +
    "                                ng-maxlength=\"1000\"\n" +
    "                                ng-model=\"estimate.disclaimer\" name=\"estimate_disclaimer\">\n" +
    "                            </textarea>\n" +
    "                            <div class=\"help-block\" ng-messages=\"estimateForm.estimate_disclaimer.$error\"\n" +
    "                                ng-if=\"estimateForm.estimate_disclaimer.$touched && estimateForm.estimate_disclaimer.$invalid\">\n" +
    "                                <p ng-message=\"maxlength\" class=\"text-danger\">\n" +
    "                                    Maximum by 1000 characters!\n" +
    "                                </p>\n" +
    "                            </div>\n" +
    "                        </div>\n" +
    "                    </div>\n" +
    "                    <div class=\"form-group\">\n" +
    "                        <label class=\"col-sm-12\" for=\"estimate_footer\">\n" +
    "                            Accepted Agreement</label>\n" +
    "                        <div class=\"col-sm-12\">\n" +
    "                            <textarea class=\"form-control\" rows=\"7\"\n" +
    "                                ng-maxlength=\"1000\"\n" +
    "                                ng-model=\"estimate.estimate_footer\" name=\"estimate_footer\">\n" +
    "                            </textarea>\n" +
    "                            <div class=\"help-block\" ng-messages=\"estimateForm.estimate_footer.$error\"\n" +
    "                                ng-if=\"estimateForm.estimate_footer.$touched && estimateForm.estimate_footer.$invalid\">\n" +
    "                                <p ng-message=\"maxlength\" class=\"text-danger\">\n" +
    "                                    Maximum by 1000 characters!\n" +
    "                                </p>\n" +
    "                            </div>\n" +
    "                        </div>\n" +
    "                    </div>\n" +
    "                  <div class=\"form-group\">\n" +
    "                        <div class=\"col-sm-12\">\n" +
    "                            <label>Estimate Pictures</label>\n" +
    "                            <div ng-dropzone dropzone=\"dropzone\" dropzone-config=\"dropzoneConfig\">\n" +
    "                                <div class=\"upload dropzone\" id=\"drop-container\">\n" +
    "                                    <ul class=\"estimate-attachments-list\">\n" +
    "                                        <li ng-repeat=\"attachment in estimate.attachments\">\n" +
    "                                            <a target=\"_blank\" href=\"{{attachment.tmp_download_uri}}\">\n" +
    "                                                <span ng-bind=\"attachment.file_name\"></span>\n" +
    "                                            </a>\n" +
    "                                            <span class=\"text-danger remove-attachment\" ng-click=\"removeAttachment(attachment)\">X</span>\n" +
    "                                        </li>\n" +
    "                                    </ul>\n" +
    "                                    <hr ng-if=\"estimate.attachments.length\">\n" +
    "                                    <p class=\"text-center\">\n" +
    "                                        Drag and drop or <span class=\"text-primary drop-clickable\">click to select</span>\n" +
    "                                        <br>\n" +
    "                                        <span ng-show=\"isUploading\" class=\"text-warning\">\n" +
    "                                            <span ng-show=\"uploadProgress < 100\">Upload progress: <span ng-bind=\"uploadProgress\"></span>%</span>\n" +
    "                                            <br>\n" +
    "                                            <span ng-show=\"uploadProgress >= 100\">Processing ... </span>\n" +
    "                                        </span>\n" +
    "                                    </p>\n" +
    "                                </div>\n" +
    "                            </div>\n" +
    "                            <div id=\"attachment-previews\" class=\"hide\">\n" +
    "                            </div>\n" +
    "                        </div>\n" +
    "                    </div>\n" +
    "                </div>\n" +
    "            </div>\n" +
    "        </div>\n" +
    "        <div class=\"row\">\n" +
    "            <div class=\"col-sm-12 col-xs-12\">\n" +
    "                <div class=\"text-right\">\n" +
    "                    <button type=\"submit\" class=\"btn btn-primary\" ng-disabled=\"estimateForm.$invalid || $root.isBusy\">Save</button>\n" +
    "                    <button type=\"button\" class=\"btn btn-default\" ng-click=\"submitForm(false, true)\" ng-disabled=\"estimateForm.$invalid || $root.isBusy\">Print</button>\n" +
    "                    <button type=\"button\" class=\"btn btn-default\" ng-click=\"submitForm(true, false)\"\n" +
    "                        ng-disabled=\"estimateForm.$invalid || isUploading || $root.isBusy\">Save and Send</button>\n" +
    "                </div>\n" +
    "            </div>\n" +
    "        </div>\n" +
    "    </form>\n" +
    " <div class=\"hide\" id=\"dropzone-preview-template\">\n" +
    "        <div class=\"dz-preview dz-file-preview\">\n" +
    "          <div class=\"dz-details\">\n" +
    "            <div class=\"dz-filename\"><span data-dz-name></span></div>\n" +
    "            <div class=\"dz-size\" data-dz-size></div>\n" +
    "            <img data-dz-thumbnail />\n" +
    "          </div>\n" +
    "            <div class=\"dz-progress\"><span class=\"dz-upload\" data-dz-uploadprogress></span></div>\n" +
    "                <div class=\"dz-success-mark\"><span>✔</span></div>\n" +
    "                <div class=\"dz-error-mark\"><span>✘</span></div>\n" +
    "            <div class=\"dz-error-message\"><span data-dz-errormessage></span></div>\n" +
    "        </div>\n" +
    "    </div>\n" +
    "    <div class=\"modal fade\" ng-class=\"{'in': showSendModal}\" ng-style=\"{'display': showSendModal ? 'block' : 'none'}\">\n" +
    "        <div class=\"modal-dialog\">\n" +
    "            <div class=\"modal-content\">\n" +
    "                <div class=\"modal-header\">\n" +
    "                    <h4>Send estimate #{{ sendMailData.doc_number }}</h4>\n" +
    "                </div>\n" +
    "                <form role=\"form\" name=\"sendMailForm\">\n" +
    "                    <div class=\"modal-body\">\n" +
    "                      <div class=\"form-group\">\n" +
    "                        <label for=\"email\">To</label>\n" +
    "                        <input type=\"text\" class=\"form-control\" placeholder=\"Email to receive\"\n" +
    "                            multiple-emails\n" +
    "                            ng-required=\"true\"\n" +
    "                            ng-model=\"sendMailData.to\">\n" +
    "                      </div>\n" +
    "                      <div class=\"form-group\">\n" +
    "                        <label for=\"subject\">Subject</label>\n" +
    "                        <input type=\"text\" class=\"form-control\" placeholder=\"Subject\"\n" +
    "                            ng-required=\"true\"\n" +
    "                            ng-model=\"sendMailData.subject\">\n" +
    "                      </div>\n" +
    "                      <div class=\"form-group\">\n" +
    "                        <label for=\"message\">Message</label>\n" +
    "                        <textarea class=\"form-control\" rows=\"5\" placeholder=\"Content\"\n" +
    "                            ng-required=\"true\"\n" +
    "                            ng-model=\"sendMailData.body\"></textarea>\n" +
    "                      </div>\n" +
    "                    </div>\n" +
    "                    <div class=\"modal-footer\">\n" +
    "                      <button class=\"btn btn-primary\" ng-click=\"sendMailEstimate()\" ng-disabled=\"sendMailForm.$invalid || $root.isBusy\">Send</button>\n" +
    "                      <button class=\"btn btn-default\" type=\"button\" ng-click=\"previewPdfEstimate(sendMailData)\">Print Preview\n" +
    "                      </button>\n" +
    "                      <button class=\"btn\" type=\"button\" ng-click=\"showSendModal = false\">Cancel</button>\n" +
    "                    </div>\n" +
    "                </form>\n" +
    "            </div>\n" +
    "        </div>\n" +
    "    </div>\n" +
    "    <!-- show model preview pdf estimate -->\n" +
    "    <div class=\"modal fade\" ng-class=\"{'in': showModalPdf}\" ng-style=\"{'display': showModalPdf ? 'block' : 'none'}\">\n" +
    "        <div class=\"modal-dialog modal-lg\">\n" +
    "            <div class=\"modal-content\">\n" +
    "                <div class=\"modal-header\">\n" +
    "                  <button type=\"button\" class=\"close btn-close\" aria-label=\"Close\"\n" +
    "                    ng-click=\"showModalPdf = false\"><span aria-hidden=\"true\">×</span>\n" +
    "                  </button>\n" +
    "                </div>\n" +
    "                <div class=\"modal-body\">\n" +
    "                  <object type=\"application/pdf\"\n" +
    "                    data=\"{{::$root.baseAPIPath}}&_do=previewPdfEstimate&id={{sendMailData.id}}\" width=\"100%\" height=\"420\">\n" +
    "                  </object>\n" +
    "                </div>\n" +
    "                <div class=\"modal-footer\">\n" +
    "                  <button class=\"btn\" type=\"button\" ng-click=\"showModalPdf = false\">Close\n" +
    "                  </button>\n" +
    "                </div>\n" +
    "            </div>\n" +
    "        </div>\n" +
    "    </div>\n" +
    "    <customer-signature-modal on-save=\"onSaveSignature(signatureEncoded)\" show=\"isShowModalSignature\">\n" +
    "    </customer-signature-modal>\n" +
    "</div>\n"
  );


  $templateCache.put('templates/estimate/list.html',
    "<div id=\"list-estimate\" ng-controller=\"ListEstimateCtrl\">\n" +
    "    <div class=\"row header-estimate\" style=\"margin-bottom:10px\">\n" +
    "      <div class=\"col-md-2\">\n" +
    "        <a href=\"#/new-estimate\" class=\"btn btn-success\" ng-if=\"::hasCap('erpp_create_estimates')\">Add new</a>\n" +
    "      </div>\n" +
    "      <div class=\"col-md-10\">\n" +
    "        <form name=\"searchEstimateForm\"\n" +
    "            ng-submit=\"searchEstimate()\">\n" +
    "                <div class=\"col-md-5 col-sm-4 n-p\">\n" +
    "                    <div class=\"col-sm-12\">\n" +
    "                        <customer-typeahead on-select=\"onSelectCustomer(item)\" ng-model=\"filter.keyword\" placeholder=\"Search by customer name, number ... \"></customer-typeahead>\n" +
    "                    </div>\n" +
    "                </div>\n" +
    "                <div class=\"col-md-4 col-sm-4 n-p\">\n" +
    "                    <label class=\"control-label col-sm-4\">Status:</label>\n" +
    "                    <div class=\"col-sm-8\">\n" +
    "                        <select ng-model=\"filter.status\" class=\"form-control\"\n" +
    "                            ng-change=\"changeFilterStatus()\"\n" +
    "                            ng-options=\"status.value as status.label for status in filterStatuses\">\n" +
    "                        </select>\n" +
    "                    </div>\n" +
    "                </div>\n" +
    "                <div class=\"col-md-3 col-sm-4 n-p text-right\">\n" +
    "                    <button class=\"btn btn-info\" name=\"search\">Search</button>\n" +
    "                    <button class=\"btn btn-default btn-sm\"\n" +
    "                        name=\"search\" ng-click=\"clearSearch()\">\n" +
    "                        Clear\n" +
    "                    </button>\n" +
    "                </div>\n" +
    "        </form>\n" +
    "      </div>\n" +
    "  </div>\n" +
    "\n" +
    "    <table class=\"table table-bordered table-hover table-fixed header-fixed\">\n" +
    "        <thead>\n" +
    "          <tr>\n" +
    "            <th style=\"width: 130px;\">Estimate Date</th>\n" +
    "            <th>Customer</th>\n" +
    "            <th style=\"width: 100;\">Number</th>\n" +
    "            <th style=\"width: 120px;\">Source</th>\n" +
    "            <th style=\"width: 130px;\">Exp Date</th>\n" +
    "            <th ng-if=\"::hasCap('erpp_view_estimate_total')\">Total</th>\n" +
    "            <th style=\"width: 100px;\">Status</th>\n" +
    "            <th style=\"width: 60px;\">Action</th>\n" +
    "          </tr>\n" +
    "        </thead>\n" +
    "        <tbody>\n" +
    "            <tr ng-repeat=\"est in estimates\">\n" +
    "                <td>\n" +
    "                  <a href=\"#/edit-estimate/{{::est.id}}\" ng-if=\"::hasCap('erpp_edit_estimates')\"><span>{{::est.txn_date | date: 'MM-dd-yyyy'}}</span></a>\n" +
    "                  <span ng-if=\"::!hasCap('erpp_edit_estimates')\">{{::est.txn_date}}</span>\n" +
    "                </td>\n" +
    "                <td class=\"address-cell\" ng-class=\"{'danger': est.geolocation.is_checked && !est.geolocation.ok }\">\n" +
    "                    <a href=\"#/edit-estimate/{{::est.id}}\" ng-if=\"::hasCap('erpp_edit_estimates')\"><span>{{::est.customer_display_name}}</span></a>\n" +
    "                    <span ng-if=\"::!hasCap('erpp_edit_estimates')\">{{::est.customer_display_name}}</span>\n" +
    "                    <span class=\"glyphicon glyphicon-repeat spin text-warning\"\n" +
    "                        ng-class=\"{'visibility': est.geolocation.is_checking}\"></span>\n" +
    "                    <span class=\"glyphicon glyphicon-ok text-success\" title=\"Geolocation error\"\n" +
    "                        ng-class=\"{'visibility': est.geolocation.is_checked && est.geolocation.ok}\"></span>\n" +
    "                    <span class=\"glyphicon glyphicon glyphicon-warning-sign text-danger\" title=\"Geolocation is OK\"\n" +
    "                        ng-class=\"{'visibility': est.geolocation.is_checked && !est.geolocation.ok}\"></span>\n" +
    "                </td>\n" +
    "                <td>\n" +
    "                  <a href=\"#/edit-estimate/{{::est.id}}\" ng-if=\"::hasCap('erpp_edit_estimates')\"><span>{{::est.doc_number}}</span></a>\n" +
    "                  <span ng-if=\"::!hasCap('erpp_edit_estimates')\">{{::est.doc_number}}</span>\n" +
    "                </td>\n" +
    "                <td><span>{{::est.source_name}}</span></td>\n" +
    "\n" +
    "                <td><span>{{::est.expiration_date | date: 'MM-dd-yyyy'}}</span></td>\n" +
    "\n" +
    "                <td ng-if=\"::hasCap('erpp_view_estimate_total')\"><span>${{::est.total}}</span></td>\n" +
    "\n" +
    "                <td><span>{{::est.status}}</span></td>\n" +
    "                <td>\n" +
    "                    <div class=\"dropdown\">\n" +
    "                      <button class=\"btn btn-default dropdown-toggle btn-sm\" type=\"button\" data-toggle=\"dropdown\">View\n" +
    "                      <span class=\"caret\"></span></button>\n" +
    "                      <ul class=\"dropdown-menu\">\n" +
    "                        <li>\n" +
    "                          <a href=\"#/edit-estimate/{{::est.id}}\" ng-if=\"::hasCap('erpp_edit_estimates')\">Edit</a>\n" +
    "                        </li>\n" +
    "                        <li>\n" +
    "                          <a target=\"_blank\" href=\"{{::$root.baseAPIPath}}&_do=printEstimate&id={{::est.id}}\" ng-if=\"::hasCap('erpp_print_estimates')\">Print</a></li>\n" +
    "                        <li>\n" +
    "                          <a ng-click=\"openSendMailModal(est)\" ng-if=\"::hasCap('erpp_send_estimates')\">Send</a>\n" +
    "                        </li>\n" +
    "                      </ul>\n" +
    "                    </div>\n" +
    "                </td>\n" +
    "            </tr>\n" +
    "        </tbody>\n" +
    "    </table>\n" +
    "    <p ng-if=\"!$root.isBusy && estimates.length == 0\" class=\"text-center\">\n" +
    "      No results were found!\n" +
    "    </p>\n" +
    "    <div class=\"modal fade\" ng-class=\"{'in': showModal}\" ng-style=\"{'display': showModal ? 'block' : 'none'}\">\n" +
    "        <div class=\"modal-dialog\">\n" +
    "            <div class=\"modal-content\">\n" +
    "                <div class=\"modal-header\">\n" +
    "                    <h4>Send estimate #{{ sendMailData.doc_number }}</h4>\n" +
    "                </div>\n" +
    "                <form role=\"form\" name=\"sendEmailForm\">\n" +
    "                    <div class=\"modal-body\">\n" +
    "                      <div class=\"form-group\">\n" +
    "                        <label for=\"email\">To</label>\n" +
    "                        <input type=\"text\" class=\"form-control\" placeholder=\"Email to receive\"\n" +
    "                            multiple-emails\n" +
    "                            ng-required=\"true\"\n" +
    "                            ng-model=\"sendMailData.to\">\n" +
    "                      </div>\n" +
    "                      <div class=\"form-group\">\n" +
    "                        <label for=\"subject\">Subject</label>\n" +
    "                        <input type=\"text\" class=\"form-control\" placeholder=\"Subject\"\n" +
    "                            ng-required=\"true\"\n" +
    "                            ng-model=\"sendMailData.subject\">\n" +
    "                      </div>\n" +
    "                      <div class=\"form-group\">\n" +
    "                        <label for=\"message\">Message</label>\n" +
    "                        <textarea class=\"form-control\" rows=\"5\" placeholder=\"Content\"\n" +
    "                            ng-required=\"true\"\n" +
    "                            ng-model=\"sendMailData.body\"></textarea>\n" +
    "                      </div>\n" +
    "                    </div>\n" +
    "                    <div class=\"modal-footer\">\n" +
    "                      <button class=\"btn btn-primary\" ng-click=\"sendMailEstimate()\" ng-disabled=\"sendEmailForm.$invalid || $root.isBusy\">Send</button>\n" +
    "                      <button class=\"btn btn-default\" type=\"button\" ng-click=\"previewPdfEstimate(sendMailData)\">Print Preview\n" +
    "                      </button>\n" +
    "                      <button class=\"btn\" type=\"button\" ng-click=\"showModal = false\">Cancel\n" +
    "                      </button>\n" +
    "                    </div>\n" +
    "                </form>\n" +
    "            </div>\n" +
    "        </div>\n" +
    "    </div>\n" +
    "    <!-- show model preview pdf estimate -->\n" +
    "    <div class=\"modal fade\" ng-class=\"{'in': showModalPdf}\" ng-style=\"{'display': showModalPdf ? 'block' : 'none'}\">\n" +
    "        <div class=\"modal-dialog modal-lg\">\n" +
    "            <div class=\"modal-content\">\n" +
    "                <div class=\"modal-header\">\n" +
    "                  Print Preview\n" +
    "                  <button type=\"button\" class=\"close btn-close\" aria-label=\"Close\"\n" +
    "                    ng-click=\"showModalPdf = false\"><span aria-hidden=\"true\">×</span>\n" +
    "                  </button>\n" +
    "                </div>\n" +
    "                <div class=\"modal-body\">\n" +
    "                  <object type=\"application/pdf\"\n" +
    "                    data=\"{{::$root.baseAPIPath}}&_do=previewPdfEstimate&id={{sendMailData.id}}\" width=\"100%\" height=\"420\">\n" +
    "                  </object>\n" +
    "                </div>\n" +
    "                <div class=\"modal-footer\">\n" +
    "                  <button class=\"btn\" type=\"button\" ng-click=\"showModalPdf = false\">Close\n" +
    "                  </button>\n" +
    "                </div>\n" +
    "            </div>\n" +
    "        </div>\n" +
    "    </div>\n" +
    "    <div class=\"row\">\n" +
    "      <div class=\"col-md-8\">\n" +
    "          <erp-pagination></erp-pagination>\n" +
    "      </div>\n" +
    "      <div class=\"col-md-4 text-right\">\n" +
    "          <button type=\"button\" class=\"btn btn-info\"\n" +
    "              title=\"Check geolocation issue for the displaying items\"\n" +
    "              ng-if=\"!isBusy && estimates.length != 0\"\n" +
    "              ng-click=\"startCheckGeolocation()\"\n" +
    "              ng-disabled=\"isCheckingGeoLocation\">\n" +
    "              <span class=\"glyphicon glyphicon-map-marker\"></span> Check for geolocation issue</button>\n" +
    "      </div>\n" +
    "    </div>\n" +
    "</div>\n"
  );


  $templateCache.put('templates/estimate/modal-signature.html',
    "<div class=\"modal fade modal-customer-signature\" ng-class=\"{'in': isShowModal}\" ng-style=\"{'display': isShowModal ? 'block' : 'none'}\">\n" +
    "    <div class=\"modal-dialog\">\n" +
    "    <div class=\"modal-content undraggable\">\n" +
    "        <div class=\"modal-header\">\n" +
    "            <h4 class=\"modal-title\">Customer Signature</h4>\n" +
    "        </div>\n" +
    "        <div class=\"modal-body\">\n" +
    "            <div class=\"div-customer-signature\">\n" +
    "                <canvas width=\"390\" height=\"150\"></canvas>\n" +
    "            </div>\n" +
    "        </div>\n" +
    "        <div class=\"modal-footer\">\n" +
    "            <button type=\"button\" class=\"btn btn-default pull-left\" ng-click=\"clear()\">\n" +
    "                <span class=\"glyphicon glyphicon-flash\"></span> Clear</button>\n" +
    "            <button type=\"button\" class=\"btn btn-default\" ng-click=\"hideModal()\">Cancel</button>\n" +
    "            <button type=\"button\" class=\"btn btn-primary\" ng-click=\"save()\">Save</button>\n" +
    "        </div>\n" +
    "    </div>\n" +
    "    </div>\n" +
    "</div>\n"
  );


  $templateCache.put('templates/job-request/add.html',
    "<div ng-controller=\"AddJobRequestCtrl\">\n" +
    "    <form class=\"form-horizontal\" name=\"referralForm\" ng-submit=\"submitForm()\">\n" +
    "        <div class=\"row\">\n" +
    "            <div class=\"col-sm-7 col-xs-12\">\n" +
    "                <span class=\"top-leaf\" ng-bind=\"::companyInfo.name\"></span>\n" +
    "                <br>\n" +
    "                <span ng-bind=\"::companyInfo.mailing_address\"></span>\n" +
    "                <br>\n" +
    "                Tel:\n" +
    "                <span ng-bind=\"::companyInfo.primary_phone_number\"></span>\n" +
    "                Fax:\n" +
    "                <span ng-bind=\"::companyInfo.fax\"></span>\n" +
    "            </div>\n" +
    "            <div class=\"col-sm-5 col-xs-12\">\n" +
    "                <div class=\"form-group\">\n" +
    "                    <label class=\"control-label col-sm-4\" for=\"class_id\">\n" +
    "                        Source</label>\n" +
    "                    <div class=\"col-sm-8\">\n" +
    "                        <classes-select options=\"classes\" ng-model=\"referral.class_id\">\n" +
    "                        </classes-select>\n" +
    "                    </div>\n" +
    "                </div>\n" +
    "                <div class=\"form-group\">\n" +
    "                    <label class=\"control-label col-sm-4\" for=\"date_requested\">Date</label>\n" +
    "                    <div class=\"col-sm-8\">\n" +
    "                        <input type=\"text\"\n" +
    "                            class=\"form-control\"\n" +
    "                            uib-datepicker-popup=\"MM-dd-yyyy\"\n" +
    "                            datepicker-auto-open\n" +
    "                            ng-model=\"referral.date_requested\"\n" +
    "                            name=\"date_requested\"\n" +
    "                            placeholder=\"mm-dd-yyyy\"/>\n" +
    "                        <div class=\"help-block\"\n" +
    "                            ng-messages=\"referralForm.date_requested.$error\"\n" +
    "                            ng-if=\"referralForm.date_requested.$touched && referralForm.date_requested.$invalid\">\n" +
    "                            <p ng-message=\"date\" class=\"text-danger\">\n" +
    "                                The date is not valid!\n" +
    "                            </p>\n" +
    "                        </div>\n" +
    "                    </div>\n" +
    "                </div>\n" +
    "                <div class=\"form-group\">\n" +
    "                    <label class=\"control-label col-sm-4\" for=\"status\">Status</label>\n" +
    "                    <div class=\"col-sm-8\">\n" +
    "                        <select class=\"form-control\" name=\"status\"\n" +
    "                            ng-model=\"referral.status\">\n" +
    "                            <option value=\"Pending\">Pending</option>\n" +
    "                            <option value=\"Assigned\">Assigned</option>\n" +
    "                            <option value=\"Completed\">Completed</option>\n" +
    "                        </select>\n" +
    "                    </div>\n" +
    "                </div>\n" +
    "                 <div class=\"form-group\">\n" +
    "                    <label class=\"control-label col-sm-4\" for=\"priority\">Priority</label>\n" +
    "                    <div class=\"col-sm-8\">\n" +
    "                        <select class=\"form-control\" name=\"priority\"\n" +
    "                            ng-model=\"referral.priority\"\n" +
    "                            ng-options=\"priority.value as priority.label for priority in ::jobPriorities\"\n" +
    "                            ng-init=\"referral.priority = 'Normal'\">\n" +
    "                        </select>\n" +
    "                    </div>\n" +
    "                </div>\n" +
    "                <div class=\"form-group\">\n" +
    "                    <label class=\"control-label col-sm-4\" for=\"status\">Estimator</label>\n" +
    "                    <div class=\"col-sm-8\">\n" +
    "                        <employees-select options=\"employees\" ng-model=\"referral.estimator_id\"></employees-select>\n" +
    "                    </div>\n" +
    "                </div>\n" +
    "            </div>\n" +
    "        </div>\n" +
    "        <div class=\"row\">\n" +
    "            <div class=\"col-sm-12\">\n" +
    "                <div class=\"job-info\">\n" +
    "                    <h3 class=\"text-center\">Job Information</h3>\n" +
    "                    <div class=\"form-group\">\n" +
    "                        <label class=\"control-label col-sm-3 required\" for=\"name\">Name<span>(*)</span></label>\n" +
    "                        <div class=\"col-sm-8\">\n" +
    "                            <customers-select\n" +
    "                                ng-disabled=\"::hasCap('erpp_restrict_client_dropdown')\"\n" +
    "                                options=\"customers\"\n" +
    "                                ng-model=\"referral.customer_id\"\n" +
    "                                on-customer-change=\"onCustomerChange()\"\n" +
    "                                on-customer-update=\"onCustomerUpdate()\"\n" +
    "                                ng-required=\"true\">\n" +
    "                            </customers-select>\n" +
    "                            <div class=\"help-block\" ng-messages=\"referralForm.customer_id.$error\"\n" +
    "                                ng-if=\"referralForm.customer_id.$touched && referralForm.customer_id.$invalid\">\n" +
    "                                <p ng-message=\"required\" class=\"text-danger\">\n" +
    "                                    This field is required!\n" +
    "                                </p>\n" +
    "                            </div>\n" +
    "                        </div>\n" +
    "                    </div>\n" +
    "                    <div class=\"form-group\">\n" +
    "                        <label class=\"control-label col-sm-3\" for=\"company_name\">Company name</label>\n" +
    "                        <div class=\"col-sm-8\">\n" +
    "                            <input class=\"form-control\" type=\"text\" name=\"company_name\"\n" +
    "                                ng-model=\"referral.company_name\"\n" +
    "                                ng-maxlength=\"50\">\n" +
    "                            <div class=\"help-block\"\n" +
    "                                ng-messages=\"referralForm.company_name.$error\"\n" +
    "                                ng-if=\"referralForm.company_name.$touched && referralForm.company_name.$invalid\">\n" +
    "                                <p ng-message=\"maxlength\" class=\"text-danger\">\n" +
    "                                    Maximum by 50 characters!\n" +
    "                                </p>\n" +
    "                            </div>\n" +
    "                        </div>\n" +
    "                    </div>\n" +
    "                    <div class=\"form-group\">\n" +
    "                        <label class=\"control-label col-sm-3\" for=\"address\">Street address</label>\n" +
    "                        <div class=\"col-sm-8\">\n" +
    "                            <input class=\"form-control\" type=\"text\" name=\"address\"\n" +
    "                                ng-model=\"referral.address\"\n" +
    "                                ng-maxlength=\"255\">\n" +
    "                            <div class=\"help-block\"\n" +
    "                                ng-messages=\"referralForm.address.$error\"\n" +
    "                                ng-if=\"referralForm.address.$touched && referralForm.address.$invalid\">\n" +
    "                                <p ng-message=\"maxlength\" class=\"text-danger\">\n" +
    "                                    Maximum by 255 characters!\n" +
    "                                </p>\n" +
    "                            </div>\n" +
    "                        </div>\n" +
    "                    </div>\n" +
    "                    <div class=\"form-group\">\n" +
    "                        <label class=\"control-label col-sm-3\" for=\"City\">City</label>\n" +
    "                        <div class=\"col-sm-3\">\n" +
    "                            <input class=\"form-control\" type=\"text\" name=\"city\"\n" +
    "                                ng-model=\"referral.city\"\n" +
    "                                ng-maxlength=\"100\">\n" +
    "                            <div class=\"help-block\"\n" +
    "                                ng-messages=\"referralForm.city.$error\"\n" +
    "                                ng-if=\"referralForm.city.$touched && referralForm.city.$invalid\">\n" +
    "                                <p ng-message=\"maxlength\" class=\"text-danger\">\n" +
    "                                    Please enter less than 100 characters!\n" +
    "                                </p>\n" +
    "                            </div>\n" +
    "                        </div>\n" +
    "                        <label class=\"control-label col-sm-2\" for=\"State\">State</label>\n" +
    "                        <div class=\"col-sm-3\">\n" +
    "                            <input class=\"form-control\" type=\"text\" name=\"state\"\n" +
    "                                ng-model=\"referral.state\"\n" +
    "                                ng-maxlength=\"100\">\n" +
    "                            <div class=\"help-block\" ng-messages=\"referralForm.state.$error\"\n" +
    "                                ng-if=\"referralForm.state.$touched && referralForm.state.$invalid\">\n" +
    "                                <p ng-message=\"maxlength\" class=\"text-danger\">\n" +
    "                                    Please enter less than 100 characters!\n" +
    "                                </p>\n" +
    "                            </div>\n" +
    "                        </div>\n" +
    "                    </div>\n" +
    "                    <div class=\"form-group\">\n" +
    "                        <label class=\"control-label col-sm-3\" for=\"zip_code\">Zip code\n" +
    "                            </label>\n" +
    "                        <div class=\"col-sm-3\">\n" +
    "                            <input class=\"form-control\" type=\"text\" name=\"zip_code\"\n" +
    "                                ng-model=\"referral.zip_code\"\n" +
    "                                ng-maxlength=\"31\">\n" +
    "                            <div class=\"help-block\" ng-messages=\"referralForm.zip_code.$error\"\n" +
    "                                ng-if=\"referralForm.zip_code.$touched && referralForm.zip_code.$invalid\">\n" +
    "                                <p ng-message=\"maxlength\" class=\"text-danger\">\n" +
    "                                    Maximum by 31 characters!\n" +
    "                                </p>\n" +
    "                            </div>\n" +
    "                        </div>\n" +
    "                        <label class=\"control-label col-sm-2\" for=\"country\">Country</label>\n" +
    "                        <div class=\"col-sm-3\">\n" +
    "                            <input class=\"form-control\" type=\"text\" name=\"country\"\n" +
    "                                ng-model=\"referral.country\"\n" +
    "                                ng-maxlength=\"100\">\n" +
    "                            <div class=\"help-block\" ng-messages=\"referralForm.country.$error\"\n" +
    "                                ng-if=\"referralForm.country.$touched && referralForm.country.$invalid\">\n" +
    "                                <p ng-message=\"maxlength\" class=\"text-danger\">\n" +
    "                                    Maximum by 100 characters!\n" +
    "                                </p>\n" +
    "                            </div>\n" +
    "                        </div>\n" +
    "                    </div>\n" +
    "                    <div class=\"form-group\">\n" +
    "                        <label class=\"control-label col-sm-3\" for=\"email\">Email</label>\n" +
    "                        <div class=\"col-sm-8\">\n" +
    "                            <input type=\"text\" class=\"form-control\" name=\"email\"\n" +
    "                                ng-model=\"referral.email\"\n" +
    "                                multiple-emails\n" +
    "                                ng-maxlength=\"255\">\n" +
    "                            <div class=\"help-block\" ng-messages=\"referralForm.email.$error\"\n" +
    "                                ng-if=\"referralForm.email.$touched && referralForm.email.$invalid\">\n" +
    "                                <p ng-message=\"maxlength\" class=\"text-danger\">\n" +
    "                                    Maximum by 255 characters!\n" +
    "                                </p>\n" +
    "                                <p ng-message=\"multipleEmails\" class=\"text-danger\">\n" +
    "                                    Separate multiple emails with commas\n" +
    "                                </p>\n" +
    "                            </div>\n" +
    "                        </div>\n" +
    "                    </div>\n" +
    "                    <div class=\"form-group\">\n" +
    "                        <label class=\"control-label col-sm-3\" for=\"primary_phone_number\">Primary Phone\n" +
    "                        </label>\n" +
    "                        <div class=\"col-sm-3\">\n" +
    "                            <input class=\"form-control\" type=\"text\" name=\"primary_phone_number\"\n" +
    "                                ng-model=\"referral.primary_phone_number\"\n" +
    "                                ui-mask=\"?9?9?9-?9?9?9-?9?9?9?9\"\n" +
    "                                model-view-value=\"true\"\n" +
    "                                ng-maxlength=\"100\">\n" +
    "                            <div class=\"help-block\"\n" +
    "                                ng-messages=\"referralForm.primary_phone_number.$error\"\n" +
    "                                ng-if=\"referralForm.primary_phone_number.$touched && referralForm.primary_phone_number.$invalid\">\n" +
    "                                <p ng-message=\"maxlength\" class=\"text-danger\">\n" +
    "                                    Maximum by 100 characters!\n" +
    "                                </p>\n" +
    "                            </div>\n" +
    "                        </div>\n" +
    "                        <label class=\"control-label col-sm-2\" for=\"mobile_phone_number\">Secondary Phone\n" +
    "                        </label>\n" +
    "                        <div class=\"col-sm-3\">\n" +
    "                            <input class=\"form-control\" type=\"text\" name=\"mobile_phone_number\"\n" +
    "                                ng-model=\"referral.mobile_phone_number\"\n" +
    "                                ui-mask=\"?9?9?9-?9?9?9-?9?9?9?9\"\n" +
    "                                model-view-value=\"true\"\n" +
    "                                ng-maxlength=\"100\">\n" +
    "                            <div class=\"help-block\"\n" +
    "                                ng-messages=\"referralForm.mobile_phone_number.$error\"\n" +
    "                                ng-if=\"referralForm.mobile_phone_number.$touched && referralForm.mobile_phone_number.$invalid\">\n" +
    "                                <p ng-message=\"maxlength\" class=\"text-danger\">\n" +
    "                                    Maximum by 100 characters!\n" +
    "                                </p>\n" +
    "                            </div>\n" +
    "                        </div>\n" +
    "                    </div>\n" +
    "                    <div class=\"form-group\">\n" +
    "                        <label class=\"control-label col-sm-3\" for=\"date_service\">\n" +
    "                            Date service is needed</label>\n" +
    "                        <div class=\"col-sm-3\">\n" +
    "                           <input type=\"text\" class=\"form-control\"\n" +
    "                                name=\"date_service\"\n" +
    "                                uib-datepicker-popup=\"MM-dd-yyyy\"\n" +
    "                                datepicker-auto-open\n" +
    "                                ng-model=\"referral.date_service\"\n" +
    "                                placeholder=\"mm-dd-yyyy\"/>\n" +
    "                            <div class=\"help-block\"\n" +
    "                                ng-messages=\"referralForm.date_service.$error\"\n" +
    "                                ng-if=\"referralForm.date_service.$touched && referralForm.date_service.$invalid\">\n" +
    "                                <p ng-message=\"date\" class=\"text-danger\">\n" +
    "                                    The date is not valid!\n" +
    "                                </p>\n" +
    "                            </div>\n" +
    "                        </div>\n" +
    "                    </div>\n" +
    "                    <div class=\"form-group\">\n" +
    "                        <label class=\"control-label col-sm-3\" for=\"type_of_service_description\">Describe the type of<br>tree service you require</label>\n" +
    "                        <div class=\"col-sm-8\">\n" +
    "                            <textarea class=\"form-control\" rows=\"5\" name=\"type_of_service_description\"\n" +
    "                                ng-model=\"referral.type_of_service_description\"\n" +
    "                                ng-maxlength=\"10000\">\n" +
    "                            </textarea>\n" +
    "                            <div class=\"help-block\"\n" +
    "                                ng-messages=\"referralForm.type_of_service_description.$error\"\n" +
    "                                ng-if=\"referralForm.type_of_service_description.$touched && referralForm.type_of_service_description.$invalid\">\n" +
    "                                <p ng-message=\"maxlength\" class=\"text-danger\">\n" +
    "                                    Maximum by 10000 characters!\n" +
    "                                </p>\n" +
    "                            </div>\n" +
    "                        </div>\n" +
    "                    </div>\n" +
    "                </div>\n" +
    "            </div>\n" +
    "        </div>\n" +
    "        <div class=\"form-group\">\n" +
    "            <div class=\"text-center\">\n" +
    "              <button type=\"submit\" class=\"btn btn-primary\" ng-disabled=\"referralForm.$invalid || $root.isBusy\">Save</button>\n" +
    "            </div>\n" +
    "        </div>\n" +
    "    </form>\n" +
    "</div>\n"
  );


  $templateCache.put('templates/job-request/edit.html',
    "<div ng-controller=\"EditJobRequestCtrl\">\n" +
    "    <form class=\"form-horizontal\" name=\"referralForm\" ng-submit=\"submitForm()\">\n" +
    "        <div class=\"row\">\n" +
    "            <div class=\"col-sm-7 col-xs-12\">\n" +
    "                <span class=\"top-leaf\" ng-bind=\"::companyInfo.name\"></span>\n" +
    "                <br>\n" +
    "                <span ng-bind=\"::companyInfo.mailing_address\"></span>\n" +
    "                <br>\n" +
    "                Tel:\n" +
    "                <span ng-bind=\"::companyInfo.primary_phone_number\"></span>\n" +
    "                Fax:\n" +
    "                <span ng-bind=\"::companyInfo.fax\"></span>\n" +
    "            </div>\n" +
    "            <div class=\"col-sm-5 col-xs-12\">\n" +
    "                <div class=\"form-group text-right\" ng-if=\"::hasCap('erpp_create_estimates')\">\n" +
    "                    <div class=\"col-sm-12\">\n" +
    "                        <a href=\"#new-estimate?ref={{::referral.id}}\" class=\"btn btn-sm btn-success\">Create Estimate</a>\n" +
    "                    </div>\n" +
    "                </div>\n" +
    "                <div class=\"form-group\">\n" +
    "                    <label class=\"control-label col-sm-4\" for=\"class_id\">\n" +
    "                        Source</label>\n" +
    "                    <div class=\"col-sm-8\">\n" +
    "                        <classes-select options=\"classes\" ng-model=\"referral.class_id\">\n" +
    "                        </classes-select>\n" +
    "                    </div>\n" +
    "                </div>\n" +
    "                <div class=\"form-group\">\n" +
    "                    <label class=\"control-label col-sm-4\" for=\"date_requested\">Date</label>\n" +
    "                    <div class=\"col-sm-8\">\n" +
    "                        <input type=\"text\"\n" +
    "                            class=\"form-control\"\n" +
    "                            uib-datepicker-popup=\"MM-dd-yyyy\"\n" +
    "                            datepicker-auto-open\n" +
    "                            ng-model=\"referral.date_requested\"\n" +
    "                            name=\"date_requested\"\n" +
    "                            placeholder=\"mm-dd-yyyy\"/>\n" +
    "                        <div class=\"help-block\"\n" +
    "                            ng-messages=\"referralForm.date_requested.$error\"\n" +
    "                            ng-if=\"referralForm.date_requested.$touched && referralForm.date_requested.$invalid\">\n" +
    "                            <p ng-message=\"date\" class=\"text-danger\">\n" +
    "                                The date is not valid!\n" +
    "                            </p>\n" +
    "                        </div>\n" +
    "                    </div>\n" +
    "                </div>\n" +
    "                <div class=\"form-group\">\n" +
    "                    <label class=\"control-label col-sm-4\" for=\"status\">Status</label>\n" +
    "                    <div class=\"col-sm-8\">\n" +
    "                        <select class=\"form-control\" name=\"status\"\n" +
    "                            ng-model=\"referral.status\">\n" +
    "                            <option value=\"Pending\">Pending</option>\n" +
    "                            <option value=\"Assigned\">Assigned</option>\n" +
    "                            <option value=\"Completed\">Completed</option>\n" +
    "                        </select>\n" +
    "                    </div>\n" +
    "                </div>\n" +
    "                <div class=\"form-group\">\n" +
    "                    <label class=\"control-label col-sm-4\" for=\"priority\">Priority</label>\n" +
    "                    <div class=\"col-sm-8\">\n" +
    "                        <select class=\"form-control\" name=\"priority\"\n" +
    "                            ng-model=\"referral.priority\"\n" +
    "                            ng-options=\"priority.value as priority.label for priority in ::jobPriorities\">\n" +
    "                        </select>\n" +
    "                    </div>\n" +
    "                </div>\n" +
    "                <div class=\"form-group\">\n" +
    "                    <label class=\"control-label col-sm-4\" for=\"status\">Estimator</label>\n" +
    "                    <div class=\"col-sm-8\">\n" +
    "                        <employees-select options=\"employees\" ng-model=\"referral.estimator_id\"></employees-select>\n" +
    "                    </div>\n" +
    "                </div>\n" +
    "            </div>\n" +
    "        </div>\n" +
    "        <div class=\"row\">\n" +
    "            <div class=\"col-sm-12\">\n" +
    "                <div class=\"job-info\">\n" +
    "                    <h3 class=\"text-center\">Job Information</h3>\n" +
    "                    <div class=\"form-group\">\n" +
    "                        <label class=\"control-label col-sm-3 required\" for=\"name\">Name<span>(*)</span></label>\n" +
    "                        <div class=\"col-sm-8\">\n" +
    "                            <customers-select\n" +
    "                                ng-disabled=\"::hasCap('erpp_restrict_client_dropdown')\"\n" +
    "                                options=\"customers\"\n" +
    "                                ng-model=\"referral.customer_id\"\n" +
    "                                on-customer-change=\"onCustomerChange()\"\n" +
    "                                on-customer-update=\"onCustomerUpdate()\"\n" +
    "                                ng-required=\"true\">\n" +
    "                            </customers-select>\n" +
    "                            <div class=\"help-block\" ng-messages=\"referralForm.customer_id.$error\"\n" +
    "                                ng-if=\"referralForm.customer_id.$touched && referralForm.customer_id.$invalid\">\n" +
    "                                <p ng-message=\"required\" class=\"text-danger\">\n" +
    "                                    This field is required!\n" +
    "                                </p>\n" +
    "                            </div>\n" +
    "                        </div>\n" +
    "                    </div>\n" +
    "                    <div class=\"form-group\">\n" +
    "                        <label class=\"control-label col-sm-3\" for=\"company_name\">Company name</label>\n" +
    "                        <div class=\"col-sm-8\">\n" +
    "                            <input class=\"form-control\" type=\"text\" name=\"company_name\"\n" +
    "                                ng-model=\"referral.company_name\"\n" +
    "                                ng-maxlength=\"50\">\n" +
    "                            <div class=\"help-block\"\n" +
    "                                ng-messages=\"referralForm.company_name.$error\"\n" +
    "                                ng-if=\"referralForm.company_name.$touched && referralForm.company_name.$invalid\">\n" +
    "                                <p ng-message=\"maxlength\" class=\"text-danger\">\n" +
    "                                    Maximum by 50 characters!\n" +
    "                                </p>\n" +
    "                            </div>\n" +
    "                        </div>\n" +
    "                    </div>\n" +
    "                    <div class=\"form-group\">\n" +
    "                        <label class=\"control-label col-sm-3\" for=\"address\">Street address</label>\n" +
    "                        <div class=\"col-sm-8\">\n" +
    "                            <input class=\"form-control\" type=\"text\" name=\"address\"\n" +
    "                                ng-model=\"referral.address\"\n" +
    "                                ng-maxlength=\"255\" >\n" +
    "                            <div class=\"help-block\"\n" +
    "                                ng-messages=\"referralForm.address.$error\"\n" +
    "                                ng-if=\"referralForm.address.$touched && referralForm.address.$invalid\">\n" +
    "                                <p ng-message=\"maxlength\" class=\"text-danger\">\n" +
    "                                    Maximum by 255 characters!\n" +
    "                                </p>\n" +
    "                            </div>\n" +
    "                        </div>\n" +
    "                    </div>\n" +
    "                    <div class=\"form-group\">\n" +
    "                        <label class=\"control-label col-sm-3\" for=\"City\">City</label>\n" +
    "                        <div class=\"col-sm-3\">\n" +
    "                            <input class=\"form-control\" type=\"text\" name=\"city\"\n" +
    "                                ng-model=\"referral.city\"\n" +
    "                                ng-maxlength=\"100\">\n" +
    "                            <div class=\"help-block\"\n" +
    "                                ng-messages=\"referralForm.city.$error\"\n" +
    "                                ng-if=\"referralForm.city.$touched && referralForm.city.$invalid\">\n" +
    "                                <p ng-message=\"maxlength\" class=\"text-danger\">\n" +
    "                                    Please enter less than 100 characters!\n" +
    "                                </p>\n" +
    "                            </div>\n" +
    "                        </div>\n" +
    "                        <label class=\"control-label col-sm-2\" for=\"State\">State</label>\n" +
    "                        <div class=\"col-sm-3\">\n" +
    "                            <input class=\"form-control\" type=\"text\" name=\"state\"\n" +
    "                                ng-model=\"referral.state\"\n" +
    "                                ng-maxlength=\"100\">\n" +
    "                            <div class=\"help-block\" ng-messages=\"referralForm.state.$error\"\n" +
    "                                ng-if=\"referralForm.state.$touched && referralForm.state.$invalid\">\n" +
    "                                <p ng-message=\"maxlength\" class=\"text-danger\">\n" +
    "                                    Please enter less than 100 characters!\n" +
    "                                </p>\n" +
    "                            </div>\n" +
    "                        </div>\n" +
    "                    </div>\n" +
    "                    <div class=\"form-group\">\n" +
    "                        <label class=\"control-label col-sm-3\" for=\"zip_code\">Zip code\n" +
    "                            </label>\n" +
    "                        <div class=\"col-sm-3\">\n" +
    "                            <input class=\"form-control\" type=\"text\" name=\"zip_code\"\n" +
    "                                ng-model=\"referral.zip_code\"\n" +
    "                                ng-maxlength=\"31\">\n" +
    "                            <div class=\"help-block\" ng-messages=\"referralForm.zip_code.$error\"\n" +
    "                                ng-if=\"referralForm.zip_code.$touched && referralForm.zip_code.$invalid\">\n" +
    "                                <p ng-message=\"maxlength\" class=\"text-danger\">\n" +
    "                                    Maximum by 31 characters!\n" +
    "                                </p>\n" +
    "                            </div>\n" +
    "                        </div>\n" +
    "                        <label class=\"control-label col-sm-2\" for=\"country\">Country</label>\n" +
    "                        <div class=\"col-sm-3\">\n" +
    "                            <input class=\"form-control\" type=\"text\" name=\"country\"\n" +
    "                                ng-model=\"referral.country\"\n" +
    "                                ng-maxlength=\"100\">\n" +
    "                            <div class=\"help-block\" ng-messages=\"referralForm.country.$error\"\n" +
    "                                ng-if=\"referralForm.country.$touched && referralForm.country.$invalid\">\n" +
    "                                <p ng-message=\"maxlength\" class=\"text-danger\">\n" +
    "                                    Maximum by 100 characters!\n" +
    "                                </p>\n" +
    "                            </div>\n" +
    "                        </div>\n" +
    "                    </div>\n" +
    "                    <div class=\"form-group\">\n" +
    "                        <label class=\"control-label col-sm-3\" for=\"email\">Email</label>\n" +
    "                        <div class=\"col-sm-8\">\n" +
    "                            <input type=\"text\" class=\"form-control\" name=\"email\"\n" +
    "                                ng-model=\"referral.email\"\n" +
    "                                multiple-emails\n" +
    "                                ng-maxlength=\"255\">\n" +
    "                            <div class=\"help-block\" ng-messages=\"referralForm.email.$error\"\n" +
    "                                ng-if=\"referralForm.email.$touched && referralForm.email.$invalid\">\n" +
    "                                <p ng-message=\"maxlength\" class=\"text-danger\">\n" +
    "                                    Maximum by 255 characters!\n" +
    "                                </p>\n" +
    "                                <p ng-message=\"multipleEmails\" class=\"text-danger\">\n" +
    "                                    Separate multiple emails with commas\n" +
    "                                </p>\n" +
    "                            </div>\n" +
    "                        </div>\n" +
    "                    </div>\n" +
    "                    <div class=\"form-group\">\n" +
    "                        <label class=\"control-label col-sm-3\" for=\"primary_phone_number\">Primary Phone\n" +
    "\n" +
    "                        </label>\n" +
    "                        <div class=\"col-sm-3\">\n" +
    "                            <input class=\"form-control\" type=\"text\" name=\"primary_phone_number\"\n" +
    "                                ng-model=\"referral.primary_phone_number\"\n" +
    "                                ui-mask=\"?9?9?9-?9?9?9-?9?9?9?9\"\n" +
    "                                model-view-value=\"true\"\n" +
    "                                ng-maxlength=\"100\">\n" +
    "                            <div class=\"help-block\"\n" +
    "                                ng-messages=\"referralForm.primary_phone_number.$error\"\n" +
    "                                ng-if=\"referralForm.primary_phone_number.$touched && referralForm.primary_phone_number.$invalid\">\n" +
    "                                <p ng-message=\"maxlength\" class=\"text-danger\">\n" +
    "                                    Maximum by 100 characters!\n" +
    "                                </p>\n" +
    "                            </div>\n" +
    "                        </div>\n" +
    "                        <label class=\"control-label col-sm-2\" for=\"mobile_phone_number\">Secondary Phone\n" +
    "                        </label>\n" +
    "                        <div class=\"col-sm-3\">\n" +
    "                            <input class=\"form-control\" type=\"text\" name=\"mobile_phone_number\"\n" +
    "                                ng-model=\"referral.mobile_phone_number\"\n" +
    "                                ui-mask=\"?9?9?9-?9?9?9-?9?9?9?9\"\n" +
    "                                model-view-value=\"true\"\n" +
    "                                ng-maxlength=\"100\">\n" +
    "                            <div class=\"help-block\"\n" +
    "                                ng-messages=\"referralForm.mobile_phone_number.$error\"\n" +
    "                                ng-if=\"referralForm.mobile_phone_number.$touched && referralForm.mobile_phone_number.$invalid\">\n" +
    "                                <p ng-message=\"maxlength\" class=\"text-danger\">\n" +
    "                                    Maximum by 100 characters!\n" +
    "                                </p>\n" +
    "                            </div>\n" +
    "                        </div>\n" +
    "                    </div>\n" +
    "                    <div class=\"form-group\">\n" +
    "                        <label class=\"control-label col-sm-3\" for=\"date_service\">\n" +
    "                            Date service is needed</label>\n" +
    "                        <div class=\"col-sm-3\">\n" +
    "                           <input type=\"text\" class=\"form-control\"\n" +
    "                                name=\"date_service\"\n" +
    "                                uib-datepicker-popup=\"MM-dd-yyyy\"\n" +
    "                                datepicker-auto-open\n" +
    "                                ng-model=\"referral.date_service\"\n" +
    "                                placeholder=\"mm-dd-yyyy\"/>\n" +
    "                            <div class=\"help-block\"\n" +
    "                                ng-messages=\"referralForm.date_service.$error\"\n" +
    "                                ng-if=\"referralForm.date_service.$touched && referralForm.date_service.$invalid\">\n" +
    "                                <p ng-message=\"date\" class=\"text-danger\">\n" +
    "                                    The date is not valid!\n" +
    "                                </p>\n" +
    "                            </div>\n" +
    "                        </div>\n" +
    "                    </div>\n" +
    "                    <div class=\"form-group\">\n" +
    "                        <label class=\"control-label col-sm-3\" for=\"type_of_service_description\">Describe the type of<br>tree service you require</label>\n" +
    "                        <div class=\"col-sm-8\">\n" +
    "                            <textarea class=\"form-control\" rows=\"5\" name=\"type_of_service_description\"\n" +
    "                                ng-model=\"referral.type_of_service_description\"\n" +
    "                                ng-maxlength=\"10000\">\n" +
    "                            </textarea>\n" +
    "                            <div class=\"help-block\"\n" +
    "                                ng-messages=\"referralForm.type_of_service_description.$error\"\n" +
    "                                ng-if=\"referralForm.type_of_service_description.$touched && referralForm.type_of_service_description.$invalid\">\n" +
    "                                <p ng-message=\"maxlength\" class=\"text-danger\">\n" +
    "                                    Maximum by 10000 characters!\n" +
    "                                </p>\n" +
    "                            </div>\n" +
    "                        </div>\n" +
    "                    </div>\n" +
    "                </div>\n" +
    "            </div>\n" +
    "        </div>\n" +
    "        <div class=\"form-group\">\n" +
    "            <div class=\"text-center\">\n" +
    "              <button type=\"submit\" class=\"btn btn-primary\" ng-disabled=\"referralForm.$invalid || $root.isBusy\">Save</button>\n" +
    "            </div>\n" +
    "        </div>\n" +
    "    </form>\n" +
    "</div>\n"
  );


  $templateCache.put('templates/job-request/list.html',
    "<div id=\"list-referral\" ng-controller=\"ListJobRequestCtrl\">\n" +
    "    <div class=\"row\" style=\"margin-bottom: 10px;\">\n" +
    "        <div class=\"col-md-4 col-xs-12\">\n" +
    "            <a href=\"#/new-job-request\" class=\"btn btn-success\"\n" +
    "              ng-if=\"::hasCap('erpp_create_job_requests')\">\n" +
    "              Add new\n" +
    "            </a>\n" +
    "        </div>\n" +
    "        <div class=\"col-md-8 col-xs-12\">\n" +
    "            <form name=\"searchReferralForm\" ng-submit=\"searchReferral()\">\n" +
    "                <div class=\"col-md-9 n-p\">\n" +
    "                    <customer-typeahead on-select=\"onSelectCustomer(item)\" ng-model=\"filter.keyword\" placeholder=\"Search by customer name\"></customer-typeahead>\n" +
    "                </div>\n" +
    "                <div class=\"col-md-3 text-right n-p\">\n" +
    "                    <button class=\"btn btn-info\" name=\"search\" type=\"submit\">Search</button>\n" +
    "                    <button class=\"btn btn-default btn-sm\" type=\"button\"\n" +
    "                        ng-click=\"clearSearch()\">\n" +
    "                        Clear\n" +
    "                    </button>\n" +
    "                </div>\n" +
    "            </form>\n" +
    "        </div>\n" +
    "    </div>\n" +
    "    <table class=\"table table-bordered table-hover table-fixed header-fixed\">\n" +
    "        <thead>\n" +
    "          <tr>\n" +
    "            <th>Customer</th>\n" +
    "            <th>Address</th>\n" +
    "            <th style=\"width: 125px;\">Date requested</th>\n" +
    "            <th style=\"width: 140px;\">Phone Number</th>\n" +
    "            <th style=\"width: 150px;\">Estimator Assigned</th>\n" +
    "            <th style=\"width: 100px;\">Date service</th>\n" +
    "            <th style=\"width: 130px;\">Status</th>\n" +
    "            <th style=\"width: 70px;\">Action</th>\n" +
    "          </tr>\n" +
    "        </thead>\n" +
    "        <tbody>\n" +
    "          <tr ng-repeat=\"ref in referrals\">\n" +
    "            <td>\n" +
    "              <a href=\"#/edit-job-request/{{::ref.id}}\" ng-if=\"::hasCap('erpp_edit_job_requests')\"><span>{{::ref.customer_display_name}}</span></a>\n" +
    "              <span ng-if=\"::!hasCap('erpp_edit_job_requests')\">{{::ref.customer_display_name}}</span>\n" +
    "            </td>\n" +
    "            <td class=\"address-cell\" ng-class=\"{'danger': ref.geolocation.is_checked && !ref.geolocation.ok }\">\n" +
    "                <span class=\"glyphicon glyphicon-repeat spin text-warning\"\n" +
    "                    ng-class=\"{'visibility': ref.geolocation.is_checking}\"></span>\n" +
    "                <span class=\"glyphicon glyphicon-ok text-success\"\n" +
    "                    ng-class=\"{'visibility': ref.geolocation.is_checked && ref.geolocation.ok}\"></span>\n" +
    "                <span class=\"glyphicon glyphicon glyphicon-warning-sign text-danger\"\n" +
    "                    ng-class=\"{'visibility': ref.geolocation.is_checked && !ref.geolocation.ok}\"></span>\n" +
    "                <span>{{::ref | referralFullAddress}}</span>\n" +
    "            </td>\n" +
    "            <td><span>{{::ref.date_requested | date:'MM-dd-yyyy'}}</span></td>\n" +
    "            <td><span>{{::ref.primary_phone_number}}</span></td>\n" +
    "            <td><span>{{::ref.estimator_full_name }}</span></td>\n" +
    "            <td><span>{{::ref.date_service | date:'MM-dd-yyyy'}}</span></td>\n" +
    "            <td>\n" +
    "                <select ng-if=\"::hasCap('erpp_edit_job_requests')\"\n" +
    "                    ng-init=\"ref.new_status = ref.status\"\n" +
    "                    ng-model=\"ref.new_status\"\n" +
    "                    ng-options=\"status.value as status.label for status in ::referralStatuses\"\n" +
    "                    ng-change=\"showModalUpdateStatus(ref)\">\n" +
    "                </select>\n" +
    "                <span ng-if=\"::!hasCap('erpp_edit_job_requests')\">{{::ref.status}}</span>\n" +
    "            </td>\n" +
    "            <td class=\"text-center\">\n" +
    "                <div class=\"dropdown\">\n" +
    "                  <button class=\"btn btn-default dropdown-toggle btn-sm\" type=\"button\" data-toggle=\"dropdown\">View\n" +
    "                  <span class=\"caret\"></span></button>\n" +
    "                  <ul class=\"dropdown-menu right-align\">\n" +
    "                    <li ng-if=\"::hasCap('erpp_edit_job_requests')\"><a href=\"#/edit-job-request/{{::ref.id}}\">Edit</a></li>\n" +
    "                    <li ng-if=\"::hasCap('erpp_create_estimates')\"><a href=\"#/new-estimate?ref={{::ref.id}}\">Create estimate</a></li>\n" +
    "                    <li ng-if=\"::hasCap('erpp_print_job_requests')\"><a target=\"_blank\" href=\"{{::$root.baseAPIPath}}&_do=printReferral&id={{ref.id}}\">Print</a></li>\n" +
    "                  </ul>\n" +
    "                </div>\n" +
    "            </td>\n" +
    "          </tr>\n" +
    "        </tbody>\n" +
    "    </table>\n" +
    "  <p ng-if=\"!isBusy && referrals.length == 0\"\n" +
    "    class=\"text-center\">\n" +
    "    No results were found!\n" +
    "  </p>\n" +
    "  <div class=\"row\">\n" +
    "    <div class=\"col-md-8\">\n" +
    "        <erp-pagination></erp-pagination>\n" +
    "    </div>\n" +
    "    <div class=\"col-md-4 text-right\">\n" +
    "        <button type=\"button\" class=\"btn btn-info\"\n" +
    "            title=\"Check geolocation issue for the displaying items\"\n" +
    "            ng-click=\"startCheckGeolocation()\"\n" +
    "            ng-if=\"!isBusy && referrals.length != 0\"\n" +
    "            ng-disabled=\"isCheckingGeoLocation\">\n" +
    "            <span class=\"glyphicon glyphicon-map-marker\"></span> Check for geolocation issue</button>\n" +
    "    </div>\n" +
    "  </div>\n" +
    "    <div class=\"modal fade\" ng-class=\"{'in': showAssignModal}\" ng-style=\"{'display': showAssignModal ? 'block' : 'none'}\">\n" +
    "        <div class=\"modal-dialog\">\n" +
    "          <div class=\"modal-content\">\n" +
    "              <div class=\"modal-header\">\n" +
    "                  <h4>Please select route to assign:</h4>\n" +
    "              </div>\n" +
    "              <form role=\"form\" name=\"assignReferralForm\">\n" +
    "                  <div class=\"modal-body\">\n" +
    "                    <div class=\"form-group\">\n" +
    "                      <select\n" +
    "                        class=\"form-control\"\n" +
    "                        ng-model=\"currentReferral.route_id\"\n" +
    "                        ng-required=\"true\"\n" +
    "                        ng-options=\"route.id as route.label for route in ::routes\">\n" +
    "                      </select>\n" +
    "                    </div>\n" +
    "                  </div>\n" +
    "                  <div class=\"modal-footer\">\n" +
    "                    <button class=\"btn btn-primary\" ng-click=\"updateReferralStatus()\"\n" +
    "                        ng-disabled=\"assignReferralForm.$invalid || $root.isBusy\">Save</button>\n" +
    "                    <button class=\"btn\" type=\"button\" ng-click=\"cancelAssignReferral()\">Cancel</button>\n" +
    "                  </div>\n" +
    "              </form>\n" +
    "          </div>\n" +
    "      </div>\n" +
    "    </div>\n" +
    "</div>\n"
  );


  $templateCache.put('templates/not-authorized.html',
    "<div ng-init=\"$root.pageTitle = ''\">\r" +
    "\n" +
    "    <br>\r" +
    "\n" +
    "    <h3 class=\"text-center text-danger\">You don't have permission to access this page</h3>\r" +
    "\n" +
    "</div>"
  );


  $templateCache.put('templates/not-found.html',
    "<div ng-init=\"$root.pageTitle = ''\" class=\"text-center text-muted\">\n" +
    "    <br>\n" +
    "    <br>\n" +
    "    <h1>404</h1>\n" +
    "    <h3>The page you are looking for not exists or cannot be displayed</h3>\n" +
    "    <p>\n" +
    "        It might you do not have permission to see the page, or something is already been deleted.\n" +
    "    </p>\n" +
    "</div>\n"
  );


  $templateCache.put('templates/quickbooks-sync.html',
    "<div>\n" +
    "    <div>\n" +
    "      <!-- Nav tabs -->\n" +
    "      <ul class=\"nav nav-tabs\">\n" +
    "        <li><a href=\"#company-info\">Company Info</a></li>\n" +
    "        <li><a href=\"#settings\">Settings</a></li>\n" +
    "        <li class=\"active\"><a href=\"#quickbooks-sync\">Quickbooks Synchronize</a></li>\n" +
    "      </ul>\n" +
    "      <!-- Tab panes -->\n" +
    "      <div class=\"tab-content\">\n" +
    "        <!-- Content of Sync -->\n" +
    "        <div role=\"tabpanel\" class=\"tab-pane active\" id=\"gmap_api\" ng-controller=\"QuickbooksSyncCtrl\">\n" +
    "            <div class=\"row\">\n" +
    "                    <!-- Content left of Company Info-->\n" +
    "                <div class=\"col-md-6\">\n" +
    "                    <div class=\"space_nomal\">\n" +
    "                        <legend>Information </legend>\n" +
    "                        <ul>\n" +
    "                            <li>Consumer Key: <span class=\"text-info\" ng-bind=\"info.qbo_consumer_key\"></span></li>\n" +
    "                            <li>Consumer Secret: <span class=\"text-info\" ng-bind=\"info.qbo_consumer_secret\"></span></li>\n" +
    "                            <li>Company ID: <span class=\"text-info\" ng-bind=\"info.qbo_company_id\"></span></li>\n" +
    "                            <li>OAuth tokens expiration: <span class=\"text-info\" ng-bind=\"info.qbo_token_expires_at\"></span></li>\n" +
    "                        </ul>\n" +
    "                        <button class=\"btn btn-danger\" ng-click=\"reconnect()\">Reset & Reconnect</button>\n" +
    "                    </div>\n" +
    "                </div>\n" +
    "\n" +
    "                <div class=\"col-md-6\">\n" +
    "                    <div class=\"space_nomal\">\n" +
    "                        <legend>Synchronize</legend>\n" +
    "                        <div class=\"col-md-12\">\n" +
    "                            Last synced: <time-ago ng-if=\"info.last_sync_at\" from-time='{{ info.last_sync_at }}'></time-ago>\n" +
    "                            <br>\n" +
    "                            <br>\n" +
    "                            <button type=\"button\" class=\"btn btn-success\" ng-click=\"startSync()\" ng-disabled=\"isBusy\">Sync Now</button>\n" +
    "                        </div>\n" +
    "                    </div>\n" +
    "                    <div class=\"row\">\n" +
    "                        <div class=\"col-md-12\">\n" +
    "                            <div class=\"space_nomal\">\n" +
    "                                <legend>Sync history</legend>\n" +
    "                                <br>\n" +
    "                                <table class=\"table table-bordered\">\n" +
    "                                    <tbody>\n" +
    "                                        <tr>\n" +
    "                                            <th style=\"width: 100px\">\n" +
    "                                                Status\n" +
    "                                            </th>\n" +
    "                                            <th style=\"width: 185px\">\n" +
    "                                                Start at\n" +
    "                                            </th>\n" +
    "                                            <th>\n" +
    "                                                Note\n" +
    "                                            </th>\n" +
    "                                        </tr>\n" +
    "                                        <tr ng-repeat=\"sync in info.sync_histories\" ng-class=\"{'text-danger': sync.status == 'Error', 'text-success': sync.status == 'Success',  'text-warning': sync.status == 'In-progress'}\">\n" +
    "                                            <td>\n" +
    "                                                {{::sync.status}}\n" +
    "                                            </td>\n" +
    "                                            <td>\n" +
    "                                                {{::sync.start_at}} UTC\n" +
    "                                            </td>\n" +
    "                                            <td>\n" +
    "                                                <p style=\"word-break: break-word;\">\n" +
    "                                                    <text-truncate text=\"sync.note\" limit=\"200\"></text-truncate>\n" +
    "                                                </p>\n" +
    "                                            </td>\n" +
    "                                        </tr>\n" +
    "                                    </tbody>\n" +
    "                                </table>\n" +
    "                            </div>\n" +
    "                        </div>\n" +
    "                    </div>\n" +
    "                </div>\n" +
    "            </div>\n" +
    "        </div>\n" +
    "        <!-- End Content of Sync-->\n" +
    "      </div>\n" +
    "    </div>\n" +
    "</div>\n"
  );


  $templateCache.put('templates/settings.html',
    "<div>\n" +
    "    <div>\n" +
    "      <!-- Nav tabs -->\n" +
    "      <ul class=\"nav nav-tabs\">\n" +
    "        <li><a href=\"#company-info\">Company Info</a></li>\n" +
    "        <li class=\"active\"><a href=\"#settings\">Settings</a></li>\n" +
    "        <li><a href=\"#quickbooks-sync\">Quickbooks Synchronize</a></li>\n" +
    "      </ul>\n" +
    "      <!-- Tab panes -->\n" +
    "      <div class=\"tab-content\">\n" +
    "        <!-- Content of Sync -->\n" +
    "        <div role=\"tabpanel\" class=\"tab-pane active\" ng-controller=\"SettingsCtrl\">\n" +
    "            <div class=\"row\">\n" +
    "                <form class=\"form-horizontal\" method=\"post\" ng-submit=\"submitForm()\" novalidate autocomplete=\"off\">\n" +
    "                    <!-- Content left of Company Info-->\n" +
    "                    <div class=\"col-sm-6\">\n" +
    "                        <div class=\"space_nomal\">\n" +
    "                            <div class=\"form-group\">\n" +
    "                                <label class=\"control-label col-sm-4\">Gmap API Key</label>\n" +
    "                                <div class=\"col-sm-8\">\n" +
    "                                    <input class=\"form-control\"\n" +
    "                                        type=\"text\"\n" +
    "                                        name=\"gmap_api_key\"\n" +
    "                                        ng-model=\"setting.gmap_api_key\">\n" +
    "                                </div>\n" +
    "                            </div>\n" +
    "                            <div class=\"form-group\">\n" +
    "                                <label class=\"control-label col-sm-4\"\n" +
    "                                for=\"gmail_username\">Gmail Username</label>\n" +
    "                                <div class=\"col-sm-8\">\n" +
    "                                    <input class=\"form-control\" type=\"text\"\n" +
    "                                        name=\"gmail_username\"\n" +
    "                                        autocomplete=\"false\"\n" +
    "                                        ng-model=\"setting.gmail_username\">\n" +
    "                                </div>\n" +
    "                            </div>\n" +
    "                            <div class=\"form-group\">\n" +
    "                                <input style=\"display:none\" type=\"password\" name=\"fakepasswordremembered\"/>\n" +
    "                                <label class=\"control-label col-sm-4\"\n" +
    "                                for=\"gmail_password\">Gmail Password</label>\n" +
    "                                <div class=\"col-sm-8\">\n" +
    "                                    <input class=\"form-control\" type=\"password\"\n" +
    "                                        name=\"gmail_password\"\n" +
    "                                        autocomplete=\"false\"\n" +
    "                                        ng-model=\"setting.gmail_password\">\n" +
    "                                </div>\n" +
    "                            </div>\n" +
    "                            <div class=\"form-group\">\n" +
    "                                <label class=\"control-label col-sm-4\"\n" +
    "                                for=\"gmail_server\">Gmail Server</label>\n" +
    "                                <div class=\"col-sm-8\">\n" +
    "                                    <input class=\"form-control\" type=\"text\"\n" +
    "                                    name=\"gmail_server\"\n" +
    "                                    ng-model=\"setting.gmail_server\">\n" +
    "                                </div>\n" +
    "                            </div>\n" +
    "                            <div class=\"form-group\">\n" +
    "                                <label class=\"control-label col-sm-4\"\n" +
    "                                for=\"gmail_port\">Gmail Port</label>\n" +
    "                                <div class=\"col-sm-8\">\n" +
    "                                    <input class=\"form-control\" type=\"text\"\n" +
    "                                    name=\"gmail_port\"\n" +
    "                                    ng-model=\"setting.gmail_port\">\n" +
    "                                </div>\n" +
    "                            </div>\n" +
    "                            <div class=\"form-group\">\n" +
    "                                <div class=\"col-sm-8 col-sm-offset-4\">\n" +
    "                                    <button type=\"submit\" class=\"btn btn-primary\">Save</button>\n" +
    "                                    <button type=\"button\" ng-click=\"sendTestEmail()\" class=\"btn btn-default\">Send a test email\n" +
    "                                    </button>\n" +
    "                                </div>\n" +
    "                            </div>\n" +
    "                        </div>\n" +
    "                    </div>\n" +
    "\n" +
    "                <form>\n" +
    "            </div>\n" +
    "        </div>\n" +
    "        <!-- End Content of Sync-->\n" +
    "      </div>\n" +
    "    </div>\n" +
    "</div>\n"
  );

}]);
