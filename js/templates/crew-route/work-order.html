<div ng-controller="WorkOrderCtrl">
    <button type="button" ng-click="print()" class="btn btn-primary hide-print pull-right">Print</button>
    <div id="form-work-order">
        <h3 class="text-center legend"><b>Work Order</b></h3>
        <div class="route-title">
            <strong>Route Name:</strong> {{ ::route.title}} <small><a class="hide-print" href="#/edit-crew-route/{{:: route.id}}">(Edit)</a></small>
        </div>
        <div class="equipment-list">
            <strong>Equipment list:</strong><span class="print-only" ng-bind="route.equipment_list"></span>
            <input type="text" class="hide-print input-equipment-list" ng-model="route.equipment_list">
        </div>
        <div class="start-time">
            <strong>Start time:</strong> <span ng-bind="route.startTime" class="print-only"></span>
            <input type="text" class="input-time hide-print" ng-model="route.startTime">
        </div>
        <div class="estimates">
            <ul class="list-unstyled">
                <li ng-repeat="est in route.assignedEstimates">
                    <p>
                        <strong>ETA:</strong> <span ng-bind="est.time" class="print-only"></span>
                        <input type="text" class="input-time hide-print" ng-model="est.time">
                        <br>
                        <span>Estimate #{{ ::est.doc_number}}</span>
                        <br>
                        Estimator: {{est.estimators.join(', ')}}
                    </p>
                    <p>
                        <strong>Job Information:</strong>
                        <br>
                        {{ ::est.job_customer_display_name }}
                        <br>
                        {{ ::est | estimateJobFullAddress }} {{ ::est.job_country}}
                    </p>
                    <p>
                        <strong>Location Notes:</strong>
                        <br>
                        {{ ::est.location_notes}}
                    </p>
                    <p>
                        <strong>Product and Services:</strong>
                    </p>
                    <ul class="list-unstyled lines">
                        <li ng-repeat="line in est.lines" ng-init="line.visible = true"
                            class="worker-order-line"
                            ng-class="{'line-invisible': !line.visible, 'hide-print': !line.visible}">
                            <div ng-if="!line.is_empty">
                                <input
                                    type="checkbox"
                                        ng-model="line.visible"
                                        class="hide-print" title="Hide/Show on print">
                                <input class="hide-print input-worker-order-line" type="text"
                                    ng-if="!line.is_empty"
                                    ng-readonly="!line.visible"
                                    ng-model="line.worker_order_line">
                                <span class="print-only" ng-bind="line.worker_order_line"></span>
                            </div>
                        </li>
                    </ul>
                </li>
            </ul>
        </div>
    </div>
    <div class="row">
        <div class="col-md-12">
            <button type="button" ng-click="print()" class="hide-print btn btn-primary pull-right">Print</button>
        </div>
    </div>
</div>
